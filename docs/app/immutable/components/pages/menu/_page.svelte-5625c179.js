import{S as ze,i as Ce,s as Se,Q as re,q,R as ie,m as g,r as J,h,n as c,b as Z,C as a,f as U,g as ve,d as me,t as H,O as ge,w as oe,x as ce,p as Oe,y as ue,u as Re,z as fe,k as E,a as A,L as Ae,l as $,c as M,D as ee,o as Me,ad as Pe,E as Ne}from"../../../chunks/index-bc12511b.js";import{C as pe}from"../../../chunks/cake-27718a36.js";import{D as Fe}from"../../../chunks/default-cakes-bde73a84.js";import{g as Le}from"../../../chunks/bake-url-dd64d6a1.js";import{d as qe}from"../../../chunks/download-SVG-dd049a32.js";function De(n,e,r){const l=n.slice();return l[2]=e[r],l[4]=r,l}function Ie(n){let e,r,l,_=n[2].name+"",u,p;return r=new pe({props:{cake:n[2],wrap:!1}}),{c(){e=re("g"),oe(r.$$.fragment),l=re("text"),u=q(_),this.h()},l(s){e=ie(s,"g",{transform:!0});var t=g(e);ce(r.$$.fragment,t),l=ie(t,"text",{x:!0,y:!0,style:!0});var b=g(l);u=J(b,_),b.forEach(h),t.forEach(h),this.h()},h(){c(l,"x","340"),c(l,"y","150"),Oe(l,"font-size","15mm"),c(e,"transform","translate(600, "+(200+n[4]*300)+")")},m(s,t){Z(s,e,t),ue(r,e,null),a(e,l),a(l,u),p=!0},p(s,t){const b={};t&1&&(b.cake=s[2]),r.$set(b),(!p||t&1)&&_!==(_=s[2].name+"")&&Re(u,_)},i(s){p||(U(r.$$.fragment,s),p=!0)},o(s){H(r.$$.fragment,s),p=!1},d(s){s&&h(e),fe(r)}}}function Je(n){let e,r,l,_,u,p,s=n[0],t=[];for(let f=0;f<s.length;f+=1)t[f]=Ie(De(n,s,f));const b=f=>H(t[f],1,1,()=>{t[f]=null});return{c(){e=re("svg"),r=re("style"),l=q(`text {
			font-family: sans-serif;
		}
	`);for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=ie(f,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var d=g(e);r=ie(d,"style",{});var v=g(r);l=J(v,`text {
			font-family: sans-serif;
		}
	`),v.forEach(h);for(let y=0;y<t.length;y+=1)t[y].l(d);d.forEach(h),this.h()},h(){c(e,"id",n[1]),c(e,"width","210mm"),c(e,"height",_=30+n[0].length*30+"mm"),c(e,"viewBox",u="0 0 2100 "+(300+n[0].length*300)),c(e,"version","1.1"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"xml:space","preserve")},m(f,d){Z(f,e,d),a(e,r),a(r,l);for(let v=0;v<t.length;v+=1)t[v].m(e,null);p=!0},p(f,[d]){if(d&1){s=f[0];let v;for(v=0;v<s.length;v+=1){const y=De(f,s,v);t[v]?(t[v].p(y,d),U(t[v],1)):(t[v]=Ie(y),t[v].c(),U(t[v],1),t[v].m(e,null))}for(ve(),v=s.length;v<t.length;v+=1)b(v);me()}(!p||d&2)&&c(e,"id",f[1]),(!p||d&1&&_!==(_=30+f[0].length*30+"mm"))&&c(e,"height",_),(!p||d&1&&u!==(u="0 0 2100 "+(300+f[0].length*300)))&&c(e,"viewBox",u)},i(f){if(!p){for(let d=0;d<s.length;d+=1)U(t[d]);p=!0}},o(f){t=t.filter(Boolean);for(let d=0;d<t.length;d+=1)H(t[d]);p=!1},d(f){f&&h(e),ge(t,f)}}}function Xe(n,e,r){let{printList:l=[]}=e,{id:_="print"}=e;return n.$$set=u=>{"printList"in u&&r(0,l=u.printList),"id"in u&&r(1,_=u.id)},[l,_]}class Ge extends ze{constructor(e){super(),Ce(this,e,Xe,Je,Se,{printList:0,id:1})}}const de="$P$";const{document:_e}=Pe;function ye(n,e,r){const l=n.slice();return l[12]=e[r],l}function Ve(n,e,r){const l=n.slice();return l[12]=e[r],l}function Be(n){let e,r,l,_,u,p,s,t=n[12].name+"",b,f,d,v,y,T,k,i,B,D,O,R,z,Q,W;u=new pe({props:{cake:n[12]}});function F(...I){return n[5](n[12],...I)}function K(...I){return n[6](n[12],...I)}return{c(){e=E("div"),r=E("div"),l=E("button"),_=E("div"),oe(u.$$.fragment),p=A(),s=E("div"),b=q(t),f=A(),d=E("br"),v=A(),y=E("a"),T=E("button"),k=q("Edit"),B=A(),D=E("button"),O=q("Delete"),R=A(),this.h()},l(I){e=$(I,"DIV",{class:!0});var N=g(e);r=$(N,"DIV",{class:!0});var P=g(r);l=$(P,"BUTTON",{class:!0});var Y=g(l);_=$(Y,"DIV",{class:!0});var x=g(_);ce(u.$$.fragment,x),x.forEach(h),Y.forEach(h),p=M(P),s=$(P,"DIV",{class:!0});var C=g(s);b=J(C,t),f=M(C),d=$(C,"BR",{}),v=M(C),y=$(C,"A",{class:!0,href:!0});var L=g(y);T=$(L,"BUTTON",{});var te=g(T);k=J(te,"Edit"),te.forEach(h),L.forEach(h),B=M(C),D=$(C,"BUTTON",{class:!0});var X=g(D);O=J(X,"Delete"),X.forEach(h),C.forEach(h),P.forEach(h),R=M(N),N.forEach(h),this.h()},h(){c(_,"class","cake"),c(l,"class","cakeRow__button flat svelte-18z9bi0"),c(y,"class","icobutton flat"),c(y,"href",i=Le(n[12])),c(D,"class",""),c(s,"class","label svelte-18z9bi0"),c(r,"class","cakeRow__item svelte-18z9bi0"),c(e,"class","cakeRow")},m(I,N){Z(I,e,N),a(e,r),a(r,l),a(l,_),ue(u,_,null),a(r,p),a(r,s),a(s,b),a(s,f),a(s,d),a(s,v),a(s,y),a(y,T),a(T,k),a(s,B),a(s,D),a(D,O),a(e,R),z=!0,Q||(W=[ee(l,"click",F),ee(D,"click",K)],Q=!0)},p(I,N){n=I;const P={};N&1&&(P.cake=n[12]),u.$set(P),(!z||N&1)&&t!==(t=n[12].name+"")&&Re(b,t),(!z||N&1&&i!==(i=Le(n[12])))&&c(y,"href",i)},i(I){z||(U(u.$$.fragment,I),z=!0)},o(I){H(u.$$.fragment,I),z=!1},d(I){I&&h(e),fe(u),Q=!1,Ne(W)}}}function Te(n){let e,r,l,_,u,p,s,t,b,f,d,v,y;u=new pe({props:{cake:n[12]}});function T(...i){return n[8](n[12],...i)}function k(...i){return n[9](n[12],...i)}return{c(){e=E("div"),r=E("div"),l=E("button"),_=E("div"),oe(u.$$.fragment),p=A(),s=E("div"),t=E("textarea"),f=A(),this.h()},l(i){e=$(i,"DIV",{class:!0});var B=g(e);r=$(B,"DIV",{class:!0});var D=g(r);l=$(D,"BUTTON",{class:!0});var O=g(l);_=$(O,"DIV",{class:!0});var R=g(_);ce(u.$$.fragment,R),R.forEach(h),O.forEach(h),p=M(D),s=$(D,"DIV",{class:!0});var z=g(s);t=$(z,"TEXTAREA",{cols:!0,class:!0}),g(t).forEach(h),z.forEach(h),D.forEach(h),f=M(B),B.forEach(h),this.h()},h(){c(_,"class","cake"),c(l,"class","cakeRow__button superflat flat svelte-18z9bi0"),c(t,"cols","13"),c(t,"class","cakeRow__input svelte-18z9bi0"),t.value=b=n[12].name,c(s,"class","label svelte-18z9bi0"),c(r,"class","cakeRow__item svelte-18z9bi0"),c(e,"class","cakeRow")},m(i,B){Z(i,e,B),a(e,r),a(r,l),a(l,_),ue(u,_,null),a(r,p),a(r,s),a(s,t),a(e,f),d=!0,v||(y=[ee(l,"click",T),ee(t,"change",k)],v=!0)},p(i,B){n=i;const D={};B&2&&(D.cake=n[12]),u.$set(D),(!d||B&2&&b!==(b=n[12].name))&&(t.value=b)},i(i){d||(U(u.$$.fragment,i),d=!0)},o(i){H(u.$$.fragment,i),d=!1},d(i){i&&h(e),fe(u),v=!1,Ne(y)}}}function He(n){let e,r,l,_,u,p,s,t,b,f,d,v,y,T,k,i,B,D,O,R,z,Q,W,F,K,I,N,P,Y,x,C=n[0],L=[];for(let o=0;o<C.length;o+=1)L[o]=Be(Ve(n,C,o));const te=o=>H(L[o],1,1,()=>{L[o]=null});I=new Ge({props:{printList:n[1]}});let X=n[1],V=[];for(let o=0;o<X.length;o+=1)V[o]=Te(ye(n,X,o));const Ue=o=>H(V[o],1,1,()=>{V[o]=null});return{c(){e=E("meta"),r=A(),l=E("section"),_=E("h1"),u=q("Menu generator"),p=A(),s=E("div"),t=E("div"),b=E("div"),f=q(`Stored in memory:
				`),d=E("div"),v=q("(Click on imago to select it for printing)"),y=A(),T=E("div");for(let o=0;o<L.length;o+=1)L[o].c();k=A(),i=E("div"),B=E("div"),D=E("button"),O=q("Download"),R=q(`
				Selected for export:
				`),z=E("div"),Q=q("(you can edit label of cakes here)"),W=A(),F=E("div"),K=E("div"),oe(I.$$.fragment),N=A();for(let o=0;o<V.length;o+=1)V[o].c();this.h()},l(o){const w=Ae("svelte-4ig4ka",_e.head);e=$(w,"META",{name:!0,content:!0}),w.forEach(h),r=M(o),l=$(o,"SECTION",{class:!0});var S=g(l);_=$(S,"H1",{});var m=g(_);u=J(m,"Menu generator"),m.forEach(h),p=M(S),s=$(S,"DIV",{class:!0});var G=g(s);t=$(G,"DIV",{class:!0});var le=g(t);b=$(le,"DIV",{class:!0});var he=g(b);f=J(he,`Stored in memory:
				`),d=$(he,"DIV",{class:!0});var ke=g(d);v=J(ke,"(Click on imago to select it for printing)"),ke.forEach(h),he.forEach(h),y=M(le),T=$(le,"DIV",{class:!0});var be=g(T);for(let j=0;j<L.length;j+=1)L[j].l(be);be.forEach(h),le.forEach(h),k=M(G),i=$(G,"DIV",{class:!0});var ne=g(i);B=$(ne,"DIV",{class:!0});var se=g(B);D=$(se,"BUTTON",{style:!0});var Ee=g(D);O=J(Ee,"Download"),Ee.forEach(h),R=J(se,`
				Selected for export:
				`),z=$(se,"DIV",{class:!0});var $e=g(z);Q=J($e,"(you can edit label of cakes here)"),$e.forEach(h),se.forEach(h),W=M(ne),F=$(ne,"DIV",{class:!0});var ae=g(F);K=$(ae,"DIV",{class:!0});var we=g(K);ce(I.$$.fragment,we),we.forEach(h),N=M(ae);for(let j=0;j<V.length;j+=1)V[j].l(ae);ae.forEach(h),ne.forEach(h),G.forEach(h),S.forEach(h),this.h()},h(){_e.title="Menu",c(e,"name","description"),c(e,"content","Menu generator"),c(d,"class","tiny"),c(b,"class","menu-header"),c(T,"class","menu-list svelte-18z9bi0"),c(t,"class","cakeList svelte-18z9bi0"),Oe(D,"float","right"),c(z,"class","tiny"),c(B,"class","menu-header"),c(K,"class","preview svelte-18z9bi0"),c(F,"class","menu-list svelte-18z9bi0"),c(i,"class","cakeList printList svelte-18z9bi0"),c(s,"class","menu svelte-18z9bi0"),c(l,"class","svelte-18z9bi0")},m(o,w){a(_e.head,e),Z(o,r,w),Z(o,l,w),a(l,_),a(_,u),a(l,p),a(l,s),a(s,t),a(t,b),a(b,f),a(b,d),a(d,v),a(t,y),a(t,T);for(let S=0;S<L.length;S+=1)L[S].m(T,null);a(s,k),a(s,i),a(i,B),a(B,D),a(D,O),a(B,R),a(B,z),a(z,Q),a(i,W),a(i,F),a(F,K),ue(I,K,null),a(F,N);for(let S=0;S<V.length;S+=1)V[S].m(F,null);P=!0,Y||(x=ee(D,"click",n[7]),Y=!0)},p(o,[w]){if(w&25){C=o[0];let m;for(m=0;m<C.length;m+=1){const G=Ve(o,C,m);L[m]?(L[m].p(G,w),U(L[m],1)):(L[m]=Be(G),L[m].c(),U(L[m],1),L[m].m(T,null))}for(ve(),m=C.length;m<L.length;m+=1)te(m);me()}const S={};if(w&2&&(S.printList=o[1]),I.$set(S),w&22){X=o[1];let m;for(m=0;m<X.length;m+=1){const G=ye(o,X,m);V[m]?(V[m].p(G,w),U(V[m],1)):(V[m]=Te(G),V[m].c(),U(V[m],1),V[m].m(F,null))}for(ve(),m=X.length;m<V.length;m+=1)Ue(m);me()}},i(o){if(!P){for(let w=0;w<C.length;w+=1)U(L[w]);U(I.$$.fragment,o);for(let w=0;w<X.length;w+=1)U(V[w]);P=!0}},o(o){L=L.filter(Boolean);for(let w=0;w<L.length;w+=1)H(L[w]);H(I.$$.fragment,o),V=V.filter(Boolean);for(let w=0;w<V.length;w+=1)H(V[w]);P=!1},d(o){h(e),o&&h(r),o&&h(l),ge(L,o),fe(I),ge(V,o),Y=!1,x()}}}function Ke(n,e){return(n.name??"")>(e.name??"")?1:-1}function Qe(n,e){return(n.printOrder??0)>(e.printOrder??1)?1:-1}function je(n,e,r){let l,_=[],u=[];const p=(k,i)=>{l&&(l.setItem(`${k.name}${i?de:""}`,JSON.stringify({...k,printOrder:i})),b())},s=k=>{var i;p(k,(((i=u.at(-1))==null?void 0:i.printOrder)??0)+1)},t=(k,i=!1)=>{l.removeItem(`${k.name}${i?de:""}`),b()},b=()=>{if(!l)return;l.length==0&&Fe.forEach(i=>p(i,0));const k=new Array(l.length).fill("").reduce((i,B,D)=>{const O=l.key(D),R=JSON.parse(l.getItem(O)??"");return O.includes(de)?{cakeList:i.cakeList,printList:[...i.printList,R]}:{cakeList:[...i.cakeList,R],printList:i.printList}},{cakeList:[],printList:[]});r(0,_=k.cakeList.sort(Ke)),r(1,u=k.printList.sort(Qe))};return Me(()=>{typeof localStorage<"u"&&(l=localStorage,b())}),[_,u,p,s,t,(k,i)=>s(k),(k,i)=>t(k,!1),k=>qe(document.getElementById("print"),"byMona-menu.svg"),(k,i)=>t(k,!0),(k,i)=>{t(k,!0),p({...k,name:i.currentTarget.value},k.printOrder??0)}]}class tt extends ze{constructor(e){super(),Ce(this,e,je,He,Se,{})}}export{tt as default};
