import{S as ze,i as Ce,s as Se,R as re,q,T as ie,m as p,r as J,h as f,n as o,b as Z,C as r,f as M,g as ve,d as me,t as Q,O as ge,w as oe,x as ce,p as Oe,y as ue,u as Re,z as fe,k as w,a as U,L as Fe,l as y,c as A,D as ee,o as qe,ad as Je,M as Ne,Q as Me,E as Ue}from"../../../chunks/index-77a6002e.js";import{C as pe}from"../../../chunks/cake-08ee7f2f.js";import{D as Xe}from"../../../chunks/default-cakes-ecaf8db4.js";import{g as ye}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Ge}from"../../../chunks/download-SVG-dd049a32.js";import{f as Ae}from"../../../chunks/index-8d3e60b6.js";function Le(n,e,a){const t=n.slice();return t[2]=e[a],t[4]=a,t}function De(n){let e,a,t,h=n[2].name+"",c,k;return a=new pe({props:{cake:n[2],wrap:!1}}),{c(){e=re("g"),oe(a.$$.fragment),t=re("text"),c=q(h),this.h()},l(s){e=ie(s,"g",{transform:!0});var l=p(e);ce(a.$$.fragment,l),t=ie(l,"text",{x:!0,y:!0,style:!0});var E=p(t);c=J(E,h),E.forEach(f),l.forEach(f),this.h()},h(){o(t,"x","340"),o(t,"y","150"),Oe(t,"font-size","15mm"),o(e,"transform","translate(600, "+(200+n[4]*300)+")")},m(s,l){Z(s,e,l),ue(a,e,null),r(e,t),r(t,c),k=!0},p(s,l){const E={};l&1&&(E.cake=s[2]),a.$set(E),(!k||l&1)&&h!==(h=s[2].name+"")&&Re(c,h)},i(s){k||(M(a.$$.fragment,s),k=!0)},o(s){Q(a.$$.fragment,s),k=!1},d(s){s&&f(e),fe(a)}}}function He(n){let e,a,t,h,c,k,s=n[0],l=[];for(let u=0;u<s.length;u+=1)l[u]=De(Le(n,s,u));const E=u=>Q(l[u],1,1,()=>{l[u]=null});return{c(){e=re("svg"),a=re("style"),t=q(`text {
			font-family: sans-serif;
		}
	`);for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){e=ie(u,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var _=p(e);a=ie(_,"style",{});var d=p(a);t=J(d,`text {
			font-family: sans-serif;
		}
	`),d.forEach(f);for(let V=0;V<l.length;V+=1)l[V].l(_);_.forEach(f),this.h()},h(){o(e,"id",n[1]),o(e,"width","210mm"),o(e,"height",h=30+n[0].length*30+"mm"),o(e,"viewBox",c="0 0 2100 "+(300+n[0].length*300)),o(e,"version","1.1"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"xml:space","preserve")},m(u,_){Z(u,e,_),r(e,a),r(a,t);for(let d=0;d<l.length;d+=1)l[d].m(e,null);k=!0},p(u,[_]){if(_&1){s=u[0];let d;for(d=0;d<s.length;d+=1){const V=Le(u,s,d);l[d]?(l[d].p(V,_),M(l[d],1)):(l[d]=De(V),l[d].c(),M(l[d],1),l[d].m(e,null))}for(ve(),d=s.length;d<l.length;d+=1)E(d);me()}(!k||_&2)&&o(e,"id",u[1]),(!k||_&1&&h!==(h=30+u[0].length*30+"mm"))&&o(e,"height",h),(!k||_&1&&c!==(c="0 0 2100 "+(300+u[0].length*300)))&&o(e,"viewBox",c)},i(u){if(!k){for(let _=0;_<s.length;_+=1)M(l[_]);k=!0}},o(u){l=l.filter(Boolean);for(let _=0;_<l.length;_+=1)Q(l[_]);k=!1},d(u){u&&f(e),ge(l,u)}}}function Ke(n,e,a){let{printList:t=[]}=e,{id:h="print"}=e;return n.$$set=c=>{"printList"in c&&a(0,t=c.printList),"id"in c&&a(1,h=c.id)},[t,h]}class Qe extends ze{constructor(e){super(),Ce(this,e,Ke,He,Se,{printList:0,id:1})}}const he="$P$";const{document:_e}=Je;function Ie(n,e,a){const t=n.slice();return t[12]=e[a],t[14]=a,t}function Ve(n,e,a){const t=n.slice();return t[12]=e[a],t[14]=a,t}function Te(n){let e,a,t,h,c,k,s,l=n[12].name+"",E,u,_,d,V,z,b,v,$,D,B,O,R,N,W,P;c=new pe({props:{cake:n[12]}});function j(...T){return n[5](n[12],...T)}function X(...T){return n[6](n[12],...T)}return{c(){e=w("div"),a=w("div"),t=w("button"),h=w("div"),oe(c.$$.fragment),k=U(),s=w("div"),E=q(l),u=U(),_=w("br"),d=U(),V=w("a"),z=w("button"),b=q("Edit"),$=U(),D=w("button"),B=q("Delete"),O=U(),this.h()},l(T){e=y(T,"DIV",{class:!0});var S=p(e);a=y(S,"DIV",{class:!0});var F=p(a);t=y(F,"BUTTON",{class:!0});var x=p(t);h=y(x,"DIV",{class:!0});var G=p(h);ce(c.$$.fragment,G),G.forEach(f),x.forEach(f),k=A(F),s=y(F,"DIV",{class:!0});var g=p(s);E=J(g,l),u=A(g),_=y(g,"BR",{}),d=A(g),V=y(g,"A",{class:!0,href:!0});var te=p(V);z=y(te,"BUTTON",{});var H=p(z);b=J(H,"Edit"),H.forEach(f),te.forEach(f),$=A(g),D=y(g,"BUTTON",{class:!0});var I=p(D);B=J(I,"Delete"),I.forEach(f),g.forEach(f),F.forEach(f),O=A(S),S.forEach(f),this.h()},h(){o(h,"class","cake"),o(t,"class","cakeRow__button flat svelte-18z9bi0"),o(V,"class","icobutton flat"),o(V,"href",v=ye(n[12])),o(D,"class",""),o(s,"class","label svelte-18z9bi0"),o(a,"class","cakeRow__item svelte-18z9bi0"),o(e,"class","cakeRow")},m(T,S){Z(T,e,S),r(e,a),r(a,t),r(t,h),ue(c,h,null),r(a,k),r(a,s),r(s,E),r(s,u),r(s,_),r(s,d),r(s,V),r(V,z),r(z,b),r(s,$),r(s,D),r(D,B),r(e,O),N=!0,W||(P=[ee(t,"click",j),ee(D,"click",X)],W=!0)},p(T,S){n=T;const F={};S&1&&(F.cake=n[12]),c.$set(F),(!N||S&1)&&l!==(l=n[12].name+"")&&Re(E,l),(!N||S&1&&v!==(v=ye(n[12])))&&o(V,"href",v)},i(T){N||(M(c.$$.fragment,T),R||Ne(()=>{R=Me(e,Ae,{y:-50,duration:500,delay:50*n[14]}),R.start()}),N=!0)},o(T){Q(c.$$.fragment,T),N=!1},d(T){T&&f(e),fe(c),W=!1,Ue(P)}}}function Be(n){let e,a,t,h,c,k,s,l,E,u,_,d,V,z;c=new pe({props:{cake:n[12]}});function b(...$){return n[8](n[12],...$)}function v(...$){return n[9](n[12],...$)}return{c(){e=w("div"),a=w("div"),t=w("button"),h=w("div"),oe(c.$$.fragment),k=U(),s=w("div"),l=w("textarea"),u=U(),this.h()},l($){e=y($,"DIV",{class:!0});var D=p(e);a=y(D,"DIV",{class:!0});var B=p(a);t=y(B,"BUTTON",{class:!0});var O=p(t);h=y(O,"DIV",{class:!0});var R=p(h);ce(c.$$.fragment,R),R.forEach(f),O.forEach(f),k=A(B),s=y(B,"DIV",{class:!0});var N=p(s);l=y(N,"TEXTAREA",{cols:!0,class:!0}),p(l).forEach(f),N.forEach(f),B.forEach(f),u=A(D),D.forEach(f),this.h()},h(){o(h,"class","cake"),o(t,"class","cakeRow__button superflat flat svelte-18z9bi0"),o(l,"cols","13"),o(l,"class","cakeRow__input svelte-18z9bi0"),l.value=E=n[12].name,o(s,"class","label svelte-18z9bi0"),o(a,"class","cakeRow__item svelte-18z9bi0"),o(e,"class","cakeRow")},m($,D){Z($,e,D),r(e,a),r(a,t),r(t,h),ue(c,h,null),r(a,k),r(a,s),r(s,l),r(e,u),d=!0,V||(z=[ee(t,"click",b),ee(l,"change",v)],V=!0)},p($,D){n=$;const B={};D&2&&(B.cake=n[12]),c.$set(B),(!d||D&2&&E!==(E=n[12].name))&&(l.value=E)},i($){d||(M(c.$$.fragment,$),_||Ne(()=>{_=Me(e,Ae,{y:-50,duration:500,delay:50*n[14]}),_.start()}),d=!0)},o($){Q(c.$$.fragment,$),d=!1},d($){$&&f(e),fe(c),V=!1,Ue(z)}}}function je(n){let e,a,t,h,c,k,s,l,E,u,_,d,V,z,b,v,$,D,B,O,R,N,W,P,j,X,T,S,F,x,G=n[0],g=[];for(let i=0;i<G.length;i+=1)g[i]=Te(Ve(n,G,i));const te=i=>Q(g[i],1,1,()=>{g[i]=null});X=new Qe({props:{printList:n[1]}});let H=n[1],I=[];for(let i=0;i<H.length;i+=1)I[i]=Be(Ie(n,H,i));const Pe=i=>Q(I[i],1,1,()=>{I[i]=null});return{c(){e=w("meta"),a=U(),t=w("section"),h=w("h1"),c=q("Menu generator"),k=U(),s=w("div"),l=w("div"),E=w("div"),u=q(`Stored in memory:
				`),_=w("div"),d=q("(Click on imago to select it for printing)"),V=U(),z=w("div");for(let i=0;i<g.length;i+=1)g[i].c();b=U(),v=w("div"),$=w("div"),D=w("button"),B=q("Download"),O=q(`
				Selected for export:
				`),R=w("div"),N=q("(you can edit label of cakes here)"),W=U(),P=w("div"),j=w("div"),oe(X.$$.fragment),T=U();for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){const L=Fe("svelte-4ig4ka",_e.head);e=y(L,"META",{name:!0,content:!0}),L.forEach(f),a=A(i),t=y(i,"SECTION",{class:!0});var C=p(t);h=y(C,"H1",{});var m=p(h);c=J(m,"Menu generator"),m.forEach(f),k=A(C),s=y(C,"DIV",{class:!0});var K=p(s);l=y(K,"DIV",{class:!0});var le=p(l);E=y(le,"DIV",{class:!0});var de=p(E);u=J(de,`Stored in memory:
				`),_=y(de,"DIV",{class:!0});var ke=p(_);d=J(ke,"(Click on imago to select it for printing)"),ke.forEach(f),de.forEach(f),V=A(le),z=y(le,"DIV",{class:!0});var be=p(z);for(let Y=0;Y<g.length;Y+=1)g[Y].l(be);be.forEach(f),le.forEach(f),b=A(K),v=y(K,"DIV",{class:!0});var ne=p(v);$=y(ne,"DIV",{class:!0});var ae=p($);D=y(ae,"BUTTON",{style:!0});var Ee=p(D);B=J(Ee,"Download"),Ee.forEach(f),O=J(ae,`
				Selected for export:
				`),R=y(ae,"DIV",{class:!0});var $e=p(R);N=J($e,"(you can edit label of cakes here)"),$e.forEach(f),ae.forEach(f),W=A(ne),P=y(ne,"DIV",{class:!0});var se=p(P);j=y(se,"DIV",{class:!0});var we=p(j);ce(X.$$.fragment,we),we.forEach(f),T=A(se);for(let Y=0;Y<I.length;Y+=1)I[Y].l(se);se.forEach(f),ne.forEach(f),K.forEach(f),C.forEach(f),this.h()},h(){_e.title="Menu",o(e,"name","description"),o(e,"content","Menu generator"),o(_,"class","tiny"),o(E,"class","menu-header"),o(z,"class","menu-list svelte-18z9bi0"),o(l,"class","cakeList svelte-18z9bi0"),Oe(D,"float","right"),o(R,"class","tiny"),o($,"class","menu-header"),o(j,"class","preview svelte-18z9bi0"),o(P,"class","menu-list svelte-18z9bi0"),o(v,"class","cakeList printList svelte-18z9bi0"),o(s,"class","menu svelte-18z9bi0"),o(t,"class","svelte-18z9bi0")},m(i,L){r(_e.head,e),Z(i,a,L),Z(i,t,L),r(t,h),r(h,c),r(t,k),r(t,s),r(s,l),r(l,E),r(E,u),r(E,_),r(_,d),r(l,V),r(l,z);for(let C=0;C<g.length;C+=1)g[C].m(z,null);r(s,b),r(s,v),r(v,$),r($,D),r(D,B),r($,O),r($,R),r(R,N),r(v,W),r(v,P),r(P,j),ue(X,j,null),r(P,T);for(let C=0;C<I.length;C+=1)I[C].m(P,null);S=!0,F||(x=ee(D,"click",n[7]),F=!0)},p(i,[L]){if(L&25){G=i[0];let m;for(m=0;m<G.length;m+=1){const K=Ve(i,G,m);g[m]?(g[m].p(K,L),M(g[m],1)):(g[m]=Te(K),g[m].c(),M(g[m],1),g[m].m(z,null))}for(ve(),m=G.length;m<g.length;m+=1)te(m);me()}const C={};if(L&2&&(C.printList=i[1]),X.$set(C),L&22){H=i[1];let m;for(m=0;m<H.length;m+=1){const K=Ie(i,H,m);I[m]?(I[m].p(K,L),M(I[m],1)):(I[m]=Be(K),I[m].c(),M(I[m],1),I[m].m(P,null))}for(ve(),m=H.length;m<I.length;m+=1)Pe(m);me()}},i(i){if(!S){for(let L=0;L<G.length;L+=1)M(g[L]);M(X.$$.fragment,i);for(let L=0;L<H.length;L+=1)M(I[L]);S=!0}},o(i){g=g.filter(Boolean);for(let L=0;L<g.length;L+=1)Q(g[L]);Q(X.$$.fragment,i),I=I.filter(Boolean);for(let L=0;L<I.length;L+=1)Q(I[L]);S=!1},d(i){f(e),i&&f(a),i&&f(t),ge(g,i),fe(X),ge(I,i),F=!1,x()}}}function We(n,e){return(n.name??"")>(e.name??"")?1:-1}function Ye(n,e){return(n.printOrder??0)>(e.printOrder??1)?1:-1}function Ze(n,e,a){let t,h=[],c=[];const k=(b,v)=>{t&&(t.setItem(`${b.name}${v?he:""}`,JSON.stringify({...b,printOrder:v})),E())},s=b=>{var v;k(b,(((v=c.at(-1))==null?void 0:v.printOrder)??0)+1)},l=(b,v=!1)=>{t.removeItem(`${b.name}${v?he:""}`),E()},E=()=>{if(!t)return;t.length==0&&Xe.forEach(v=>k(v,0));const b=new Array(t.length).fill("").reduce((v,$,D)=>{const B=t.key(D),O=JSON.parse(t.getItem(B)??"");return B.includes(he)?{cakeList:v.cakeList,printList:[...v.printList,O]}:{cakeList:[...v.cakeList,O],printList:v.printList}},{cakeList:[],printList:[]});a(0,h=b.cakeList.sort(We)),a(1,c=b.printList.sort(Ye))};return qe(()=>{typeof localStorage<"u"&&(t=localStorage,E())}),[h,c,k,s,l,(b,v)=>s(b),(b,v)=>l(b,!1),b=>Ge(document.getElementById("print"),"byMona-menu.svg"),(b,v)=>l(b,!0),(b,v)=>{l(b,!0),k({...b,name:v.currentTarget.value},b.printOrder??0)}]}class st extends ze{constructor(e){super(),Ce(this,e,Ze,je,Se,{})}}export{st as default};
