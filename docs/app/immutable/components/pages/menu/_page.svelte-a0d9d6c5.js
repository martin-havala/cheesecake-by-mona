import{S as ne,i as se,s as le,k as $,a as V,q as M,L as ae,l as b,h as m,c as C,m as E,r as P,n as L,F as h,b as U,f as D,d as A,t as B,P as J,o as re,w as W,x as Y,y as Z,O as F,u as oe,z as x,Q as ee,g as z}from"../../../chunks/index-6c7f46ca.js";import{C as te}from"../../../chunks/cake-c0e42231.js";function H(c,o,i){const s=c.slice();return s[11]=o[i],s}function Q(c,o,i){const s=c.slice();return s[11]=o[i],s}function G(c){let o,i,s,k,_,I,d,v=c[11].name+"",p,j,g,T,O,r,n,R;_=new te({props:{cake:c[11]}});function f(...u){return c[5](c[11],...u)}function a(...u){return c[6](c[11],...u)}return{c(){o=$("div"),i=$("div"),s=$("button"),k=$("div"),W(_.$$.fragment),I=V(),d=$("div"),p=M(v),j=V(),g=$("button"),T=M("X"),O=V(),this.h()},l(u){o=b(u,"DIV",{class:!0});var e=E(o);i=b(e,"DIV",{class:!0});var l=E(i);s=b(l,"BUTTON",{class:!0});var t=E(s);k=b(t,"DIV",{class:!0});var w=E(k);Y(_.$$.fragment,w),w.forEach(m),t.forEach(m),I=C(l),d=b(l,"DIV",{class:!0});var S=E(d);p=P(S,v),S.forEach(m),j=C(l),g=b(l,"BUTTON",{class:!0});var N=E(g);T=P(N,"X"),N.forEach(m),l.forEach(m),O=C(e),e.forEach(m),this.h()},h(){L(k,"class","cake svelte-hsns1j"),L(s,"class","cakeRow__button flat svelte-hsns1j"),L(d,"class","label svelte-hsns1j"),L(g,"class","cakeRow__button flat svelte-hsns1j"),L(i,"class","cakeRow__item svelte-hsns1j"),L(o,"class","cakeRow")},m(u,e){U(u,o,e),h(o,i),h(i,s),h(s,k),Z(_,k,null),h(i,I),h(i,d),h(d,p),h(i,j),h(i,g),h(g,T),h(o,O),r=!0,n||(R=[F(s,"click",f),F(g,"click",a)],n=!0)},p(u,e){c=u;const l={};e&1&&(l.cake=c[11]),_.$set(l),(!r||e&1)&&v!==(v=c[11].name+"")&&oe(p,v)},i(u){r||(D(_.$$.fragment,u),r=!0)},o(u){B(_.$$.fragment,u),r=!1},d(u){u&&m(o),x(_),n=!1,ee(R)}}}function K(c){let o,i,s,k,_,I,d,v,p,j,g,T,O,r;_=new te({props:{cake:c[11]}});function n(...f){return c[7](c[11],...f)}function R(...f){return c[8](c[11],...f)}return{c(){o=$("div"),i=$("div"),s=$("button"),k=$("div"),W(_.$$.fragment),I=V(),d=$("div"),v=$("form"),p=$("input"),g=V(),this.h()},l(f){o=b(f,"DIV",{class:!0});var a=E(o);i=b(a,"DIV",{class:!0});var u=E(i);s=b(u,"BUTTON",{class:!0});var e=E(s);k=b(e,"DIV",{class:!0});var l=E(k);Y(_.$$.fragment,l),l.forEach(m),e.forEach(m),I=C(u),d=b(u,"DIV",{class:!0});var t=E(d);v=b(t,"FORM",{});var w=E(v);p=b(w,"INPUT",{class:!0}),w.forEach(m),t.forEach(m),u.forEach(m),g=C(a),a.forEach(m),this.h()},h(){L(k,"class","cake svelte-hsns1j"),L(s,"class","cakeRow__button superflat flat svelte-hsns1j"),L(p,"class","cakeRow__input svelte-hsns1j"),p.value=j=c[11].name,L(d,"class","label svelte-hsns1j"),L(i,"class","cakeRow__item svelte-hsns1j"),L(o,"class","cakeRow")},m(f,a){U(f,o,a),h(o,i),h(i,s),h(s,k),Z(_,k,null),h(i,I),h(i,d),h(d,v),h(v,p),h(o,g),T=!0,O||(r=[F(s,"click",n),F(p,"change",R)],O=!0)},p(f,a){c=f;const u={};a&2&&(u.cake=c[11]),_.$set(u),(!T||a&2&&j!==(j=c[11].name)&&p.value!==j)&&(p.value=j)},i(f){T||(D(_.$$.fragment,f),T=!0)},o(f){B(_.$$.fragment,f),T=!1},d(f){f&&m(o),x(_),O=!1,ee(r)}}}function ce(c){let o,i,s,k,_,I,d,v,p,j,g,T,O,r=c[0],n=[];for(let e=0;e<r.length;e+=1)n[e]=G(Q(c,r,e));const R=e=>B(n[e],1,1,()=>{n[e]=null});let f=c[1],a=[];for(let e=0;e<f.length;e+=1)a[e]=K(H(c,f,e));const u=e=>B(a[e],1,1,()=>{a[e]=null});return{c(){o=$("meta"),i=V(),s=$("section"),k=$("h1"),_=M("Menu generator"),I=V(),d=$("div"),v=$("div"),p=M(`Stored
			`);for(let e=0;e<n.length;e+=1)n[e].c();j=V(),g=$("div"),T=M(`To be printed
			`);for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){const l=ae("svelte-4ig4ka",document.head);o=b(l,"META",{name:!0,content:!0}),l.forEach(m),i=C(e),s=b(e,"SECTION",{});var t=E(s);k=b(t,"H1",{});var w=E(k);_=P(w,"Menu generator"),w.forEach(m),I=C(t),d=b(t,"DIV",{class:!0});var S=E(d);v=b(S,"DIV",{class:!0});var N=E(v);p=P(N,`Stored
			`);for(let y=0;y<n.length;y+=1)n[y].l(N);N.forEach(m),j=C(S),g=b(S,"DIV",{class:!0});var X=E(g);T=P(X,`To be printed
			`);for(let y=0;y<a.length;y+=1)a[y].l(X);X.forEach(m),S.forEach(m),t.forEach(m),this.h()},h(){document.title="Menu",L(o,"name","description"),L(o,"content","Menu generator"),L(v,"class","cakeList svelte-hsns1j"),L(g,"class","cakeList printList svelte-hsns1j"),L(d,"class","menu svelte-hsns1j")},m(e,l){h(document.head,o),U(e,i,l),U(e,s,l),h(s,k),h(k,_),h(s,I),h(s,d),h(d,v),h(v,p);for(let t=0;t<n.length;t+=1)n[t].m(v,null);h(d,j),h(d,g),h(g,T);for(let t=0;t<a.length;t+=1)a[t].m(g,null);O=!0},p(e,[l]){if(l&25){r=e[0];let t;for(t=0;t<r.length;t+=1){const w=Q(e,r,t);n[t]?(n[t].p(w,l),D(n[t],1)):(n[t]=G(w),n[t].c(),D(n[t],1),n[t].m(v,null))}for(z(),t=r.length;t<n.length;t+=1)R(t);A()}if(l&22){f=e[1];let t;for(t=0;t<f.length;t+=1){const w=H(e,f,t);a[t]?(a[t].p(w,l),D(a[t],1)):(a[t]=K(w),a[t].c(),D(a[t],1),a[t].m(g,null))}for(z(),t=f.length;t<a.length;t+=1)u(t);A()}},i(e){if(!O){for(let l=0;l<r.length;l+=1)D(n[l]);for(let l=0;l<f.length;l+=1)D(a[l]);O=!0}},o(e){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)B(n[l]);a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)B(a[l]);O=!1},d(e){m(o),e&&m(i),e&&m(s),J(n,e),J(a,e)}}}const q="$P$";function ie(c,o){return(c.name??"")>(o.name??"")?1:-1}function ue(c,o){return(c.printOrder??0)>(o.printOrder??1)?1:-1}function he(c,o,i){let s,k=[],_=[];const I=(r,n)=>{s&&(s.setItem(`${r.name}${n?q:""}`,JSON.stringify({...r,printOrder:n})),p())},d=r=>{var n;I(r,(((n=_.at(-1))==null?void 0:n.printOrder)??0)+1)},v=(r,n=!1)=>{s.removeItem(`${r.name}${n?q:""}`),p()},p=()=>{if(!s)return;const r=new Array(s.length).fill("").reduce((n,R,f)=>{const a=s.key(f),u=JSON.parse(s.getItem(a)??"");return console.log(a,u,n),a.includes(q)?{cakeList:n.cakeList,printList:[...n.printList,u]}:{cakeList:[...n.cakeList,u],printList:n.printList}},{cakeList:[],printList:[]});i(0,k=r.cakeList.sort(ie)),i(1,_=r.printList.sort(ue))};return re(()=>{typeof localStorage<"u"&&(s=localStorage,p())}),[k,_,I,d,v,(r,n)=>d(r),(r,n)=>v(r,!1),(r,n)=>v(r,!0),(r,n)=>{v(r,!0),I({...r,name:n.currentTarget.value},r.printOrder??0)}]}class de extends ne{constructor(o){super(),se(this,o,he,ce,le,{})}}export{de as default};
