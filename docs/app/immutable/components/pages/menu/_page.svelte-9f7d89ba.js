import{S as pe,i as ke,s as ye,Q as K,q as P,R as W,m as C,r as J,h as g,n as p,b as H,D as i,f as N,g as oe,d as re,t as U,N as ae,w as Y,x as Z,p as Ee,y as x,u as be,z as ee,k as B,a as V,J as $e,l as T,c as R,M as j,o as Ce,ad as we,O as Be}from"../../../chunks/index-07e6c418.js";import{C as se}from"../../../chunks/cake-66fb4740.js";import{g as ue}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Te}from"../../../chunks/downloadSVG-dd049a32.js";function fe(n,e,l){const t=n.slice();return t[2]=e[l],t[4]=l,t}function de(n){let e,l,t,h=n[2].name+"",c,_;return l=new se({props:{cake:n[2],wrap:!1}}),{c(){e=K("g"),Y(l.$$.fragment),t=K("text"),c=P(h),this.h()},l(r){e=W(r,"g",{transform:!0});var o=C(e);Z(l.$$.fragment,o),t=W(o,"text",{x:!0,y:!0,style:!0});var $=C(t);c=J($,h),$.forEach(g),o.forEach(g),this.h()},h(){p(t,"x","340"),p(t,"y","150"),Ee(t,"font-size","15mm"),p(e,"transform","translate(600, "+(200+n[4]*300)+")")},m(r,o){H(r,e,o),x(l,e,null),i(e,t),i(t,c),_=!0},p(r,o){const $={};o&1&&($.cake=r[2]),l.$set($),(!_||o&1)&&h!==(h=r[2].name+"")&&be(c,h)},i(r){_||(N(l.$$.fragment,r),_=!0)},o(r){U(l.$$.fragment,r),_=!1},d(r){r&&g(e),ee(l)}}}function Se(n){let e,l,t,h,c,_,r=n[0],o=[];for(let d=0;d<r.length;d+=1)o[d]=de(fe(n,r,d));const $=d=>U(o[d],1,1,()=>{o[d]=null});return{c(){e=K("svg"),l=K("style"),t=P(`text {
			font-family: sans-serif;
		}
	`);for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){e=W(d,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var u=C(e);l=W(u,"style",{});var f=C(l);t=J(f,`text {
			font-family: sans-serif;
		}
	`),f.forEach(g);for(let w=0;w<o.length;w+=1)o[w].l(u);u.forEach(g),this.h()},h(){p(e,"id",n[1]),p(e,"width","210mm"),p(e,"height",h=30+n[0].length*30+"mm"),p(e,"viewBox",c="0 0 2100 "+(300+n[0].length*300)),p(e,"version","1.1"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xml:space","preserve")},m(d,u){H(d,e,u),i(e,l),i(l,t);for(let f=0;f<o.length;f+=1)o[f].m(e,null);_=!0},p(d,[u]){if(u&1){r=d[0];let f;for(f=0;f<r.length;f+=1){const w=fe(d,r,f);o[f]?(o[f].p(w,u),N(o[f],1)):(o[f]=de(w),o[f].c(),N(o[f],1),o[f].m(e,null))}for(oe(),f=r.length;f<o.length;f+=1)$(f);re()}(!_||u&2)&&p(e,"id",d[1]),(!_||u&1&&h!==(h=30+d[0].length*30+"mm"))&&p(e,"height",h),(!_||u&1&&c!==(c="0 0 2100 "+(300+d[0].length*300)))&&p(e,"viewBox",c)},i(d){if(!_){for(let u=0;u<r.length;u+=1)N(o[u]);_=!0}},o(d){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)U(o[u]);_=!1},d(d){d&&g(e),ae(o,d)}}}function Le(n,e,l){let{printList:t=[]}=e,{id:h="print"}=e;return n.$$set=c=>{"printList"in c&&l(0,t=c.printList),"id"in c&&l(1,h=c.id)},[t,h]}class De extends pe{constructor(e){super(),ke(this,e,Le,Se,ye,{printList:0,id:1})}}const le="$P$",Ie=[{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F6E0B2",secondaryColor:"#E7A27A"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#F6E0B2",secondaryColor:"#BA555C",pattern:10},fillingTop:{color:"#C2977D",secondaryColor:"#E3B98F",pattern:4},midSection:!0,name:"Creamy strawberry "},{default:!0,decorationType:3,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#BA555C",secondaryColor:"#F6E0B2"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#5D967F",secondaryColor:"#845C51",pattern:1},fillingTop:{},midSection:!0,name:"Raspberry choco"},{default:!0,decorationType:6,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#845C51",secondaryColor:"#5D967F"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#61465F",secondaryColor:"#E7A27A",pattern:4},fillingTop:{},midSection:!1,name:"Simple caramel"},{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F5E9C4",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#EFAB64",secondaryColor:"#E2816F",pattern:3},fillingTop:{},midSection:!0,name:"Simple pleasure"},{default:!0,decorationType:9,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#C2977D",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{color:"#61465F"},icing:{},filling:{color:"#E7A27A",secondaryColor:"#F6E0B2",pattern:9},fillingTop:{color:"#C2977D",secondaryColor:"#F5E9C4",pattern:8},midSection:!1,name:"Stracciatella magic"}];const{document:ne}=we;function he(n,e,l){const t=n.slice();return t[12]=e[l],t}function _e(n,e,l){const t=n.slice();return t[12]=e[l],t}function me(n){let e,l,t,h;function c(..._){return n[5](n[12],..._)}return{c(){e=B("button"),l=P("X"),this.h()},l(_){e=T(_,"BUTTON",{class:!0});var r=C(e);l=J(r,"X"),r.forEach(g),this.h()},h(){p(e,"class","icobutton flat")},m(_,r){H(_,e,r),i(e,l),t||(h=j(e,"click",c),t=!0)},p(_,r){n=_},d(_){_&&g(e),t=!1,h()}}}function ge(n){let e,l,t,h,c,_,r,o=n[12].name+"",$,d,u,f,w,M,k,E,y,D,L,F,X,O;c=new se({props:{cake:n[12]}});let s=!n[12].default&&me(n);function te(...S){return n[6](n[12],...S)}return{c(){e=B("div"),l=B("div"),t=B("button"),h=B("div"),Y(c.$$.fragment),_=V(),r=B("div"),$=P(o),d=V(),s&&s.c(),u=V(),f=B("a"),w=B("button"),M=P("Edit"),E=V(),y=B("button"),D=P("Add"),L=V(),this.h()},l(S){e=T(S,"DIV",{class:!0});var v=C(e);l=T(v,"DIV",{class:!0});var A=C(l);t=T(A,"BUTTON",{class:!0});var a=C(t);h=T(a,"DIV",{class:!0});var b=C(h);Z(c.$$.fragment,b),b.forEach(g),a.forEach(g),_=R(A),r=T(A,"DIV",{class:!0});var I=C(r);$=J(I,o),I.forEach(g),d=R(A),s&&s.l(A),u=R(A),f=T(A,"A",{class:!0,href:!0});var m=C(f);w=T(m,"BUTTON",{});var q=C(w);M=J(q,"Edit"),q.forEach(g),m.forEach(g),E=R(A),y=T(A,"BUTTON",{});var Q=C(y);D=J(Q,"Add"),Q.forEach(g),A.forEach(g),L=R(v),v.forEach(g),this.h()},h(){p(h,"class","cake"),p(t,"class","cakeRow__button flat svelte-13kqond"),p(r,"class","label svelte-13kqond"),p(f,"class","icobutton flat"),p(f,"href",k=ue(n[12])),p(l,"class","cakeRow__item svelte-13kqond"),p(e,"class","cakeRow")},m(S,v){H(S,e,v),i(e,l),i(l,t),i(t,h),x(c,h,null),i(l,_),i(l,r),i(r,$),i(l,d),s&&s.m(l,null),i(l,u),i(l,f),i(f,w),i(w,M),i(l,E),i(l,y),i(y,D),i(e,L),F=!0,X||(O=j(y,"click",te),X=!0)},p(S,v){n=S;const A={};v&1&&(A.cake=n[12]),c.$set(A),(!F||v&1)&&o!==(o=n[12].name+"")&&be($,o),n[12].default?s&&(s.d(1),s=null):s?s.p(n,v):(s=me(n),s.c(),s.m(l,u)),(!F||v&1&&k!==(k=ue(n[12])))&&p(f,"href",k)},i(S){F||(N(c.$$.fragment,S),F=!0)},o(S){U(c.$$.fragment,S),F=!1},d(S){S&&g(e),ee(c),s&&s.d(),X=!1,O()}}}function ve(n){let e,l,t,h,c,_,r,o,$,d,u,f,w,M;c=new se({props:{cake:n[12]}});function k(...y){return n[8](n[12],...y)}function E(...y){return n[9](n[12],...y)}return{c(){e=B("div"),l=B("div"),t=B("button"),h=B("div"),Y(c.$$.fragment),_=V(),r=B("div"),o=B("form"),$=B("input"),u=V(),this.h()},l(y){e=T(y,"DIV",{class:!0});var D=C(e);l=T(D,"DIV",{class:!0});var L=C(l);t=T(L,"BUTTON",{class:!0});var F=C(t);h=T(F,"DIV",{class:!0});var X=C(h);Z(c.$$.fragment,X),X.forEach(g),F.forEach(g),_=R(L),r=T(L,"DIV",{class:!0});var O=C(r);o=T(O,"FORM",{});var s=C(o);$=T(s,"INPUT",{class:!0}),s.forEach(g),O.forEach(g),L.forEach(g),u=R(D),D.forEach(g),this.h()},h(){p(h,"class","cake"),p(t,"class","cakeRow__button superflat flat svelte-13kqond"),p($,"class","cakeRow__input svelte-13kqond"),$.value=d=n[12].name,p(r,"class","label svelte-13kqond"),p(l,"class","cakeRow__item svelte-13kqond"),p(e,"class","cakeRow")},m(y,D){H(y,e,D),i(e,l),i(l,t),i(t,h),x(c,h,null),i(l,_),i(l,r),i(r,o),i(o,$),i(e,u),f=!0,w||(M=[j(t,"click",k),j($,"change",E)],w=!0)},p(y,D){n=y;const L={};D&2&&(L.cake=n[12]),c.$set(L),(!f||D&2&&d!==(d=n[12].name)&&$.value!==d)&&($.value=d)},i(y){f||(N(c.$$.fragment,y),f=!0)},o(y){U(c.$$.fragment,y),f=!1},d(y){y&&g(e),ee(c),w=!1,Be(M)}}}function Fe(n){let e,l,t,h,c,_,r,o,$,d,u,f,w,M,k,E,y,D,L,F,X,O=n[0],s=[];for(let a=0;a<O.length;a+=1)s[a]=ge(_e(n,O,a));const te=a=>U(s[a],1,1,()=>{s[a]=null});y=new De({props:{printList:n[1]}});let S=n[1],v=[];for(let a=0;a<S.length;a+=1)v[a]=ve(he(n,S,a));const A=a=>U(v[a],1,1,()=>{v[a]=null});return{c(){e=B("meta"),l=V(),t=B("section"),h=B("h1"),c=P("Menu generator"),_=V(),r=B("div"),o=B("div"),$=P(`Stored in memory:
			`);for(let a=0;a<s.length;a+=1)s[a].c();d=V(),u=B("div"),f=P(`Selected for export:
			`),w=B("button"),M=P("Download"),k=V(),E=B("div"),Y(y.$$.fragment),D=V();for(let a=0;a<v.length;a+=1)v[a].c();this.h()},l(a){const b=$e("svelte-4ig4ka",ne.head);e=T(b,"META",{name:!0,content:!0}),b.forEach(g),l=R(a),t=T(a,"SECTION",{});var I=C(t);h=T(I,"H1",{});var m=C(h);c=J(m,"Menu generator"),m.forEach(g),_=R(I),r=T(I,"DIV",{class:!0});var q=C(r);o=T(q,"DIV",{class:!0});var Q=C(o);$=J(Q,`Stored in memory:
			`);for(let G=0;G<s.length;G+=1)s[G].l(Q);Q.forEach(g),d=R(q),u=T(q,"DIV",{class:!0});var z=C(u);f=J(z,`Selected for export:
			`),w=T(z,"BUTTON",{style:!0});var ie=C(w);M=J(ie,"Download"),ie.forEach(g),k=R(z),E=T(z,"DIV",{class:!0});var ce=C(E);Z(y.$$.fragment,ce),ce.forEach(g),D=R(z);for(let G=0;G<v.length;G+=1)v[G].l(z);z.forEach(g),q.forEach(g),I.forEach(g),this.h()},h(){ne.title="Menu",p(e,"name","description"),p(e,"content","Menu generator"),p(o,"class","cakeList svelte-13kqond"),Ee(w,"float","right"),p(E,"class","preview svelte-13kqond"),p(u,"class","cakeList printList svelte-13kqond"),p(r,"class","menu svelte-13kqond")},m(a,b){i(ne.head,e),H(a,l,b),H(a,t,b),i(t,h),i(h,c),i(t,_),i(t,r),i(r,o),i(o,$);for(let I=0;I<s.length;I+=1)s[I].m(o,null);i(r,d),i(r,u),i(u,f),i(u,w),i(w,M),i(u,k),i(u,E),x(y,E,null),i(u,D);for(let I=0;I<v.length;I+=1)v[I].m(u,null);L=!0,F||(X=j(w,"click",n[7]),F=!0)},p(a,[b]){if(b&25){O=a[0];let m;for(m=0;m<O.length;m+=1){const q=_e(a,O,m);s[m]?(s[m].p(q,b),N(s[m],1)):(s[m]=ge(q),s[m].c(),N(s[m],1),s[m].m(o,null))}for(oe(),m=O.length;m<s.length;m+=1)te(m);re()}const I={};if(b&2&&(I.printList=a[1]),y.$set(I),b&22){S=a[1];let m;for(m=0;m<S.length;m+=1){const q=he(a,S,m);v[m]?(v[m].p(q,b),N(v[m],1)):(v[m]=ve(q),v[m].c(),N(v[m],1),v[m].m(u,null))}for(oe(),m=S.length;m<v.length;m+=1)A(m);re()}},i(a){if(!L){for(let b=0;b<O.length;b+=1)N(s[b]);N(y.$$.fragment,a);for(let b=0;b<S.length;b+=1)N(v[b]);L=!0}},o(a){s=s.filter(Boolean);for(let b=0;b<s.length;b+=1)U(s[b]);U(y.$$.fragment,a),v=v.filter(Boolean);for(let b=0;b<v.length;b+=1)U(v[b]);L=!1},d(a){g(e),a&&g(l),a&&g(t),ae(s,a),ee(y),ae(v,a),F=!1,X()}}}function Ae(n,e){return(n.name??"")>(e.name??"")?1:-1}function Oe(n,e){return(n.printOrder??0)>(e.printOrder??1)?1:-1}function qe(n,e,l){let t,h=[],c=[];const _=(k,E)=>{t&&(t.setItem(`${k.name}${E?le:""}`,JSON.stringify({...k,printOrder:E})),$())},r=k=>{var E;_(k,(((E=c.at(-1))==null?void 0:E.printOrder)??0)+1)},o=(k,E=!1)=>{t.removeItem(`${k.name}${E?le:""}`),$()},$=()=>{if(!t)return;const k=new Array(t.length).fill("").reduce((E,y,D)=>{const L=t.key(D),F=JSON.parse(t.getItem(L)??"");return L.includes(le)?{cakeList:E.cakeList,printList:[...E.printList,F]}:{cakeList:[...E.cakeList,F],printList:E.printList}},{cakeList:[],printList:[]});l(0,h=k.cakeList.length>0?k.cakeList.sort(Ae):Ie),l(1,c=k.printList.sort(Oe))};return Ce(()=>{typeof localStorage<"u"&&(t=localStorage,$())}),[h,c,_,r,o,(k,E)=>o(k,!1),(k,E)=>r(k),k=>Te(document.getElementById("print"),"byMona-menu.svg"),(k,E)=>o(k,!0),(k,E)=>{o(k,!0),_({...k,name:E.currentTarget.value},k.printOrder??0)}]}class Ue extends pe{constructor(e){super(),ke(this,e,qe,Fe,ye,{})}}export{Ue as default};
