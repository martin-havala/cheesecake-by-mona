import{S as we,i as Be,s as Se,Q as te,q as U,R as re,m as C,r as P,h,n as u,b as j,D as a,f as R,g as ce,d as fe,t as X,N as ue,w as le,x as ne,p as Te,y as oe,u as Le,z as ae,k as $,a as N,J as Ie,l as w,c as M,M as Z,o as Fe,ad as Ae,O as De}from"../../../chunks/index-07e6c418.js";import{C as de}from"../../../chunks/cake-7d985c66.js";import{g as ve}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Ve}from"../../../chunks/downloadSVG-dd049a32.js";function pe(l,e,o){const t=l.slice();return t[2]=e[o],t[4]=o,t}function ke(l){let e,o,t,d=l[2].name+"",c,k;return o=new de({props:{cake:l[2],wrap:!1}}),{c(){e=te("g"),le(o.$$.fragment),t=te("text"),c=U(d),this.h()},l(n){e=re(n,"g",{transform:!0});var r=C(e);ne(o.$$.fragment,r),t=re(r,"text",{x:!0,y:!0,style:!0});var y=C(t);c=P(y,d),y.forEach(h),r.forEach(h),this.h()},h(){u(t,"x","340"),u(t,"y","150"),Te(t,"font-size","15mm"),u(e,"transform","translate(600, "+(200+l[4]*300)+")")},m(n,r){j(n,e,r),oe(o,e,null),a(e,t),a(t,c),k=!0},p(n,r){const y={};r&1&&(y.cake=n[2]),o.$set(y),(!k||r&1)&&d!==(d=n[2].name+"")&&Le(c,d)},i(n){k||(R(o.$$.fragment,n),k=!0)},o(n){X(o.$$.fragment,n),k=!1},d(n){n&&h(e),ae(o)}}}function Oe(l){let e,o,t,d,c,k,n=l[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=ke(pe(l,n,i));const y=i=>X(r[i],1,1,()=>{r[i]=null});return{c(){e=te("svg"),o=te("style"),t=U(`text {
			font-family: sans-serif;
		}
	`);for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=re(i,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var g=C(e);o=re(g,"style",{});var f=C(o);t=P(f,`text {
			font-family: sans-serif;
		}
	`),f.forEach(h);for(let S=0;S<r.length;S+=1)r[S].l(g);g.forEach(h),this.h()},h(){u(e,"id",l[1]),u(e,"width","210mm"),u(e,"height",d=30+l[0].length*30+"mm"),u(e,"viewBox",c="0 0 2100 "+(300+l[0].length*300)),u(e,"version","1.1"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"xml:space","preserve")},m(i,g){j(i,e,g),a(e,o),a(o,t);for(let f=0;f<r.length;f+=1)r[f].m(e,null);k=!0},p(i,[g]){if(g&1){n=i[0];let f;for(f=0;f<n.length;f+=1){const S=pe(i,n,f);r[f]?(r[f].p(S,g),R(r[f],1)):(r[f]=ke(S),r[f].c(),R(r[f],1),r[f].m(e,null))}for(ce(),f=n.length;f<r.length;f+=1)y(f);fe()}(!k||g&2)&&u(e,"id",i[1]),(!k||g&1&&d!==(d=30+i[0].length*30+"mm"))&&u(e,"height",d),(!k||g&1&&c!==(c="0 0 2100 "+(300+i[0].length*300)))&&u(e,"viewBox",c)},i(i){if(!k){for(let g=0;g<n.length;g+=1)R(r[g]);k=!0}},o(i){r=r.filter(Boolean);for(let g=0;g<r.length;g+=1)X(r[g]);k=!1},d(i){i&&h(e),ue(r,i)}}}function ze(l,e,o){let{printList:t=[]}=e,{id:d="print"}=e;return l.$$set=c=>{"printList"in c&&o(0,t=c.printList),"id"in c&&o(1,d=c.id)},[t,d]}class Re extends we{constructor(e){super(),Be(this,e,ze,Oe,Se,{printList:0,id:1})}}const se="$P$",ye=[{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F6E0B2",secondaryColor:"#E7A27A"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#F6E0B2",secondaryColor:"#BA555C",pattern:10},fillingTop:{color:"#C2977D",secondaryColor:"#E3B98F",pattern:4},midSection:!0,name:"Creamy strawberry "},{default:!0,decorationType:3,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#BA555C",secondaryColor:"#F6E0B2"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#5D967F",secondaryColor:"#845C51",pattern:1},fillingTop:{},midSection:!0,name:"Raspberry choco"},{default:!0,decorationType:6,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#845C51",secondaryColor:"#5D967F"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#61465F",secondaryColor:"#E7A27A",pattern:4},fillingTop:{},midSection:!1,name:"Simple caramel"},{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F5E9C4",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#EFAB64",secondaryColor:"#E2816F",pattern:3},fillingTop:{},midSection:!0,name:"Simple pleasure"},{default:!0,decorationType:9,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#C2977D",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{color:"#61465F"},icing:{},filling:{color:"#E7A27A",secondaryColor:"#F6E0B2",pattern:9},fillingTop:{color:"#C2977D",secondaryColor:"#F5E9C4",pattern:8},midSection:!1,name:"Stracciatella magic"}];const{document:ie}=Ae;function Ee(l,e,o){const t=l.slice();return t[12]=e[o],t}function be(l,e,o){const t=l.slice();return t[12]=e[o],t}function Ce(l){let e,o,t,d,c,k,n,r=l[12].name+"",y,i,g,f,S,L,_,E,T,B,D,z,A,V,G;c=new de({props:{cake:l[12]}});function Q(...I){return l[5](l[12],...I)}function W(...I){return l[6](l[12],...I)}return{c(){e=$("div"),o=$("div"),t=$("button"),d=$("div"),le(c.$$.fragment),k=N(),n=$("div"),y=U(r),i=N(),g=$("br"),f=N(),S=$("a"),L=$("button"),_=U("Edit"),T=N(),B=$("button"),D=U("Delete"),z=N(),this.h()},l(I){e=w(I,"DIV",{class:!0});var F=C(e);o=w(F,"DIV",{class:!0});var p=C(o);t=w(p,"BUTTON",{class:!0});var x=C(t);d=w(x,"DIV",{class:!0});var J=C(d);ne(c.$$.fragment,J),J.forEach(h),x.forEach(h),k=M(p),n=w(p,"DIV",{class:!0});var v=C(n);y=P(v,r),i=M(v),g=w(v,"BR",{}),f=M(v),S=w(v,"A",{class:!0,href:!0});var ee=C(S);L=w(ee,"BUTTON",{});var s=C(L);_=P(s,"Edit"),s.forEach(h),ee.forEach(h),T=M(v),B=w(v,"BUTTON",{class:!0});var b=C(B);D=P(b,"Delete"),b.forEach(h),v.forEach(h),p.forEach(h),z=M(F),F.forEach(h),this.h()},h(){u(d,"class","cake"),u(t,"class","cakeRow__button flat svelte-aze5ar"),u(S,"class","icobutton flat"),u(S,"href",E=ve(l[12])),u(B,"class",""),u(n,"class","label svelte-aze5ar"),u(o,"class","cakeRow__item svelte-aze5ar"),u(e,"class","cakeRow")},m(I,F){j(I,e,F),a(e,o),a(o,t),a(t,d),oe(c,d,null),a(o,k),a(o,n),a(n,y),a(n,i),a(n,g),a(n,f),a(n,S),a(S,L),a(L,_),a(n,T),a(n,B),a(B,D),a(e,z),A=!0,V||(G=[Z(t,"click",Q),Z(B,"click",W)],V=!0)},p(I,F){l=I;const p={};F&1&&(p.cake=l[12]),c.$set(p),(!A||F&1)&&r!==(r=l[12].name+"")&&Le(y,r),(!A||F&1&&E!==(E=ve(l[12])))&&u(S,"href",E)},i(I){A||(R(c.$$.fragment,I),A=!0)},o(I){X(c.$$.fragment,I),A=!1},d(I){I&&h(e),ae(c),V=!1,De(G)}}}function $e(l){let e,o,t,d,c,k,n,r,y,i,g,f,S,L;c=new de({props:{cake:l[12]}});function _(...T){return l[8](l[12],...T)}function E(...T){return l[9](l[12],...T)}return{c(){e=$("div"),o=$("div"),t=$("button"),d=$("div"),le(c.$$.fragment),k=N(),n=$("div"),r=$("form"),y=$("textarea"),g=N(),this.h()},l(T){e=w(T,"DIV",{class:!0});var B=C(e);o=w(B,"DIV",{class:!0});var D=C(o);t=w(D,"BUTTON",{class:!0});var z=C(t);d=w(z,"DIV",{class:!0});var A=C(d);ne(c.$$.fragment,A),A.forEach(h),z.forEach(h),k=M(D),n=w(D,"DIV",{class:!0});var V=C(n);r=w(V,"FORM",{});var G=C(r);y=w(G,"TEXTAREA",{cols:!0,class:!0}),C(y).forEach(h),G.forEach(h),V.forEach(h),D.forEach(h),g=M(B),B.forEach(h),this.h()},h(){u(d,"class","cake"),u(t,"class","cakeRow__button superflat flat svelte-aze5ar"),u(y,"cols","13"),u(y,"class","cakeRow__input svelte-aze5ar"),y.value=i=l[12].name,u(n,"class","label svelte-aze5ar"),u(o,"class","cakeRow__item svelte-aze5ar"),u(e,"class","cakeRow")},m(T,B){j(T,e,B),a(e,o),a(o,t),a(t,d),oe(c,d,null),a(o,k),a(o,n),a(n,r),a(r,y),a(e,g),f=!0,S||(L=[Z(t,"click",_),Z(y,"change",E)],S=!0)},p(T,B){l=T;const D={};B&2&&(D.cake=l[12]),c.$set(D),(!f||B&2&&i!==(i=l[12].name))&&(y.value=i)},i(T){f||(R(c.$$.fragment,T),f=!0)},o(T){X(c.$$.fragment,T),f=!1},d(T){T&&h(e),ae(c),S=!1,De(L)}}}function Ne(l){let e,o,t,d,c,k,n,r,y,i,g,f,S,L,_,E,T,B,D,z,A,V,G,Q,W,I,F=l[0],p=[];for(let s=0;s<F.length;s+=1)p[s]=Ce(be(l,F,s));const x=s=>X(p[s],1,1,()=>{p[s]=null});V=new Re({props:{printList:l[1]}});let J=l[1],v=[];for(let s=0;s<J.length;s+=1)v[s]=$e(Ee(l,J,s));const ee=s=>X(v[s],1,1,()=>{v[s]=null});return{c(){e=$("meta"),o=N(),t=$("section"),d=$("h1"),c=U("Menu generator"),k=N(),n=$("div"),r=$("div"),y=U(`Stored in memory:
			`),i=$("div"),g=U("(Click on imago to select it for printing)"),f=N();for(let s=0;s<p.length;s+=1)p[s].c();S=N(),L=$("div"),_=$("button"),E=U("Download"),T=U(`
			Selected for export:
			`),B=$("div"),D=U("(you can edit label of cakes here)"),z=N(),A=$("div"),le(V.$$.fragment),G=N();for(let s=0;s<v.length;s+=1)v[s].c();this.h()},l(s){const b=Ie("svelte-4ig4ka",ie.head);e=w(b,"META",{name:!0,content:!0}),b.forEach(h),o=M(s),t=w(s,"SECTION",{});var O=C(t);d=w(O,"H1",{});var m=C(d);c=P(m,"Menu generator"),m.forEach(h),k=M(O),n=w(O,"DIV",{class:!0});var q=C(n);r=w(q,"DIV",{class:!0});var Y=C(r);y=P(Y,`Stored in memory:
			`),i=w(Y,"DIV",{class:!0});var he=C(i);g=P(he,"(Click on imago to select it for printing)"),he.forEach(h),f=M(Y);for(let K=0;K<p.length;K+=1)p[K].l(Y);Y.forEach(h),S=M(q),L=w(q,"DIV",{class:!0});var H=C(L);_=w(H,"BUTTON",{style:!0});var _e=C(_);E=P(_e,"Download"),_e.forEach(h),T=P(H,`
			Selected for export:
			`),B=w(H,"DIV",{class:!0});var me=C(B);D=P(me,"(you can edit label of cakes here)"),me.forEach(h),z=M(H),A=w(H,"DIV",{class:!0});var ge=C(A);ne(V.$$.fragment,ge),ge.forEach(h),G=M(H);for(let K=0;K<v.length;K+=1)v[K].l(H);H.forEach(h),q.forEach(h),O.forEach(h),this.h()},h(){ie.title="Menu",u(e,"name","description"),u(e,"content","Menu generator"),u(i,"class","tiny"),u(r,"class","cakeList svelte-aze5ar"),Te(_,"float","right"),u(B,"class","tiny"),u(A,"class","preview svelte-aze5ar"),u(L,"class","cakeList printList svelte-aze5ar"),u(n,"class","menu svelte-aze5ar")},m(s,b){a(ie.head,e),j(s,o,b),j(s,t,b),a(t,d),a(d,c),a(t,k),a(t,n),a(n,r),a(r,y),a(r,i),a(i,g),a(r,f);for(let O=0;O<p.length;O+=1)p[O].m(r,null);a(n,S),a(n,L),a(L,_),a(_,E),a(L,T),a(L,B),a(B,D),a(L,z),a(L,A),oe(V,A,null),a(L,G);for(let O=0;O<v.length;O+=1)v[O].m(L,null);Q=!0,W||(I=Z(_,"click",l[7]),W=!0)},p(s,[b]){if(b&25){F=s[0];let m;for(m=0;m<F.length;m+=1){const q=be(s,F,m);p[m]?(p[m].p(q,b),R(p[m],1)):(p[m]=Ce(q),p[m].c(),R(p[m],1),p[m].m(r,null))}for(ce(),m=F.length;m<p.length;m+=1)x(m);fe()}const O={};if(b&2&&(O.printList=s[1]),V.$set(O),b&22){J=s[1];let m;for(m=0;m<J.length;m+=1){const q=Ee(s,J,m);v[m]?(v[m].p(q,b),R(v[m],1)):(v[m]=$e(q),v[m].c(),R(v[m],1),v[m].m(L,null))}for(ce(),m=J.length;m<v.length;m+=1)ee(m);fe()}},i(s){if(!Q){for(let b=0;b<F.length;b+=1)R(p[b]);R(V.$$.fragment,s);for(let b=0;b<J.length;b+=1)R(v[b]);Q=!0}},o(s){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)X(p[b]);X(V.$$.fragment,s),v=v.filter(Boolean);for(let b=0;b<v.length;b+=1)X(v[b]);Q=!1},d(s){h(e),s&&h(o),s&&h(t),ue(p,s),ae(V),ue(v,s),W=!1,I()}}}function Me(l,e){return(l.name??"")>(e.name??"")?1:-1}function Ue(l,e){return(l.printOrder??0)>(e.printOrder??1)?1:-1}function Pe(l,e,o){let t,d=[],c=[];const k=(_,E)=>{t&&(t.setItem(`${_.name}${E?se:""}`,JSON.stringify({..._,printOrder:E})),y())},n=_=>{var E;k(_,(((E=c.at(-1))==null?void 0:E.printOrder)??0)+1)},r=(_,E=!1)=>{t.removeItem(`${_.name}${E?se:""}`),y()},y=()=>{if(!t)return;t.length==0&&ye.forEach(E=>k(E,0));const _=new Array(t.length).fill("").reduce((E,T,B)=>{const D=t.key(B),z=JSON.parse(t.getItem(D)??"");return D.includes(se)?{cakeList:E.cakeList,printList:[...E.printList,z]}:{cakeList:[...E.cakeList,z],printList:E.printList}},{cakeList:[],printList:[]});o(0,d=_.cakeList.length>0?_.cakeList.sort(Me):ye),o(1,c=_.printList.sort(Ue))};return Fe(()=>{typeof localStorage<"u"&&(t=localStorage,y())}),[d,c,k,n,r,(_,E)=>n(_),(_,E)=>r(_,!1),_=>Ve(document.getElementById("print"),"byMona-menu.svg"),(_,E)=>r(_,!0),(_,E)=>{r(_,!0),k({..._,name:E.currentTarget.value},_.printOrder??0)}]}class He extends we{constructor(e){super(),Be(this,e,Pe,Ne,Se,{})}}export{He as default};
