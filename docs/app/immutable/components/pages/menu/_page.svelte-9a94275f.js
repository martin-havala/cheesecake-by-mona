import{S as be,i as $e,s as Ce,Q as x,q as M,R as ee,m as b,r as P,h as m,n as v,b as j,D as s,f as N,g as se,d as ie,t as G,N as ce,w as te,x as le,p as we,y as ne,u as Te,z as oe,k as w,a as R,J as Se,l as T,c as U,M as Y,o as Le,ad as De,O as Be}from"../../../chunks/index-07e6c418.js";import{C as ue}from"../../../chunks/cake-66fb4740.js";import{g as _e}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Ie}from"../../../chunks/downloadSVG-dd049a32.js";function me(o,e,n){const t=o.slice();return t[2]=e[n],t[4]=n,t}function ve(o){let e,n,t,_=o[2].name+"",u,k;return n=new ue({props:{cake:o[2],wrap:!1}}),{c(){e=x("g"),te(n.$$.fragment),t=x("text"),u=M(_),this.h()},l(i){e=ee(i,"g",{transform:!0});var l=b(e);le(n.$$.fragment,l),t=ee(l,"text",{x:!0,y:!0,style:!0});var E=b(t);u=P(E,_),E.forEach(m),l.forEach(m),this.h()},h(){v(t,"x","340"),v(t,"y","150"),we(t,"font-size","15mm"),v(e,"transform","translate(600, "+(200+o[4]*300)+")")},m(i,l){j(i,e,l),ne(n,e,null),s(e,t),s(t,u),k=!0},p(i,l){const E={};l&1&&(E.cake=i[2]),n.$set(E),(!k||l&1)&&_!==(_=i[2].name+"")&&Te(u,_)},i(i){k||(N(n.$$.fragment,i),k=!0)},o(i){G(n.$$.fragment,i),k=!1},d(i){i&&m(e),oe(n)}}}function Fe(o){let e,n,t,_,u,k,i=o[0],l=[];for(let c=0;c<i.length;c+=1)l[c]=ve(me(o,i,c));const E=c=>G(l[c],1,1,()=>{l[c]=null});return{c(){e=x("svg"),n=x("style"),t=M(`text {
			font-family: sans-serif;
		}
	`);for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=ee(c,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var r=b(e);n=ee(r,"style",{});var d=b(n);t=P(d,`text {
			font-family: sans-serif;
		}
	`),d.forEach(m);for(let S=0;S<l.length;S+=1)l[S].l(r);r.forEach(m),this.h()},h(){v(e,"id",o[1]),v(e,"width","210mm"),v(e,"height",_=30+o[0].length*30+"mm"),v(e,"viewBox",u="0 0 2100 "+(300+o[0].length*300)),v(e,"version","1.1"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xml:space","preserve")},m(c,r){j(c,e,r),s(e,n),s(n,t);for(let d=0;d<l.length;d+=1)l[d].m(e,null);k=!0},p(c,[r]){if(r&1){i=c[0];let d;for(d=0;d<i.length;d+=1){const S=me(c,i,d);l[d]?(l[d].p(S,r),N(l[d],1)):(l[d]=ve(S),l[d].c(),N(l[d],1),l[d].m(e,null))}for(se(),d=i.length;d<l.length;d+=1)E(d);ie()}(!k||r&2)&&v(e,"id",c[1]),(!k||r&1&&_!==(_=30+c[0].length*30+"mm"))&&v(e,"height",_),(!k||r&1&&u!==(u="0 0 2100 "+(300+c[0].length*300)))&&v(e,"viewBox",u)},i(c){if(!k){for(let r=0;r<i.length;r+=1)N(l[r]);k=!0}},o(c){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)G(l[r]);k=!1},d(c){c&&m(e),ce(l,c)}}}function Ae(o,e,n){let{printList:t=[]}=e,{id:_="print"}=e;return o.$$set=u=>{"printList"in u&&n(0,t=u.printList),"id"in u&&n(1,_=u.id)},[t,_]}class Oe extends be{constructor(e){super(),$e(this,e,Ae,Fe,Ce,{printList:0,id:1})}}const re="$P$",ge=[{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F6E0B2",secondaryColor:"#E7A27A"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#F6E0B2",secondaryColor:"#BA555C",pattern:10},fillingTop:{color:"#C2977D",secondaryColor:"#E3B98F",pattern:4},midSection:!0,name:"Creamy strawberry "},{default:!0,decorationType:3,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#BA555C",secondaryColor:"#F6E0B2"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#5D967F",secondaryColor:"#845C51",pattern:1},fillingTop:{},midSection:!0,name:"Raspberry choco"},{default:!0,decorationType:6,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#845C51",secondaryColor:"#5D967F"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#61465F",secondaryColor:"#E7A27A",pattern:4},fillingTop:{},midSection:!1,name:"Simple caramel"},{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F5E9C4",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#EFAB64",secondaryColor:"#E2816F",pattern:3},fillingTop:{},midSection:!0,name:"Simple pleasure"},{default:!0,decorationType:9,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#C2977D",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{color:"#61465F"},icing:{},filling:{color:"#E7A27A",secondaryColor:"#F6E0B2",pattern:9},fillingTop:{color:"#C2977D",secondaryColor:"#F5E9C4",pattern:8},midSection:!1,name:"Stracciatella magic"}];const{document:ae}=De;function pe(o,e,n){const t=o.slice();return t[12]=e[n],t}function ke(o,e,n){const t=o.slice();return t[12]=e[n],t}function ye(o){let e,n,t,_,u,k,i,l=o[12].name+"",E,c,r,d,S,O,g,p,$,L,B,D,J,V,z,W;u=new ue({props:{cake:o[12]}});function H(...F){return o[5](o[12],...F)}function C(...F){return o[6](o[12],...F)}return{c(){e=w("div"),n=w("div"),t=w("button"),_=w("div"),te(u.$$.fragment),k=R(),i=w("div"),E=M(l),c=R(),r=w("button"),d=M("Delete"),S=R(),O=w("a"),g=w("button"),p=M("Edit"),L=R(),B=w("button"),D=M("Add"),J=R(),this.h()},l(F){e=T(F,"DIV",{class:!0});var A=b(e);n=T(A,"DIV",{class:!0});var f=b(n);t=T(f,"BUTTON",{class:!0});var Z=b(t);_=T(Z,"DIV",{class:!0});var a=b(_);le(u.$$.fragment,a),a.forEach(m),Z.forEach(m),k=U(f),i=T(f,"DIV",{class:!0});var y=b(i);E=P(y,l),y.forEach(m),c=U(f),r=T(f,"BUTTON",{class:!0});var I=b(r);d=P(I,"Delete"),I.forEach(m),S=U(f),O=T(f,"A",{class:!0,href:!0});var h=b(O);g=T(h,"BUTTON",{});var q=b(g);p=P(q,"Edit"),q.forEach(m),h.forEach(m),L=U(f),B=T(f,"BUTTON",{});var X=b(B);D=P(X,"Add"),X.forEach(m),f.forEach(m),J=U(A),A.forEach(m),this.h()},h(){v(_,"class","cake"),v(t,"class","cakeRow__button flat svelte-13kqond"),v(i,"class","label svelte-13kqond"),v(r,"class",""),v(O,"class","icobutton flat"),v(O,"href",$=_e(o[12])),v(n,"class","cakeRow__item svelte-13kqond"),v(e,"class","cakeRow")},m(F,A){j(F,e,A),s(e,n),s(n,t),s(t,_),ne(u,_,null),s(n,k),s(n,i),s(i,E),s(n,c),s(n,r),s(r,d),s(n,S),s(n,O),s(O,g),s(g,p),s(n,L),s(n,B),s(B,D),s(e,J),V=!0,z||(W=[Y(r,"click",H),Y(B,"click",C)],z=!0)},p(F,A){o=F;const f={};A&1&&(f.cake=o[12]),u.$set(f),(!V||A&1)&&l!==(l=o[12].name+"")&&Te(E,l),(!V||A&1&&$!==($=_e(o[12])))&&v(O,"href",$)},i(F){V||(N(u.$$.fragment,F),V=!0)},o(F){G(u.$$.fragment,F),V=!1},d(F){F&&m(e),oe(u),z=!1,Be(W)}}}function Ee(o){let e,n,t,_,u,k,i,l,E,c,r,d,S,O;u=new ue({props:{cake:o[12]}});function g(...$){return o[8](o[12],...$)}function p(...$){return o[9](o[12],...$)}return{c(){e=w("div"),n=w("div"),t=w("button"),_=w("div"),te(u.$$.fragment),k=R(),i=w("div"),l=w("form"),E=w("input"),r=R(),this.h()},l($){e=T($,"DIV",{class:!0});var L=b(e);n=T(L,"DIV",{class:!0});var B=b(n);t=T(B,"BUTTON",{class:!0});var D=b(t);_=T(D,"DIV",{class:!0});var J=b(_);le(u.$$.fragment,J),J.forEach(m),D.forEach(m),k=U(B),i=T(B,"DIV",{class:!0});var V=b(i);l=T(V,"FORM",{});var z=b(l);E=T(z,"INPUT",{class:!0}),z.forEach(m),V.forEach(m),B.forEach(m),r=U(L),L.forEach(m),this.h()},h(){v(_,"class","cake"),v(t,"class","cakeRow__button superflat flat svelte-13kqond"),v(E,"class","cakeRow__input svelte-13kqond"),E.value=c=o[12].name,v(i,"class","label svelte-13kqond"),v(n,"class","cakeRow__item svelte-13kqond"),v(e,"class","cakeRow")},m($,L){j($,e,L),s(e,n),s(n,t),s(t,_),ne(u,_,null),s(n,k),s(n,i),s(i,l),s(l,E),s(e,r),d=!0,S||(O=[Y(t,"click",g),Y(E,"change",p)],S=!0)},p($,L){o=$;const B={};L&2&&(B.cake=o[12]),u.$set(B),(!d||L&2&&c!==(c=o[12].name)&&E.value!==c)&&(E.value=c)},i($){d||(N(u.$$.fragment,$),d=!0)},o($){G(u.$$.fragment,$),d=!1},d($){$&&m(e),oe(u),S=!1,Be(O)}}}function Ve(o){let e,n,t,_,u,k,i,l,E,c,r,d,S,O,g,p,$,L,B,D,J,V,z,W,H=o[0],C=[];for(let a=0;a<H.length;a+=1)C[a]=ye(ke(o,H,a));const F=a=>G(C[a],1,1,()=>{C[a]=null});D=new Oe({props:{printList:o[1]}});let A=o[1],f=[];for(let a=0;a<A.length;a+=1)f[a]=Ee(pe(o,A,a));const Z=a=>G(f[a],1,1,()=>{f[a]=null});return{c(){e=w("meta"),n=R(),t=w("section"),_=w("h1"),u=M("Menu generator"),k=R(),i=w("div"),l=w("div"),E=M(`Stored in memory:
			`);for(let a=0;a<C.length;a+=1)C[a].c();c=R(),r=w("div"),d=M(`Selected for export:
			`),S=w("div"),O=M("(you can edit label of cakes here)"),g=R(),p=w("button"),$=M("Download"),L=R(),B=w("div"),te(D.$$.fragment),J=R();for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){const y=Se("svelte-4ig4ka",ae.head);e=T(y,"META",{name:!0,content:!0}),y.forEach(m),n=U(a),t=T(a,"SECTION",{});var I=b(t);_=T(I,"H1",{});var h=b(_);u=P(h,"Menu generator"),h.forEach(m),k=U(I),i=T(I,"DIV",{class:!0});var q=b(i);l=T(q,"DIV",{class:!0});var X=b(l);E=P(X,`Stored in memory:
			`);for(let Q=0;Q<C.length;Q+=1)C[Q].l(X);X.forEach(m),c=U(q),r=T(q,"DIV",{class:!0});var K=b(r);d=P(K,`Selected for export:
			`),S=T(K,"DIV",{class:!0});var de=b(S);O=P(de,"(you can edit label of cakes here)"),de.forEach(m),g=U(K),p=T(K,"BUTTON",{style:!0});var fe=b(p);$=P(fe,"Download"),fe.forEach(m),L=U(K),B=T(K,"DIV",{class:!0});var he=b(B);le(D.$$.fragment,he),he.forEach(m),J=U(K);for(let Q=0;Q<f.length;Q+=1)f[Q].l(K);K.forEach(m),q.forEach(m),I.forEach(m),this.h()},h(){ae.title="Menu",v(e,"name","description"),v(e,"content","Menu generator"),v(l,"class","cakeList svelte-13kqond"),v(S,"class","tiny"),we(p,"float","right"),v(B,"class","preview svelte-13kqond"),v(r,"class","cakeList printList svelte-13kqond"),v(i,"class","menu svelte-13kqond")},m(a,y){s(ae.head,e),j(a,n,y),j(a,t,y),s(t,_),s(_,u),s(t,k),s(t,i),s(i,l),s(l,E);for(let I=0;I<C.length;I+=1)C[I].m(l,null);s(i,c),s(i,r),s(r,d),s(r,S),s(S,O),s(r,g),s(r,p),s(p,$),s(r,L),s(r,B),ne(D,B,null),s(r,J);for(let I=0;I<f.length;I+=1)f[I].m(r,null);V=!0,z||(W=Y(p,"click",o[7]),z=!0)},p(a,[y]){if(y&25){H=a[0];let h;for(h=0;h<H.length;h+=1){const q=ke(a,H,h);C[h]?(C[h].p(q,y),N(C[h],1)):(C[h]=ye(q),C[h].c(),N(C[h],1),C[h].m(l,null))}for(se(),h=H.length;h<C.length;h+=1)F(h);ie()}const I={};if(y&2&&(I.printList=a[1]),D.$set(I),y&22){A=a[1];let h;for(h=0;h<A.length;h+=1){const q=pe(a,A,h);f[h]?(f[h].p(q,y),N(f[h],1)):(f[h]=Ee(q),f[h].c(),N(f[h],1),f[h].m(r,null))}for(se(),h=A.length;h<f.length;h+=1)Z(h);ie()}},i(a){if(!V){for(let y=0;y<H.length;y+=1)N(C[y]);N(D.$$.fragment,a);for(let y=0;y<A.length;y+=1)N(f[y]);V=!0}},o(a){C=C.filter(Boolean);for(let y=0;y<C.length;y+=1)G(C[y]);G(D.$$.fragment,a),f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)G(f[y]);V=!1},d(a){m(e),a&&m(n),a&&m(t),ce(C,a),oe(D),ce(f,a),z=!1,W()}}}function qe(o,e){return(o.name??"")>(e.name??"")?1:-1}function Ne(o,e){return(o.printOrder??0)>(e.printOrder??1)?1:-1}function Re(o,e,n){let t,_=[],u=[];const k=(g,p)=>{t&&(t.setItem(`${g.name}${p?re:""}`,JSON.stringify({...g,printOrder:p})),E())},i=g=>{var p;k(g,(((p=u.at(-1))==null?void 0:p.printOrder)??0)+1)},l=(g,p=!1)=>{t.removeItem(`${g.name}${p?re:""}`),E()},E=()=>{if(!t)return;t.length==0&&ge.forEach(p=>k(p,0));const g=new Array(t.length).fill("").reduce((p,$,L)=>{const B=t.key(L),D=JSON.parse(t.getItem(B)??"");return B.includes(re)?{cakeList:p.cakeList,printList:[...p.printList,D]}:{cakeList:[...p.cakeList,D],printList:p.printList}},{cakeList:[],printList:[]});n(0,_=g.cakeList.length>0?g.cakeList.sort(qe):ge),n(1,u=g.printList.sort(Ne))};return Le(()=>{typeof localStorage<"u"&&(t=localStorage,E())}),[_,u,k,i,l,(g,p)=>l(g,!1),(g,p)=>i(g),g=>Ie(document.getElementById("print"),"byMona-menu.svg"),(g,p)=>l(g,!0),(g,p)=>{l(g,!0),k({...g,name:p.currentTarget.value},g.printOrder??0)}]}class ze extends be{constructor(e){super(),$e(this,e,Re,Ve,Ce,{})}}export{ze as default};
