import{S as we,i as Be,s as Le,Q as te,q as M,R as le,m as b,r as P,h as m,n as u,b as Q,D as s,f as R,g as ce,d as fe,t as J,O as ue,w as re,x as ne,p as Se,y as oe,u as Te,z as ae,k as $,a as N,L as Ie,l as w,c as x,E as Y,o as Fe,ad as Ae,F as De}from"../../../chunks/index-fba324e5.js";import{C as de}from"../../../chunks/cake-0ad7062c.js";import{g as ve}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Ve}from"../../../chunks/downloadSVG-dd049a32.js";function pe(r,e,o){const l=r.slice();return l[2]=e[o],l[4]=o,l}function ke(r){let e,o,l,d=r[2].name+"",f,y;return o=new de({props:{cake:r[2],wrap:!1}}),{c(){e=te("g"),re(o.$$.fragment),l=te("text"),f=M(d),this.h()},l(n){e=le(n,"g",{transform:!0});var t=b(e);ne(o.$$.fragment,t),l=le(t,"text",{x:!0,y:!0,style:!0});var C=b(l);f=P(C,d),C.forEach(m),t.forEach(m),this.h()},h(){u(l,"x","340"),u(l,"y","150"),Se(l,"font-size","15mm"),u(e,"transform","translate(600, "+(200+r[4]*300)+")")},m(n,t){Q(n,e,t),oe(o,e,null),s(e,l),s(l,f),y=!0},p(n,t){const C={};t&1&&(C.cake=n[2]),o.$set(C),(!y||t&1)&&d!==(d=n[2].name+"")&&Te(f,d)},i(n){y||(R(o.$$.fragment,n),y=!0)},o(n){J(o.$$.fragment,n),y=!1},d(n){n&&m(e),ae(o)}}}function Oe(r){let e,o,l,d,f,y,n=r[0],t=[];for(let c=0;c<n.length;c+=1)t[c]=ke(pe(r,n,c));const C=c=>J(t[c],1,1,()=>{t[c]=null});return{c(){e=te("svg"),o=te("style"),l=M(`text {
			font-family: sans-serif;
		}
	`);for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=le(c,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var g=b(e);o=le(g,"style",{});var h=b(o);l=P(h,`text {
			font-family: sans-serif;
		}
	`),h.forEach(m);for(let L=0;L<t.length;L+=1)t[L].l(g);g.forEach(m),this.h()},h(){u(e,"id",r[1]),u(e,"width","210mm"),u(e,"height",d=30+r[0].length*30+"mm"),u(e,"viewBox",f="0 0 2100 "+(300+r[0].length*300)),u(e,"version","1.1"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"xml:space","preserve")},m(c,g){Q(c,e,g),s(e,o),s(o,l);for(let h=0;h<t.length;h+=1)t[h].m(e,null);y=!0},p(c,[g]){if(g&1){n=c[0];let h;for(h=0;h<n.length;h+=1){const L=pe(c,n,h);t[h]?(t[h].p(L,g),R(t[h],1)):(t[h]=ke(L),t[h].c(),R(t[h],1),t[h].m(e,null))}for(ce(),h=n.length;h<t.length;h+=1)C(h);fe()}(!y||g&2)&&u(e,"id",c[1]),(!y||g&1&&d!==(d=30+c[0].length*30+"mm"))&&u(e,"height",d),(!y||g&1&&f!==(f="0 0 2100 "+(300+c[0].length*300)))&&u(e,"viewBox",f)},i(c){if(!y){for(let g=0;g<n.length;g+=1)R(t[g]);y=!0}},o(c){t=t.filter(Boolean);for(let g=0;g<t.length;g+=1)J(t[g]);y=!1},d(c){c&&m(e),ue(t,c)}}}function Re(r,e,o){let{printList:l=[]}=e,{id:d="print"}=e;return r.$$set=f=>{"printList"in f&&o(0,l=f.printList),"id"in f&&o(1,d=f.id)},[l,d]}class Ne extends we{constructor(e){super(),Be(this,e,Re,Oe,Le,{printList:0,id:1})}}const se="$P$",ye=[{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F6E0B2",secondaryColor:"#E7A27A"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#F6E0B2",secondaryColor:"#BA555C",pattern:10},fillingTop:{color:"#C2977D",secondaryColor:"#E3B98F",pattern:4},midSection:!0,name:"Creamy strawberry "},{default:!0,decorationType:3,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#BA555C",secondaryColor:"#F6E0B2"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#5D967F",secondaryColor:"#845C51",pattern:1},fillingTop:{},midSection:!0,name:"Raspberry choco"},{default:!0,decorationType:6,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#845C51",secondaryColor:"#5D967F"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#61465F",secondaryColor:"#E7A27A",pattern:4},fillingTop:{},midSection:!1,name:"Simple caramel"},{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F5E9C4",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#EFAB64",secondaryColor:"#E2816F",pattern:3},fillingTop:{},midSection:!0,name:"Simple pleasure"},{default:!0,decorationType:9,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#C2977D",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{color:"#61465F"},icing:{},filling:{color:"#E7A27A",secondaryColor:"#F6E0B2",pattern:9},fillingTop:{color:"#C2977D",secondaryColor:"#F5E9C4",pattern:8},midSection:!1,name:"Stracciatella magic"}];const{document:ie}=Ae;function Ee(r,e,o){const l=r.slice();return l[12]=e[o],l}function be(r,e,o){const l=r.slice();return l[12]=e[o],l}function Ce(r){let e,o,l,d,f,y,n,t=r[12].name+"",C,c,g,h,L,S,_,i,D,B,V,O,F,U,H;f=new de({props:{cake:r[12]}});function K(...T){return r[5](r[12],...T)}function j(...T){return r[6](r[12],...T)}return{c(){e=$("div"),o=$("div"),l=$("button"),d=$("div"),re(f.$$.fragment),y=N(),n=$("div"),C=M(t),c=N(),g=$("br"),h=N(),L=$("a"),S=$("button"),_=M("Edit"),D=N(),B=$("button"),V=M("Delete"),O=N(),this.h()},l(T){e=w(T,"DIV",{class:!0});var I=b(e);o=w(I,"DIV",{class:!0});var k=b(o);l=w(k,"BUTTON",{class:!0});var Z=b(l);d=w(Z,"DIV",{class:!0});var q=b(d);ne(f.$$.fragment,q),q.forEach(m),Z.forEach(m),y=x(k),n=w(k,"DIV",{class:!0});var p=b(n);C=P(p,t),c=x(p),g=w(p,"BR",{}),h=x(p),L=w(p,"A",{class:!0,href:!0});var ee=b(L);S=w(ee,"BUTTON",{});var a=b(S);_=P(a,"Edit"),a.forEach(m),ee.forEach(m),D=x(p),B=w(p,"BUTTON",{class:!0});var E=b(B);V=P(E,"Delete"),E.forEach(m),p.forEach(m),k.forEach(m),O=x(I),I.forEach(m),this.h()},h(){u(d,"class","cake"),u(l,"class","cakeRow__button flat svelte-txfh84"),u(L,"class","icobutton flat"),u(L,"href",i=ve(r[12])),u(B,"class",""),u(n,"class","label svelte-txfh84"),u(o,"class","cakeRow__item svelte-txfh84"),u(e,"class","cakeRow")},m(T,I){Q(T,e,I),s(e,o),s(o,l),s(l,d),oe(f,d,null),s(o,y),s(o,n),s(n,C),s(n,c),s(n,g),s(n,h),s(n,L),s(L,S),s(S,_),s(n,D),s(n,B),s(B,V),s(e,O),F=!0,U||(H=[Y(l,"click",K),Y(B,"click",j)],U=!0)},p(T,I){r=T;const k={};I&1&&(k.cake=r[12]),f.$set(k),(!F||I&1)&&t!==(t=r[12].name+"")&&Te(C,t),(!F||I&1&&i!==(i=ve(r[12])))&&u(L,"href",i)},i(T){F||(R(f.$$.fragment,T),F=!0)},o(T){J(f.$$.fragment,T),F=!1},d(T){T&&m(e),ae(f),U=!1,De(H)}}}function $e(r){let e,o,l,d,f,y,n,t,C,c,g,h,L;f=new de({props:{cake:r[12]}});function S(...i){return r[8](r[12],...i)}function _(...i){return r[9](r[12],...i)}return{c(){e=$("div"),o=$("div"),l=$("button"),d=$("div"),re(f.$$.fragment),y=N(),n=$("div"),t=$("textarea"),c=N(),this.h()},l(i){e=w(i,"DIV",{class:!0});var D=b(e);o=w(D,"DIV",{class:!0});var B=b(o);l=w(B,"BUTTON",{class:!0});var V=b(l);d=w(V,"DIV",{class:!0});var O=b(d);ne(f.$$.fragment,O),O.forEach(m),V.forEach(m),y=x(B),n=w(B,"DIV",{class:!0});var F=b(n);t=w(F,"TEXTAREA",{cols:!0,class:!0}),b(t).forEach(m),F.forEach(m),B.forEach(m),c=x(D),D.forEach(m),this.h()},h(){u(d,"class","cake"),u(l,"class","cakeRow__button superflat flat svelte-txfh84"),u(t,"cols","13"),u(t,"class","cakeRow__input svelte-txfh84"),t.value=C=r[12].name,u(n,"class","label svelte-txfh84"),u(o,"class","cakeRow__item svelte-txfh84"),u(e,"class","cakeRow")},m(i,D){Q(i,e,D),s(e,o),s(o,l),s(l,d),oe(f,d,null),s(o,y),s(o,n),s(n,t),s(e,c),g=!0,h||(L=[Y(l,"click",S),Y(t,"change",_)],h=!0)},p(i,D){r=i;const B={};D&2&&(B.cake=r[12]),f.$set(B),(!g||D&2&&C!==(C=r[12].name))&&(t.value=C)},i(i){g||(R(f.$$.fragment,i),g=!0)},o(i){J(f.$$.fragment,i),g=!1},d(i){i&&m(e),ae(f),h=!1,De(L)}}}function xe(r){let e,o,l,d,f,y,n,t,C,c,g,h,L,S,_,i,D,B,V,O,F,U,H,K,j,T,I=r[0],k=[];for(let a=0;a<I.length;a+=1)k[a]=Ce(be(r,I,a));const Z=a=>J(k[a],1,1,()=>{k[a]=null});U=new Ne({props:{printList:r[1]}});let q=r[1],p=[];for(let a=0;a<q.length;a+=1)p[a]=$e(Ee(r,q,a));const ee=a=>J(p[a],1,1,()=>{p[a]=null});return{c(){e=$("meta"),o=N(),l=$("section"),d=$("h1"),f=M("Menu generator"),y=N(),n=$("div"),t=$("div"),C=M(`Stored in memory:
			`),c=$("div"),g=M("(Click on imago to select it for printing)"),h=N();for(let a=0;a<k.length;a+=1)k[a].c();L=N(),S=$("div"),_=$("button"),i=M("Download"),D=M(`
			Selected for export:
			`),B=$("div"),V=M("(you can edit label of cakes here)"),O=N(),F=$("div"),re(U.$$.fragment),H=N();for(let a=0;a<p.length;a+=1)p[a].c();this.h()},l(a){const E=Ie("svelte-4ig4ka",ie.head);e=w(E,"META",{name:!0,content:!0}),E.forEach(m),o=x(a),l=w(a,"SECTION",{});var A=b(l);d=w(A,"H1",{});var v=b(d);f=P(v,"Menu generator"),v.forEach(m),y=x(A),n=w(A,"DIV",{class:!0});var z=b(n);t=w(z,"DIV",{class:!0});var W=b(t);C=P(W,`Stored in memory:
			`),c=w(W,"DIV",{class:!0});var he=b(c);g=P(he,"(Click on imago to select it for printing)"),he.forEach(m),h=x(W);for(let G=0;G<k.length;G+=1)k[G].l(W);W.forEach(m),L=x(z),S=w(z,"DIV",{class:!0});var X=b(S);_=w(X,"BUTTON",{style:!0});var _e=b(_);i=P(_e,"Download"),_e.forEach(m),D=P(X,`
			Selected for export:
			`),B=w(X,"DIV",{class:!0});var me=b(B);V=P(me,"(you can edit label of cakes here)"),me.forEach(m),O=x(X),F=w(X,"DIV",{class:!0});var ge=b(F);ne(U.$$.fragment,ge),ge.forEach(m),H=x(X);for(let G=0;G<p.length;G+=1)p[G].l(X);X.forEach(m),z.forEach(m),A.forEach(m),this.h()},h(){ie.title="Menu",u(e,"name","description"),u(e,"content","Menu generator"),u(c,"class","tiny"),u(t,"class","cakeList svelte-txfh84"),Se(_,"float","right"),u(B,"class","tiny"),u(F,"class","preview svelte-txfh84"),u(S,"class","cakeList printList svelte-txfh84"),u(n,"class","menu svelte-txfh84")},m(a,E){s(ie.head,e),Q(a,o,E),Q(a,l,E),s(l,d),s(d,f),s(l,y),s(l,n),s(n,t),s(t,C),s(t,c),s(c,g),s(t,h);for(let A=0;A<k.length;A+=1)k[A].m(t,null);s(n,L),s(n,S),s(S,_),s(_,i),s(S,D),s(S,B),s(B,V),s(S,O),s(S,F),oe(U,F,null),s(S,H);for(let A=0;A<p.length;A+=1)p[A].m(S,null);K=!0,j||(T=Y(_,"click",r[7]),j=!0)},p(a,[E]){if(E&25){I=a[0];let v;for(v=0;v<I.length;v+=1){const z=be(a,I,v);k[v]?(k[v].p(z,E),R(k[v],1)):(k[v]=Ce(z),k[v].c(),R(k[v],1),k[v].m(t,null))}for(ce(),v=I.length;v<k.length;v+=1)Z(v);fe()}const A={};if(E&2&&(A.printList=a[1]),U.$set(A),E&22){q=a[1];let v;for(v=0;v<q.length;v+=1){const z=Ee(a,q,v);p[v]?(p[v].p(z,E),R(p[v],1)):(p[v]=$e(z),p[v].c(),R(p[v],1),p[v].m(S,null))}for(ce(),v=q.length;v<p.length;v+=1)ee(v);fe()}},i(a){if(!K){for(let E=0;E<I.length;E+=1)R(k[E]);R(U.$$.fragment,a);for(let E=0;E<q.length;E+=1)R(p[E]);K=!0}},o(a){k=k.filter(Boolean);for(let E=0;E<k.length;E+=1)J(k[E]);J(U.$$.fragment,a),p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)J(p[E]);K=!1},d(a){m(e),a&&m(o),a&&m(l),ue(k,a),ae(U),ue(p,a),j=!1,T()}}}function Ue(r,e){return(r.name??"")>(e.name??"")?1:-1}function Me(r,e){return(r.printOrder??0)>(e.printOrder??1)?1:-1}function Pe(r,e,o){let l,d=[],f=[];const y=(_,i)=>{l&&(l.setItem(`${_.name}${i?se:""}`,JSON.stringify({..._,printOrder:i})),C())},n=_=>{var i;y(_,(((i=f.at(-1))==null?void 0:i.printOrder)??0)+1)},t=(_,i=!1)=>{l.removeItem(`${_.name}${i?se:""}`),C()},C=()=>{if(!l)return;l.length==0&&ye.forEach(i=>y(i,0));const _=new Array(l.length).fill("").reduce((i,D,B)=>{const V=l.key(B),O=JSON.parse(l.getItem(V)??"");return V.includes(se)?{cakeList:i.cakeList,printList:[...i.printList,O]}:{cakeList:[...i.cakeList,O],printList:i.printList}},{cakeList:[],printList:[]});o(0,d=_.cakeList.length>0?_.cakeList.sort(Ue):ye),o(1,f=_.printList.sort(Me))};return Fe(()=>{typeof localStorage<"u"&&(l=localStorage,C())}),[d,f,y,n,t,(_,i)=>n(_),(_,i)=>t(_,!1),_=>Ve(document.getElementById("print"),"byMona-menu.svg"),(_,i)=>t(_,!0),(_,i)=>{t(_,!0),y({..._,name:i.currentTarget.value},_.printOrder??0)}]}class Ge extends we{constructor(e){super(),Be(this,e,Pe,xe,Le,{})}}export{Ge as default};
