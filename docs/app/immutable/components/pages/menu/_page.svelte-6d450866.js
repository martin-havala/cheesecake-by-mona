import{S as we,i as Be,s as Le,Q as te,q as U,R as le,m as C,r as P,h,n as u,b as Q,D as a,f as N,g as ce,d as fe,t as J,O as ue,w as re,x as ne,p as Se,y as oe,u as Te,z as ae,k as $,a as x,L as Ie,l as w,c as M,E as Y,o as Fe,ad as Ae,F as De}from"../../../chunks/index-fba324e5.js";import{C as de}from"../../../chunks/cake-d3ee5929.js";import{g as ve}from"../../../chunks/bake-url-dd64d6a1.js";import{d as Ve}from"../../../chunks/downloadSVG-dd049a32.js";function pe(r,e,o){const t=r.slice();return t[2]=e[o],t[4]=o,t}function ke(r){let e,o,t,d=r[2].name+"",c,k;return o=new de({props:{cake:r[2],wrap:!1}}),{c(){e=te("g"),re(o.$$.fragment),t=te("text"),c=U(d),this.h()},l(n){e=le(n,"g",{transform:!0});var l=C(e);ne(o.$$.fragment,l),t=le(l,"text",{x:!0,y:!0,style:!0});var y=C(t);c=P(y,d),y.forEach(h),l.forEach(h),this.h()},h(){u(t,"x","340"),u(t,"y","150"),Se(t,"font-size","15mm"),u(e,"transform","translate(600, "+(200+r[4]*300)+")")},m(n,l){Q(n,e,l),oe(o,e,null),a(e,t),a(t,c),k=!0},p(n,l){const y={};l&1&&(y.cake=n[2]),o.$set(y),(!k||l&1)&&d!==(d=n[2].name+"")&&Te(c,d)},i(n){k||(N(o.$$.fragment,n),k=!0)},o(n){J(o.$$.fragment,n),k=!1},d(n){n&&h(e),ae(o)}}}function Oe(r){let e,o,t,d,c,k,n=r[0],l=[];for(let i=0;i<n.length;i+=1)l[i]=ke(pe(r,n,i));const y=i=>J(l[i],1,1,()=>{l[i]=null});return{c(){e=te("svg"),o=te("style"),t=U(`text {
			font-family: sans-serif;
		}
	`);for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=le(i,"svg",{id:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xml:space":!0});var g=C(e);o=le(g,"style",{});var f=C(o);t=P(f,`text {
			font-family: sans-serif;
		}
	`),f.forEach(h);for(let L=0;L<l.length;L+=1)l[L].l(g);g.forEach(h),this.h()},h(){u(e,"id",r[1]),u(e,"width","210mm"),u(e,"height",d=30+r[0].length*30+"mm"),u(e,"viewBox",c="0 0 2100 "+(300+r[0].length*300)),u(e,"version","1.1"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"xml:space","preserve")},m(i,g){Q(i,e,g),a(e,o),a(o,t);for(let f=0;f<l.length;f+=1)l[f].m(e,null);k=!0},p(i,[g]){if(g&1){n=i[0];let f;for(f=0;f<n.length;f+=1){const L=pe(i,n,f);l[f]?(l[f].p(L,g),N(l[f],1)):(l[f]=ke(L),l[f].c(),N(l[f],1),l[f].m(e,null))}for(ce(),f=n.length;f<l.length;f+=1)y(f);fe()}(!k||g&2)&&u(e,"id",i[1]),(!k||g&1&&d!==(d=30+i[0].length*30+"mm"))&&u(e,"height",d),(!k||g&1&&c!==(c="0 0 2100 "+(300+i[0].length*300)))&&u(e,"viewBox",c)},i(i){if(!k){for(let g=0;g<n.length;g+=1)N(l[g]);k=!0}},o(i){l=l.filter(Boolean);for(let g=0;g<l.length;g+=1)J(l[g]);k=!1},d(i){i&&h(e),ue(l,i)}}}function Re(r,e,o){let{printList:t=[]}=e,{id:d="print"}=e;return r.$$set=c=>{"printList"in c&&o(0,t=c.printList),"id"in c&&o(1,d=c.id)},[t,d]}class Ne extends we{constructor(e){super(),Be(this,e,Re,Oe,Le,{printList:0,id:1})}}const se="$P$",ye=[{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F6E0B2",secondaryColor:"#E7A27A"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#F6E0B2",secondaryColor:"#BA555C",pattern:10},fillingTop:{color:"#C2977D",secondaryColor:"#E3B98F",pattern:4},midSection:!0,name:"Creamy strawberry "},{default:!0,decorationType:3,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#BA555C",secondaryColor:"#F6E0B2"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#5D967F",secondaryColor:"#845C51",pattern:1},fillingTop:{},midSection:!0,name:"Raspberry choco"},{default:!0,decorationType:6,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#845C51",secondaryColor:"#5D967F"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#61465F",secondaryColor:"#E7A27A",pattern:4},fillingTop:{},midSection:!1,name:"Simple caramel"},{default:!0,decorationType:1,corpus:{color:"#000000",secondaryColor:"#000000"},style:0,body:{color:"#F5E9C4",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{},icing:{},filling:{color:"#EFAB64",secondaryColor:"#E2816F",pattern:3},fillingTop:{},midSection:!0,name:"Simple pleasure"},{default:!0,decorationType:9,corpus:{color:"#000000",secondaryColor:"#000000"},style:1,body:{color:"#C2977D",secondaryColor:"#EFAB64"},decorationStroke:{},decoration:{color:"#61465F"},icing:{},filling:{color:"#E7A27A",secondaryColor:"#F6E0B2",pattern:9},fillingTop:{color:"#C2977D",secondaryColor:"#F5E9C4",pattern:8},midSection:!1,name:"Stracciatella magic"}];const{document:ie}=Ae;function Ee(r,e,o){const t=r.slice();return t[12]=e[o],t}function be(r,e,o){const t=r.slice();return t[12]=e[o],t}function Ce(r){let e,o,t,d,c,k,n,l=r[12].name+"",y,i,g,f,L,T,_,E,S,B,D,R,A,V,X;c=new de({props:{cake:r[12]}});function K(...I){return r[5](r[12],...I)}function j(...I){return r[6](r[12],...I)}return{c(){e=$("div"),o=$("div"),t=$("button"),d=$("div"),re(c.$$.fragment),k=x(),n=$("div"),y=U(l),i=x(),g=$("br"),f=x(),L=$("a"),T=$("button"),_=U("Edit"),S=x(),B=$("button"),D=U("Delete"),R=x(),this.h()},l(I){e=w(I,"DIV",{class:!0});var F=C(e);o=w(F,"DIV",{class:!0});var p=C(o);t=w(p,"BUTTON",{class:!0});var Z=C(t);d=w(Z,"DIV",{class:!0});var q=C(d);ne(c.$$.fragment,q),q.forEach(h),Z.forEach(h),k=M(p),n=w(p,"DIV",{class:!0});var v=C(n);y=P(v,l),i=M(v),g=w(v,"BR",{}),f=M(v),L=w(v,"A",{class:!0,href:!0});var ee=C(L);T=w(ee,"BUTTON",{});var s=C(T);_=P(s,"Edit"),s.forEach(h),ee.forEach(h),S=M(v),B=w(v,"BUTTON",{class:!0});var b=C(B);D=P(b,"Delete"),b.forEach(h),v.forEach(h),p.forEach(h),R=M(F),F.forEach(h),this.h()},h(){u(d,"class","cake"),u(t,"class","cakeRow__button flat svelte-txfh84"),u(L,"class","icobutton flat"),u(L,"href",E=ve(r[12])),u(B,"class",""),u(n,"class","label svelte-txfh84"),u(o,"class","cakeRow__item svelte-txfh84"),u(e,"class","cakeRow")},m(I,F){Q(I,e,F),a(e,o),a(o,t),a(t,d),oe(c,d,null),a(o,k),a(o,n),a(n,y),a(n,i),a(n,g),a(n,f),a(n,L),a(L,T),a(T,_),a(n,S),a(n,B),a(B,D),a(e,R),A=!0,V||(X=[Y(t,"click",K),Y(B,"click",j)],V=!0)},p(I,F){r=I;const p={};F&1&&(p.cake=r[12]),c.$set(p),(!A||F&1)&&l!==(l=r[12].name+"")&&Te(y,l),(!A||F&1&&E!==(E=ve(r[12])))&&u(L,"href",E)},i(I){A||(N(c.$$.fragment,I),A=!0)},o(I){J(c.$$.fragment,I),A=!1},d(I){I&&h(e),ae(c),V=!1,De(X)}}}function $e(r){let e,o,t,d,c,k,n,l,y,i,g,f,L,T;c=new de({props:{cake:r[12]}});function _(...S){return r[8](r[12],...S)}function E(...S){return r[9](r[12],...S)}return{c(){e=$("div"),o=$("div"),t=$("button"),d=$("div"),re(c.$$.fragment),k=x(),n=$("div"),l=$("form"),y=$("textarea"),g=x(),this.h()},l(S){e=w(S,"DIV",{class:!0});var B=C(e);o=w(B,"DIV",{class:!0});var D=C(o);t=w(D,"BUTTON",{class:!0});var R=C(t);d=w(R,"DIV",{class:!0});var A=C(d);ne(c.$$.fragment,A),A.forEach(h),R.forEach(h),k=M(D),n=w(D,"DIV",{class:!0});var V=C(n);l=w(V,"FORM",{});var X=C(l);y=w(X,"TEXTAREA",{cols:!0,class:!0}),C(y).forEach(h),X.forEach(h),V.forEach(h),D.forEach(h),g=M(B),B.forEach(h),this.h()},h(){u(d,"class","cake"),u(t,"class","cakeRow__button superflat flat svelte-txfh84"),u(y,"cols","13"),u(y,"class","cakeRow__input svelte-txfh84"),y.value=i=r[12].name,u(n,"class","label svelte-txfh84"),u(o,"class","cakeRow__item svelte-txfh84"),u(e,"class","cakeRow")},m(S,B){Q(S,e,B),a(e,o),a(o,t),a(t,d),oe(c,d,null),a(o,k),a(o,n),a(n,l),a(l,y),a(e,g),f=!0,L||(T=[Y(t,"click",_),Y(y,"change",E)],L=!0)},p(S,B){r=S;const D={};B&2&&(D.cake=r[12]),c.$set(D),(!f||B&2&&i!==(i=r[12].name))&&(y.value=i)},i(S){f||(N(c.$$.fragment,S),f=!0)},o(S){J(c.$$.fragment,S),f=!1},d(S){S&&h(e),ae(c),L=!1,De(T)}}}function xe(r){let e,o,t,d,c,k,n,l,y,i,g,f,L,T,_,E,S,B,D,R,A,V,X,K,j,I,F=r[0],p=[];for(let s=0;s<F.length;s+=1)p[s]=Ce(be(r,F,s));const Z=s=>J(p[s],1,1,()=>{p[s]=null});V=new Ne({props:{printList:r[1]}});let q=r[1],v=[];for(let s=0;s<q.length;s+=1)v[s]=$e(Ee(r,q,s));const ee=s=>J(v[s],1,1,()=>{v[s]=null});return{c(){e=$("meta"),o=x(),t=$("section"),d=$("h1"),c=U("Menu generator"),k=x(),n=$("div"),l=$("div"),y=U(`Stored in memory:
			`),i=$("div"),g=U("(Click on imago to select it for printing)"),f=x();for(let s=0;s<p.length;s+=1)p[s].c();L=x(),T=$("div"),_=$("button"),E=U("Download"),S=U(`
			Selected for export:
			`),B=$("div"),D=U("(you can edit label of cakes here)"),R=x(),A=$("div"),re(V.$$.fragment),X=x();for(let s=0;s<v.length;s+=1)v[s].c();this.h()},l(s){const b=Ie("svelte-4ig4ka",ie.head);e=w(b,"META",{name:!0,content:!0}),b.forEach(h),o=M(s),t=w(s,"SECTION",{});var O=C(t);d=w(O,"H1",{});var m=C(d);c=P(m,"Menu generator"),m.forEach(h),k=M(O),n=w(O,"DIV",{class:!0});var z=C(n);l=w(z,"DIV",{class:!0});var W=C(l);y=P(W,`Stored in memory:
			`),i=w(W,"DIV",{class:!0});var he=C(i);g=P(he,"(Click on imago to select it for printing)"),he.forEach(h),f=M(W);for(let H=0;H<p.length;H+=1)p[H].l(W);W.forEach(h),L=M(z),T=w(z,"DIV",{class:!0});var G=C(T);_=w(G,"BUTTON",{style:!0});var _e=C(_);E=P(_e,"Download"),_e.forEach(h),S=P(G,`
			Selected for export:
			`),B=w(G,"DIV",{class:!0});var me=C(B);D=P(me,"(you can edit label of cakes here)"),me.forEach(h),R=M(G),A=w(G,"DIV",{class:!0});var ge=C(A);ne(V.$$.fragment,ge),ge.forEach(h),X=M(G);for(let H=0;H<v.length;H+=1)v[H].l(G);G.forEach(h),z.forEach(h),O.forEach(h),this.h()},h(){ie.title="Menu",u(e,"name","description"),u(e,"content","Menu generator"),u(i,"class","tiny"),u(l,"class","cakeList svelte-txfh84"),Se(_,"float","right"),u(B,"class","tiny"),u(A,"class","preview svelte-txfh84"),u(T,"class","cakeList printList svelte-txfh84"),u(n,"class","menu svelte-txfh84")},m(s,b){a(ie.head,e),Q(s,o,b),Q(s,t,b),a(t,d),a(d,c),a(t,k),a(t,n),a(n,l),a(l,y),a(l,i),a(i,g),a(l,f);for(let O=0;O<p.length;O+=1)p[O].m(l,null);a(n,L),a(n,T),a(T,_),a(_,E),a(T,S),a(T,B),a(B,D),a(T,R),a(T,A),oe(V,A,null),a(T,X);for(let O=0;O<v.length;O+=1)v[O].m(T,null);K=!0,j||(I=Y(_,"click",r[7]),j=!0)},p(s,[b]){if(b&25){F=s[0];let m;for(m=0;m<F.length;m+=1){const z=be(s,F,m);p[m]?(p[m].p(z,b),N(p[m],1)):(p[m]=Ce(z),p[m].c(),N(p[m],1),p[m].m(l,null))}for(ce(),m=F.length;m<p.length;m+=1)Z(m);fe()}const O={};if(b&2&&(O.printList=s[1]),V.$set(O),b&22){q=s[1];let m;for(m=0;m<q.length;m+=1){const z=Ee(s,q,m);v[m]?(v[m].p(z,b),N(v[m],1)):(v[m]=$e(z),v[m].c(),N(v[m],1),v[m].m(T,null))}for(ce(),m=q.length;m<v.length;m+=1)ee(m);fe()}},i(s){if(!K){for(let b=0;b<F.length;b+=1)N(p[b]);N(V.$$.fragment,s);for(let b=0;b<q.length;b+=1)N(v[b]);K=!0}},o(s){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)J(p[b]);J(V.$$.fragment,s),v=v.filter(Boolean);for(let b=0;b<v.length;b+=1)J(v[b]);K=!1},d(s){h(e),s&&h(o),s&&h(t),ue(p,s),ae(V),ue(v,s),j=!1,I()}}}function Me(r,e){return(r.name??"")>(e.name??"")?1:-1}function Ue(r,e){return(r.printOrder??0)>(e.printOrder??1)?1:-1}function Pe(r,e,o){let t,d=[],c=[];const k=(_,E)=>{t&&(t.setItem(`${_.name}${E?se:""}`,JSON.stringify({..._,printOrder:E})),y())},n=_=>{var E;k(_,(((E=c.at(-1))==null?void 0:E.printOrder)??0)+1)},l=(_,E=!1)=>{t.removeItem(`${_.name}${E?se:""}`),y()},y=()=>{if(!t)return;t.length==0&&ye.forEach(E=>k(E,0));const _=new Array(t.length).fill("").reduce((E,S,B)=>{const D=t.key(B),R=JSON.parse(t.getItem(D)??"");return D.includes(se)?{cakeList:E.cakeList,printList:[...E.printList,R]}:{cakeList:[...E.cakeList,R],printList:E.printList}},{cakeList:[],printList:[]});o(0,d=_.cakeList.length>0?_.cakeList.sort(Me):ye),o(1,c=_.printList.sort(Ue))};return Fe(()=>{typeof localStorage<"u"&&(t=localStorage,y())}),[d,c,k,n,l,(_,E)=>n(_),(_,E)=>l(_,!1),_=>Ve(document.getElementById("print"),"byMona-menu.svg"),(_,E)=>l(_,!0),(_,E)=>{l(_,!0),k({..._,name:E.currentTarget.value},_.printOrder??0)}]}class Ge extends we{constructor(e){super(),Be(this,e,Pe,xe,Le,{})}}export{Ge as default};
