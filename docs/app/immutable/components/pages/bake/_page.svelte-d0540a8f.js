var er=Object.defineProperty;var tr=(t,e,n)=>e in t?er(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Io=(t,e,n)=>(tr(t,typeof e!="symbol"?e+"":e,n),n),to=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var c=(t,e,n)=>(to(t,e,"read from private field"),n?n.call(t):e.get(t)),D=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},S=(t,e,n,o)=>(to(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n);var z=(t,e,n)=>(to(t,e,"access private method"),n);import{S as qe,i as Be,s as Ve,W as dt,k as T,l as C,m as I,h as k,X as vn,Y as Qt,b as Y,D as W,Z as gn,_ as hl,M as jn,Q as nr,B as ye,$ as bn,a0 as Un,a1 as yn,e as To,R as Le,T as De,n as y,C as g,a as V,c as M,f as N,g as Oe,t as B,d as Ne,E as Ye,a2 as oe,a3 as le,w as x,x as ie,y as ee,a4 as re,z as te,G as ht,V as Co,a5 as or,I as _t,J as pt,K as mt,a6 as lr,j as rr,a7 as ir,a8 as sr,a9 as ar,p as Jt,N as $t,O as Hn,aa as En,P as yo,q as se,r as ae,v as kn,o as _l,ab as cr,L as ur}from"../../../chunks/index-431f36ca.js";import{a as So,P as vt,g as no}from"../../../chunks/cake-generator-3db9fc17.js";import{e as fr,s as dr}from"../../../chunks/index-18eb128e.js";import{P as oo,p as Pn,D as ao,S as tn,C as pl}from"../../../chunks/cake-01b969e8.js";import{c as hr,D as _r}from"../../../chunks/indexedDB-48e348a5.js";import{B as pr}from"../../../chunks/byMona-0cb4248d.js";import{d as mr}from"../../../chunks/download-SVG-dd049a32.js";function Ao(t){if(!/#[\dabcdef]{6}/i.test(t))return"transparent";if(t.indexOf("#")===0&&(t=t.slice(1)),t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t.length!==6)throw new Error("Invalid HEX color.");const e=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16);return e*.299+n*.587+o*.114>186?"#000000":"#FFFFFF"}function co(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function vr(t){if(Array.isArray(t))return co(t)}function gr(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ml(t,e){if(t){if(typeof t=="string")return co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(t,e)}}function br(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(t){return vr(t)||gr(t)||ml(t)||br()}function yr(t){if(Array.isArray(t))return t}function Er(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,r,i,a=[],s=!0,u=!1;try{if(r=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(a.push(o.value),a.length!==e);s=!0);}catch(h){u=!0,l=h}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return a}}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pr(t,e){return yr(t)||Er(t,e)||ml(t,e)||kr()}var wn=function(t){return t.reduce(function(e,n){var o=Pr(n,3),l=o[0],r=o[1],i=o[2];return l&&r?[].concat(Lo(e),[r]):!l&&i?[].concat(Lo(e),[i]):e},[]).join(" ")};const vl="add",wr="click",Ir="error",Tr="select",Do="none",gl="tooltip",Cr="drop";function Sr(t){let e,n,o,l,r,i,a,s=[{"data-testid":"__palette-slot-root__"},t[5],{"aria-label":n=t[0]||t[3]},{style:o="--color:"+t[0]+"; --outerBorderColor:"+(t[0]||"#aaa")+";"},{class:l=wn([[!t[0],"empty"],[t[1],"selected"],[!t[2],"clickable"]])},{disabled:t[2]}],u={};for(let h=0;h<s.length;h+=1)u=dt(u,s[h]);return{c(){e=T("button"),this.h()},l(h){e=C(h,"BUTTON",{"data-testid":!0,"aria-label":!0,style:!0,class:!0}),I(e).forEach(k),this.h()},h(){vn(e,u),Qt(e,"svelte-1mybjw2",!0)},m(h,_){Y(h,e,_),e.autofocus&&e.focus(),i||(a=W(e,"click",gn(t[4])),i=!0)},p(h,[_]){t=h,vn(e,u=hl(s,[{"data-testid":"__palette-slot-root__"},_&32&&t[5],_&9&&n!==(n=t[0]||t[3])&&{"aria-label":n},_&1&&o!==(o="--color:"+t[0]+"; --outerBorderColor:"+(t[0]||"#aaa")+";")&&{style:o},_&7&&l!==(l=wn([[!t[0],"empty"],[t[1],"selected"],[!t[2],"clickable"]]))&&{class:l},_&4&&{disabled:t[2]}])),Qt(e,"svelte-1mybjw2",!0)},i(h){r||jn(()=>{r=nr(e,dr,{duration:500,easing:fr}),r.start()})},o:ye,d(h){h&&k(e),i=!1,a()}}}function Ar(t,e,n){const o=["color","selected","disabled","emptyAriaLabel"];let l=bn(e,o),{color:r=null}=e,{selected:i=!1}=e,{disabled:a=!1}=e,{emptyAriaLabel:s="No color"}=e;const u=Un(),h=()=>!a&&u(wr,{color:r});return t.$$set=_=>{e=dt(dt({},e),yn(_)),n(5,l=bn(e,o)),"color"in _&&n(0,r=_.color),"selected"in _&&n(1,i=_.selected),"disabled"in _&&n(2,a=_.disabled),"emptyAriaLabel"in _&&n(3,s=_.emptyAriaLabel)},[r,i,a,s,h,l]}class Eo extends qe{constructor(e){super(),Be(this,e,Ar,Sr,Ve,{color:0,selected:1,disabled:2,emptyAriaLabel:3})}}function Lr(t){let e,n,o,l,r,i=[{"data-testid":"__palette-eyedropper-root__"},t[2],{type:"submit"},{"aria-label":t[0]}],a={};for(let s=0;s<i.length;s+=1)a=dt(a,i[s]);return{c(){e=T("button"),n=Le("svg"),o=Le("path"),this.h()},l(s){e=C(s,"BUTTON",{"data-testid":!0,type:!0,"aria-label":!0});var u=I(e);n=De(u,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var h=I(n);o=De(h,"path",{d:!0,class:!0}),I(o).forEach(k),h.forEach(k),u.forEach(k),this.h()},h(){y(o,"d","M 16 2.908 C 15.991 2.106 15.656 1.343 15.072 0.794 C 13.917 -0.299 12.048 -0.258 10.904 0.886 L 9.096 2.694 C 8.315 1.982 7.113 2.009 6.365 2.756 L 5.786 3.335 C 5.272 3.85 5.272 4.683 5.786 5.199 L 5.956 5.368 L 1.809 9.515 C 1.039 10.288 0.7 11.39 0.902 12.461 L 0.096 14.307 C -0.092 14.734 0.002 15.232 0.333 15.561 C 0.579 15.808 0.913 15.948 1.262 15.948 C 1.445 15.948 1.625 15.91 1.792 15.837 L 3.522 15.081 C 4.594 15.283 5.696 14.944 6.469 14.174 L 10.615 10.028 L 10.785 10.197 C 11.3 10.711 12.134 10.711 12.649 10.197 L 13.228 9.618 C 13.974 8.87 14.001 7.668 13.29 6.887 L 15.131 5.045 C 15.7 4.481 16.013 3.709 16 2.908 Z M 5.537 13.242 C 5.036 13.741 4.309 13.936 3.626 13.754 C 3.482 13.716 3.329 13.728 3.193 13.787 L 1.424 14.559 L 2.196 12.791 C 2.256 12.654 2.268 12.501 2.229 12.357 C 2.048 11.674 2.243 10.947 2.741 10.447 L 6.888 6.3 L 9.683 9.096 L 5.537 13.242 Z"),y(o,"class","svelte-la4wq"),y(n,"viewBox","0 0 16 16"),y(n,"width","16px"),y(n,"height","16px"),y(n,"class","svelte-la4wq"),vn(e,a),Qt(e,"svelte-la4wq",!0)},m(s,u){Y(s,e,u),g(e,n),g(n,o),e.autofocus&&e.focus(),l||(r=W(e,"click",gn(t[1])),l=!0)},p(s,u){vn(e,a=hl(i,[{"data-testid":"__palette-eyedropper-root__"},u&4&&s[2],{type:"submit"},u&1&&{"aria-label":s[0]}])),Qt(e,"svelte-la4wq",!0)},d(s){s&&k(e),l=!1,r()}}}function Dr(t){let e,n=!!window.EyeDropper&&Lr(t);return{c(){n&&n.c(),e=To()},l(o){n&&n.l(o),e=To()},m(o,l){n&&n.m(o,l),Y(o,e,l)},p(o,[l]){window.EyeDropper&&n.p(o,l)},i:ye,o:ye,d(o){n&&n.d(o),o&&k(e)}}}function Or(t,e,n){const o=["buttonAriaLabel"];let l=bn(e,o),{buttonAriaLabel:r="Submit this hex color value"}=e;const i=Un(),a=async()=>{try{const s=new EyeDropper,{sRGBHex:u}=await s.open();i(vl,{color:u})}catch(s){i(Ir,{error:s})}};return t.$$set=s=>{e=dt(dt({},e),yn(s)),n(2,l=bn(e,o)),"buttonAriaLabel"in s&&n(0,r=s.buttonAriaLabel)},[r,a,l]}class Nr extends qe{constructor(e){super(),Be(this,e,Or,Dr,Ve,{buttonAriaLabel:0})}}function Oo(t){let e,n,o;function l(i){t[10](i)}let r={"data-testid":"__palette-input-slot__",role:"presentation",tabindex:"-1",disabled:!0};return t[0]!==void 0&&(r.color=t[0]),e=new Eo({props:r}),oe.push(()=>le(e,"color",l,t[0])),{c(){x(e.$$.fragment)},l(i){ie(e.$$.fragment,i)},m(i,a){ee(e,i,a),o=!0},p(i,a){const s={};!n&&a&1&&(n=!0,s.color=i[0],re(()=>n=!1)),e.$set(s)},i(i){o||(N(e.$$.fragment,i),o=!0)},o(i){B(e.$$.fragment,i),o=!1},d(i){te(e,i)}}}function No(t){let e,n;return e=new Nr({props:{"data-testid":"__palette-input-eyedropper__",buttonAriaLabel:t[5]}}),e.$on("add",t[8]),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&32&&(r.buttonAriaLabel=o[5]),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function qr(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p=t[1]!=="color"&&Oo(t),E=t[1]!=="color"&&No(t);return{c(){e=T("form"),p&&p.c(),n=V(),o=T("input"),l=V(),r=T("button"),i=Le("svg"),a=Le("g"),s=Le("path"),h=V(),E&&E.c(),this.h()},l(v){e=C(v,"FORM",{"data-testid":!0,class:!0});var b=I(e);p&&p.l(b),n=M(b),o=C(b,"INPUT",{"data-testid":!0,type:!0,"aria-label":!0,title:!0,class:!0}),l=M(b),r=C(b,"BUTTON",{"data-testid":!0,type:!0,"aria-label":!0,class:!0});var A=I(r);i=De(A,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var j=I(i);a=De(j,"g",{transform:!0});var q=I(a);s=De(q,"path",{d:!0,class:!0}),I(s).forEach(k),q.forEach(k),j.forEach(k),A.forEach(k),h=M(b),E&&E.l(b),b.forEach(k),this.h()},h(){y(o,"data-testid","__palette-input-input__"),y(o,"type",t[1]),o.value=t[0],y(o,"aria-label",t[2]),y(o,"title",t[3]),y(o,"class","svelte-tkottm"),Qt(o,"color",t[1]==="color"),y(s,"d","M 14.857 9.143 L 9.143 9.143 L 9.143 14.857 C 9.143 15.489 8.631 16 8 16 C 7.369 16 6.857 15.489 6.857 14.857 L 6.857 9.143 L 1.143 9.143 C 0.512 9.143 0 8.632 0 8 C 0 7.368 0.512 6.857 1.143 6.857 L 6.857 6.857 L 6.857 1.143 C 6.857 0.511 7.369 0 8 0 C 8.631 0 9.143 0.511 9.143 1.143 L 9.143 6.857 L 14.857 6.857 C 15.488 6.857 16 7.368 16 8 C 16 8.632 15.488 9.143 14.857 9.143 Z"),y(s,"class","svelte-tkottm"),y(a,"transform","matrix(0.75, 0, 0, 0.75, 0, 0)"),y(i,"viewBox","0 0 12 12"),y(i,"width","12px"),y(i,"height","12px"),y(i,"class","svelte-tkottm"),y(r,"data-testid","__palette-input-submit__"),y(r,"type","submit"),r.disabled=u=!t[6],y(r,"aria-label",t[4]),y(r,"class","svelte-tkottm"),y(e,"data-testid","__palette-input-root__"),y(e,"class","svelte-tkottm")},m(v,b){Y(v,e,b),p&&p.m(e,null),g(e,n),g(e,o),g(e,l),g(e,r),g(r,i),g(i,a),g(a,s),g(e,h),E&&E.m(e,null),_=!0,d||(f=[W(o,"input",gn(t[7])),W(e,"submit",gn(t[9]))],d=!0)},p(v,[b]){v[1]!=="color"?p?(p.p(v,b),b&2&&N(p,1)):(p=Oo(v),p.c(),N(p,1),p.m(e,n)):p&&(Oe(),B(p,1,1,()=>{p=null}),Ne()),(!_||b&2)&&y(o,"type",v[1]),(!_||b&1&&o.value!==v[0])&&(o.value=v[0]),(!_||b&4)&&y(o,"aria-label",v[2]),(!_||b&8)&&y(o,"title",v[3]),(!_||b&2)&&Qt(o,"color",v[1]==="color"),(!_||b&64&&u!==(u=!v[6]))&&(r.disabled=u),(!_||b&16)&&y(r,"aria-label",v[4]),v[1]!=="color"?E?(E.p(v,b),b&2&&N(E,1)):(E=No(v),E.c(),N(E,1),E.m(e,null)):E&&(Oe(),B(E,1,1,()=>{E=null}),Ne())},i(v){_||(N(p),N(E),_=!0)},o(v){B(p),B(E),_=!1},d(v){v&&k(e),p&&p.d(),E&&E.d(),d=!1,Ye(f)}}}const qo=/^#?(([0-9a-f]{2}){3,4}|([0-9a-f]){3})$/gi;function Br(t,e,n){let o,{color:l=null}=e,{inputType:r="text"}=e,{inputAriaLabel:i="Enter an hex color value"}=e,{inputTitle:a="The value must be a valid hex color"}=e,{buttonAriaLabel:s="Submit this hex color value"}=e,{eyeDropperButtonAriaLabel:u="Pick a color from the screen"}=e;const h=Un(),_=v=>!!v&&qo.test(v),d=({target:{value:v}})=>{n(0,l=v)},f=({detail:{color:v}})=>{n(0,l=v)},p=()=>{h(vl,{color:l})};function E(v){l=v,n(0,l)}return t.$$set=v=>{"color"in v&&n(0,l=v.color),"inputType"in v&&n(1,r=v.inputType),"inputAriaLabel"in v&&n(2,i=v.inputAriaLabel),"inputTitle"in v&&n(3,a=v.inputTitle),"buttonAriaLabel"in v&&n(4,s=v.buttonAriaLabel),"eyeDropperButtonAriaLabel"in v&&n(5,u=v.eyeDropperButtonAriaLabel)},t.$$.update=()=>{t.$$.dirty&1&&n(0,l=(l==null?void 0:l.replace(qo,"#$1"))||""),t.$$.dirty&2&&n(1,r=r==="text"||r==="color"?r:"text"),t.$$.dirty&1&&n(6,o=_(l))},[l,r,i,a,s,u,o,d,f,p,E]}class Vr extends qe{constructor(e){super(),Be(this,e,Br,qr,Ve,{color:0,inputType:1,inputAriaLabel:2,inputTitle:3,buttonAriaLabel:4,eyeDropperButtonAriaLabel:5})}}var lo=function(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o},Bo=function(t){return function(e){if(Array.isArray(e))return lo(e)}(t)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return lo(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?lo(e,n):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()};function Vo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Nt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ro=function(t){return(t==null?void 0:t.nodeType)===1};function Mr(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(s,u){if(s){if(typeof s=="string")return Mo(s,u);var h=Object.prototype.toString.call(s).slice(8,-1);return h==="Object"&&s.constructor&&(h=s.constructor.name),h==="Map"||h==="Set"?Array.from(s):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Mo(s,u):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var o=0,l=function(){};return{s:l,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(s){throw s},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var s=n.next();return i=s.done,s},e:function(s){a=!0,r=s},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw r}}}}function Mo(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Ae=function(){function t(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),Nt(this,"_observer",null)}return function(e,n,o){n&&Vo(e.prototype,n),o&&Vo(e,o)}(t,[{key:"wait",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=l.events,i=r===void 0?t.EVENTS:r,a=l.timeout,s=a===void 0?0:a,u=l.attributeFilter,h=u===void 0?void 0:u,_=l.onError,d=_===void 0?void 0:_;return this.clear(),new Promise(function(f,p){var E=ro(e)?e:document.querySelector(e);E&&i.includes(t.EXIST)&&(o?o(E,t.EXIST):f({node:E,event:t.EXIST})),s>0&&(n._timeout=setTimeout(function(){n.clear();var v=new Error("[TIMEOUT]: Element ".concat(e," cannot be found after ").concat(s,"ms"));o?d==null||d(v):p(v)},s)),n._observer=new MutationObserver(function(v){v.forEach(function(b){var A,j=b.type,q=b.target,R=b.addedNodes,F=b.removedNodes,U=b.attributeName,w=b.oldValue;if(j==="childList"&&(i.includes(t.ADD)||i.includes(t.REMOVE))){var O,m=Mr([].concat(Bo(i.includes(t.ADD)?Array.from(R):[]),Bo(i.includes(t.REMOVE)?Array.from(F):[])));try{for(m.s();!(O=m.n()).done;){var L,G=O.value;(G===e||!ro(e)&&(L=G.matches)!==null&&L!==void 0&&L.call(G,e))&&(o?o(G,Array.from(R).includes(G)?t.ADD:t.REMOVE):f({node:G,event:Array.from(R).includes(G)?t.ADD:t.REMOVE}))}}catch($){m.e($)}finally{m.f()}}j==="attributes"&&i.includes(t.CHANGE)&&(q===e||!ro(e)&&(A=q.matches)!==null&&A!==void 0&&A.call(q,e))&&(o?o(q,t.CHANGE,{attributeName:U,oldValue:w}):f({node:q,event:t.CHANGE,options:{attributeName:U,oldValue:w}}))})}),n._observer.observe(document.documentElement,{subtree:!0,childList:i.includes(t.ADD)||i.includes(t.REMOVE),attributes:i.includes(t.CHANGE),attributeOldValue:i.includes(t.CHANGE),attributeFilter:h})})}},{key:"clear",value:function(){var e;(e=this._observer)===null||e===void 0||e.disconnect(),clearTimeout(this._timeout)}}]),t}();Nt(Ae,"EXIST","DOMObserver_exist"),Nt(Ae,"ADD","DOMObserver_add"),Nt(Ae,"REMOVE","DOMObserver_remove"),Nt(Ae,"CHANGE","DOMObserver_change"),Nt(Ae,"EVENTS",[Ae.EXIST,Ae.ADD,Ae.REMOVE,Ae.CHANGE]);var Ro=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;return new Promise(function(e){return setTimeout(e,t)})},so,Vt,X,de,rt,it,bt,st,Ue,yt,Et,at,Mt,Rt,jt,Ut,be,ct,Ht,Gt,ut,Re,Ge,je,nn,uo,In,bl,Tn,yl,on,fo,ln,ho,Cn,El,rn,_o,Sn,kl,An,Pl,Ln,wl,ft,qt,sn,po,Ft,pn,an,mo,Dn,Il,On,Tl,Nn,Cl;let _n=(so=class{constructor(e,n,o,l,r,i,a,s,u,h,_,d,f,p,E){D(this,nn);D(this,In);D(this,Tn);D(this,on);D(this,ln);D(this,Cn);D(this,rn);D(this,Sn);D(this,An);D(this,Ln);D(this,ft);D(this,sn);D(this,Ft);D(this,an);D(this,Dn);D(this,On);D(this,Nn);D(this,X,null);D(this,de,null);D(this,rt,null);D(this,it,null);D(this,bt,null);D(this,st,null);D(this,Ue,null);D(this,yt,!1);D(this,Et,null);D(this,at,null);D(this,Mt,0);D(this,Rt,0);D(this,jt,null);D(this,Ut,null);D(this,be,10);D(this,ct,null);D(this,Ht,[]);D(this,Gt,null);D(this,ut,!1);D(this,Re,null);D(this,Ge,null);D(this,je,null);S(this,de,e),S(this,rt,n),S(this,it,o),S(this,bt,l),S(this,st,r),S(this,Ue,i||"top"),S(this,yt,a||!1),S(this,Et,s||"__tooltip-enter"),S(this,at,u||"__tooltip-leave"),S(this,Mt,h||0),S(this,Rt,_||0),S(this,jt,d||null),S(this,Ut,f||null),S(this,be,Math.max(p||10,5)),S(this,ct,new Ae),z(this,rn,_o).call(this),c(this,de).title="",c(this,de).setAttribute("style","position: relative"),c(this,de).setAttribute("aria-describedby","tooltip"),E?z(this,on,fo).call(this):z(this,nn,uo).call(this),c(_n,Vt).push(this)}static destroy(){c(_n,Vt).forEach(e=>{e.destroy()}),S(_n,Vt,[])}update(e,n,o,l,r,i,a,s,u,h,_,d,f,p){const E=n!==void 0&&n!==c(this,it)||e!==void 0&&e!==c(this,rt),v=l!==void 0&&l!==c(this,st),b=r!==void 0&&r!==c(this,Ue),A=f!==void 0&&f!==c(this,be),j=p&&c(this,Re),q=!p&&!c(this,Re);S(this,rt,e),S(this,it,n),S(this,bt,o),S(this,st,l),S(this,Ue,r||"top"),S(this,yt,i||!1),S(this,Et,a||"__tooltip-enter"),S(this,at,s||"__tooltip-leave"),S(this,Mt,u||0),S(this,Rt,h||0),S(this,jt,_||null),S(this,Ut,d||null),S(this,be,Math.max(f||10,5)),(E||b||A)&&(z(this,ft,qt).call(this),z(this,rn,_o).call(this)),(v||E||b||A)&&c(this,X).setAttribute("class",c(this,st)||`__tooltip __tooltip-${c(this,Ue)}`),j?z(this,on,fo).call(this):q&&z(this,nn,uo).call(this)}async destroy(){var e;c(this,de).style.removeProperty("position"),c(this,de).removeAttribute("aria-describedby"),await z(this,ft,qt).call(this),z(this,ln,ho).call(this),z(this,Ft,pn).call(this),(e=c(this,ct))===null||e===void 0||e.clear(),S(this,ct,null)}},Vt=new WeakMap,X=new WeakMap,de=new WeakMap,rt=new WeakMap,it=new WeakMap,bt=new WeakMap,st=new WeakMap,Ue=new WeakMap,yt=new WeakMap,Et=new WeakMap,at=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,jt=new WeakMap,Ut=new WeakMap,be=new WeakMap,ct=new WeakMap,Ht=new WeakMap,Gt=new WeakMap,ut=new WeakMap,Re=new WeakMap,Ge=new WeakMap,je=new WeakMap,nn=new WeakSet,uo=function(){z(this,In,bl).call(this),z(this,Tn,yl).call(this)},In=new WeakSet,bl=function(){S(this,Re,z(this,Dn,Il).bind(this)),S(this,Ge,z(this,On,Tl).bind(this)),c(this,de).addEventListener("mouseenter",c(this,Re)),c(this,de).addEventListener("mouseleave",c(this,Ge)),c(this,de).addEventListener("focusin",c(this,Re)),c(this,de).addEventListener("focusout",c(this,Ge))},Tn=new WeakSet,yl=function(){S(this,je,z(this,Nn,Cl).bind(this)),window.addEventListener("keydown",c(this,je)),window.addEventListener("resize",c(this,je)),window.addEventListener("scroll",c(this,je))},on=new WeakSet,fo=function(){z(this,ln,ho).call(this),z(this,Cn,El).call(this)},ln=new WeakSet,ho=function(){c(this,de).removeEventListener("mouseenter",c(this,Re)),c(this,de).removeEventListener("mouseleave",c(this,Ge)),c(this,de).removeEventListener("focusin",c(this,Re)),c(this,de).removeEventListener("focusout",c(this,Ge)),S(this,Re,null),S(this,Ge,null)},Cn=new WeakSet,El=function(){window.removeEventListener("keydown",c(this,je)),window.removeEventListener("resize",c(this,je)),window.removeEventListener("scroll",c(this,je)),S(this,je,null)},rn=new WeakSet,_o=function(){if(S(this,X,document.createElement("div")),c(this,X).setAttribute("id","tooltip"),c(this,X).setAttribute("class",c(this,st)||`__tooltip __tooltip-${c(this,Ue)}`),c(this,X).setAttribute("role","tooltip"),c(this,it))c(this,ct).wait(c(this,it),null,{events:[Ae.EXIST,Ae.ADD]}).then(({node:e})=>{const n=e.content?e.content.firstElementChild:e;n.setAttribute("style","position: relative"),c(this,X).appendChild(n.cloneNode(!0))});else if(c(this,rt)){const e=document.createTextNode(c(this,rt));c(this,X).appendChild(e)}z(this,Sn,kl).call(this)},Sn=new WeakSet,kl=function(){const e=document.createElement("span");switch(e.setAttribute("aria-hidden","true"),e.setAttribute("class","__tooltip-area"),c(this,Ue)){case"left":e.setAttribute("style",`width: calc(100% + ${c(this,be)}px)`);break;case"right":e.setAttribute("style",`width: calc(100% + ${c(this,be)}px); margin-left: calc(-0.5rem - ${c(this,be)}px)`);break;case"bottom":e.setAttribute("style",`height: calc(100% + ${c(this,be)}px); margin-top: calc(-0.5rem - ${c(this,be)}px)`);break;default:e.setAttribute("style",`height: calc(100% + ${c(this,be)}px)`)}c(this,X).appendChild(e)},An=new WeakSet,Pl=function(){const{width:e,height:n}=c(this,de).getBoundingClientRect(),{width:o,height:l}=c(this,X).getBoundingClientRect();switch(c(this,Ue)){case"left":c(this,X).style.top=(-(l-n)>>1)+"px",c(this,X).style.left=-o-c(this,be)+"px",c(this,X).style.bottom=null,c(this,X).style.right=null;break;case"right":c(this,X).style.top=(-(l-n)>>1)+"px",c(this,X).style.right=-o-c(this,be)+"px",c(this,X).style.bottom=null,c(this,X).style.left=null;break;case"bottom":c(this,X).style.left=(-(o-e)>>1)+"px",c(this,X).style.bottom=-l-c(this,be)+"px",c(this,X).style.right=null,c(this,X).style.top=null;break;default:c(this,X).style.left=(-(o-e)>>1)+"px",c(this,X).style.top=-l-c(this,be)+"px",c(this,X).style.right=null,c(this,X).style.bottom=null}},Ln=new WeakSet,wl=async function(){c(this,yt)&&await z(this,an,mo).call(this,1),c(this,ct).wait(c(this,X),null,{events:[Ae.ADD]}).then(({node:e})=>{z(this,An,Pl).call(this)}),c(this,de).appendChild(c(this,X)),c(this,bt)&&Object.entries(c(this,bt)).forEach(([e,{eventType:n,callback:o,callbackParams:l,closeOnCallback:r}],i)=>{const a=e==="*"?c(this,X):c(this,X).querySelector(e);if(a){const s=u=>{o==null||o.apply(null,[...l||[],u]),r&&z(this,ft,qt).call(this)};a.addEventListener(n,s),c(this,Ht).push({trigger:a,eventType:n,listener:s}),i===0&&a.focus()}})},ft=new WeakSet,qt=async function(){c(this,yt)&&await z(this,an,mo).call(this,0),c(this,X).remove(),c(this,Ht).forEach(({trigger:e,eventType:n,listener:o})=>e.removeEventListener(n,o)),S(this,Ht,[])},sn=new WeakSet,po=function(e){return z(this,Ft,pn).call(this),new Promise(n=>S(this,Gt,setTimeout(()=>{z(this,Ft,pn).call(this),n()},e)))},Ft=new WeakSet,pn=function(){clearTimeout(c(this,Gt)),S(this,Gt,null)},an=new WeakSet,mo=function(e){return new Promise(n=>{if(e===1)c(this,X).classList.add(c(this,Et)),c(this,X).classList.remove(c(this,at)),S(this,ut,!1),n();else{const o=()=>{c(this,X).removeEventListener("animationend",o),c(this,X).classList.remove(c(this,at)),c(this,ut)&&(S(this,ut,!1),n())};c(this,ut)||(c(this,X).addEventListener("animationend",o),c(this,X).classList.add(c(this,at)),c(this,X).classList.remove(c(this,Et)),S(this,ut,!0))}})},Dn=new WeakSet,Il=async function(e){var n;c(this,de)===e.target&&(await z(this,sn,po).call(this,c(this,Mt)),await z(this,Ln,wl).call(this),await Ro(0),(n=c(this,jt))===null||n===void 0||n.call(this))},On=new WeakSet,Tl=async function(e){var n;c(this,de)!==e.target&&c(this,de).contains(e.target)||(await z(this,sn,po).call(this,c(this,Rt)),await z(this,ft,qt).call(this),await Ro(0),(n=c(this,Ut))===null||n===void 0||n.call(this))},Nn=new WeakSet,Cl=async function(e){c(this,X)&&c(this,X).parentNode&&(e.type!=="keydown"||e.type==="keydown"&&e.key==="Escape"||e.key==="Esc"||e.keyCode===27)&&await z(this,ft,qt).call(this)},D(so,Vt,[]),so);(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}})(`.__tooltip {
	position: absolute;
	z-index: 9999;
	background-color: black;
	color: white;
	text-align: center;
	border-radius: 6px;
	padding: 0.5rem;
}

.__tooltip::after {
	content: '';
	position: absolute;
	margin-left: -5px;
	border-width: 5px;
	border-style: solid;
}

.__tooltip-area {
	position: absolute;
    left: 0.5rem;
	background: transparent;
	width: 100%;
	height: 100%;
	margin: -0.5rem;
}

.__tooltip-top::after {
	bottom: -10px;
	left: 50%;
	border-color: black transparent transparent transparent;
}

.__tooltip-bottom::after {
	top: -10px;
	left: 50%;
	border-color: transparent transparent black transparent;
}

.__tooltip-left::after {
	top: calc(50% - 5px);
	right: -10px;
	border-color: transparent transparent transparent black;
}

.__tooltip-right::after {
	top: calc(50% - 5px);
	left: -5px;
	border-color: transparent black transparent transparent;
}

.__tooltip-enter {
	animation: fadeIn 0.2s linear forwards;
}

.__tooltip-leave {
	animation: fadeOut 0.2s linear forwards;
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}
@keyframes fadeOut {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}
`);const Rr=(t,{content:e,contentSelector:n,contentActions:o,containerClassName:l,position:r,animated:i,animationEnterClassName:a,animationLeaveClassName:s,enterDelay:u,leaveDelay:h,onEnter:_,onLeave:d,offset:f,disabled:p})=>{const E=new _n(t,e,n,o,l,r,i,a,s,u,h,_,d,f,p);return{update:({content:v,contentSelector:b,contentActions:A,containerClassName:j,position:q,animated:R,animationEnterClassName:F,animationLeaveClassName:U,enterDelay:w,leaveDelay:O,onEnter:m,onLeave:L,offset:G,disabled:$})=>E.update(v,b,A,j,q,R,F,U,w,O,m,L,G,$),destroy:()=>E.destroy()}};var vo=function(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o},jr=function(t){if(Array.isArray(t))return vo(t)},Ur=function(t,e){if(t){if(typeof t=="string")return vo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vo(t,e):void 0}},jo=function(t){return jr(t)||function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Ur(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()};function Uo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Bt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},io=function(t){return(t==null?void 0:t.nodeType)===1};function Hr(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(s,u){if(s){if(typeof s=="string")return Ho(s,u);var h=Object.prototype.toString.call(s).slice(8,-1);return h==="Object"&&s.constructor&&(h=s.constructor.name),h==="Map"||h==="Set"?Array.from(s):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Ho(s,u):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var o=0,l=function(){};return{s:l,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(s){throw s},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var s=n.next();return i=s.done,s},e:function(s){a=!0,r=s},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw r}}}}function Ho(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Me=function(){function t(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),Bt(this,"_observer",null)}return function(e,n,o){n&&Uo(e.prototype,n),o&&Uo(e,o)}(t,[{key:"wait",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=l.events,i=r===void 0?t.EVENTS:r,a=l.timeout,s=a===void 0?0:a,u=l.attributeFilter,h=u===void 0?void 0:u,_=l.onError,d=_===void 0?void 0:_;return this.clear(),new Promise(function(f,p){var E=io(e)?e:document.querySelector(e);E&&i.includes(t.EXIST)&&(o?o(E,t.EXIST):f({node:E,event:t.EXIST})),s>0&&(n._timeout=setTimeout(function(){n.clear();var v=new Error("[TIMEOUT]: Element ".concat(e," cannot be found after ").concat(s,"ms"));o?d==null||d(v):p(v)},s)),n._observer=new MutationObserver(function(v){v.forEach(function(b){var A,j=b.type,q=b.target,R=b.addedNodes,F=b.removedNodes,U=b.attributeName,w=b.oldValue;if(j==="childList"&&(i.includes(t.ADD)||i.includes(t.REMOVE))){var O,m=Hr([].concat(jo(i.includes(t.ADD)?Array.from(R):[]),jo(i.includes(t.REMOVE)?Array.from(F):[])));try{for(m.s();!(O=m.n()).done;){var L,G=O.value;(G===e||!io(e)&&(L=G.matches)!==null&&L!==void 0&&L.call(G,e))&&(o?o(G,Array.from(R).includes(G)?t.ADD:t.REMOVE):f({node:G,event:Array.from(R).includes(G)?t.ADD:t.REMOVE}))}}catch($){m.e($)}finally{m.f()}}j==="attributes"&&i.includes(t.CHANGE)&&(q===e||!io(e)&&(A=q.matches)!==null&&A!==void 0&&A.call(q,e))&&(o?o(q,t.CHANGE,{attributeName:U,oldValue:w}):f({node:q,event:t.CHANGE,options:{attributeName:U,oldValue:w}}))})}),n._observer.observe(document.documentElement,{subtree:!0,childList:i.includes(t.ADD)||i.includes(t.REMOVE),attributes:i.includes(t.CHANGE),attributeOldValue:i.includes(t.CHANGE),attributeFilter:h})})}},{key:"clear",value:function(){var e;(e=this._observer)===null||e===void 0||e.disconnect(),clearTimeout(this._timeout)}}]),t}();Bt(Me,"EXIST","DOMObserver_exist"),Bt(Me,"ADD","DOMObserver_add"),Bt(Me,"REMOVE","DOMObserver_remove"),Bt(Me,"CHANGE","DOMObserver_change"),Bt(Me,"EVENTS",[Me.EXIST,Me.ADD,Me.REMOVE,Me.CHANGE]);const Gr=t=>{if(t){if(function(e){return(e==null?void 0:e.nodeType)===1}(t))return t;if(t.src||function(e){return typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"}(t)){const e=new Image;return e.src=t.src||t,t.width&&(e.width=t.width),t.height&&(e.height=t.height),e}}return null};(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}})(`.__drag {
    position: absolute;
    z-index: 999;
    user-select: none;
    opacity: .7;

    --origin-x: 0px;
    --origin-y: 0px;
}

@keyframes move {
    100% {
        left: var(--origin-x);
        top: var(--origin-y);
    }
}`);var ce,kt,Pt,Xt,wt,Fe,zt,Wt,Yt,It,Xe,_e,cn,un,Kt,Zt,Tt,Ct,ze,We,Se,fn,go,dn,bo,qn,Sl,Bn,Al,Vn,Ll,Mn,Dl,Rn,Ol;const en=class{constructor(e,n,o,l,r,i,a,s,u,h){D(this,fn);D(this,dn);D(this,qn);D(this,Bn);D(this,Vn);D(this,Mn);D(this,Rn);D(this,ce,null);D(this,kt,null);D(this,Pt,null);D(this,Xt,!1);D(this,wt,null);D(this,Fe,!1);D(this,zt,null);D(this,Wt,null);D(this,Yt,null);D(this,It,null);D(this,Xe,null);D(this,_e,null);D(this,cn,0);D(this,un,0);D(this,Kt,0);D(this,Zt,0);D(this,Tt,null);D(this,Ct,null);D(this,ze,null);D(this,We,null);D(this,Se,null);S(this,ce,e),S(this,kt,o),S(this,Pt,l),S(this,Xt,r||!1),S(this,wt,{duration:.2,timingFunction:"ease",...i||{}}),S(this,Fe,a||!1),S(this,zt,s),S(this,Wt,u),S(this,Yt,h),S(this,Xe,document.querySelector(n)),S(this,_e,z(this,fn,go).call(this)),S(this,Tt,z(this,qn,Sl).bind(this)),S(this,Ct,z(this,Bn,Al).bind(this)),S(this,ze,z(this,Mn,Dl).bind(this)),c(this,ce).addEventListener("mouseover",c(this,Tt),!1),c(this,ce).addEventListener("mouseout",c(this,Ct),!1),c(this,ce).addEventListener("mousedown",c(this,ze),!1),c(this,ce).addEventListener("touchstart",c(this,ze),!1),en.instances.push(this)}static destroy(){en.instances.forEach(e=>{e.destroy()}),en.instances=[]}update(e,n,o,l,r,i,a,s,u){S(this,kt,n),S(this,Pt,o),S(this,Xt,l||!1),S(this,wt,{duration:.2,timingFunction:"ease",...r||{}}),S(this,Fe,i||!1),S(this,zt,a),S(this,Wt,s),S(this,Yt,u),S(this,Xe,document.querySelector(e)),S(this,_e,z(this,fn,go).call(this))}destroy(){var e;c(this,ce).removeEventListener("mouseover",c(this,Tt)),c(this,ce).removeEventListener("mouseout",c(this,Ct)),c(this,ce).removeEventListener("mousedown",c(this,ze)),c(this,ce).removeEventListener("touchstart",c(this,ze)),S(this,Tt,null),S(this,Ct,null),S(this,ze,null),(e=c(this,It))==null||e.clear(),S(this,It,null)}};let mn=en;ce=new WeakMap,kt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,wt=new WeakMap,Fe=new WeakMap,zt=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,It=new WeakMap,Xe=new WeakMap,_e=new WeakMap,cn=new WeakMap,un=new WeakMap,Kt=new WeakMap,Zt=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,ze=new WeakMap,We=new WeakMap,Se=new WeakMap,fn=new WeakSet,go=function(){const e=c(this,kt)?Gr(c(this,kt)):c(this,ce).cloneNode(!0);if(e.setAttribute("draggable",!1),e.setAttribute("id","drag"),e.setAttribute("role","presentation"),e.classList.add("__drag"),c(this,Pt)){const n=((o,l=!1)=>{var r;if(o&&(o=o.startsWith(".")?o:`.${o}`,(r=document.styleSheets)==null?void 0:r.length)){for(let{cssRules:i}of document.styleSheets)for(let{selectorText:a,style:s}of i)if(a===o&&s)return l?s.cssText:s}return null})(c(this,Pt),!0);n&&(e.style.cssText=n)}return S(this,It,new Me),c(this,It).wait(e,null,{events:[Me.ADD]}).then(()=>{const{width:n,height:o}=e.getBoundingClientRect();S(this,Kt,n),S(this,Zt,o)}),e},dn=new WeakSet,bo=function(e){if(c(this,Xt)){const{width:n,height:o,left:l,top:r}=c(this,ce).getBoundingClientRect();c(this,_e).style.setProperty("--origin-x",l-(c(this,Fe)?c(this,Kt)-n>>1:0)+"px"),c(this,_e).style.setProperty("--origin-y",r-(c(this,Fe)?c(this,Zt)-o>>1:0)+"px"),c(this,_e).style.animation=`move ${c(this,wt).duration}s ${c(this,wt).timingFunction}`,c(this,_e).addEventListener("animationend",()=>{c(this,_e).style.animation="none",c(this,_e).remove(),e==null||e(c(this,ce),c(this,Xe))},!1)}else c(this,_e).remove(),e==null||e(c(this,ce),c(this,Xe))},qn=new WeakSet,Sl=function(e){e.target.style.cursor="grab"},Bn=new WeakSet,Al=function(e){e.target.style.cursor="default"},Vn=new WeakSet,Ll=function(e){c(this,_e).style.visibility==="hidden"&&(c(this,_e).style.visibility="visible");const n=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,o=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;c(this,_e).style.left=n-(c(this,Fe)?c(this,Kt)>>1:c(this,cn))+"px",c(this,_e).style.top=o-(c(this,Fe)?c(this,Zt)>>1:c(this,un))+"px"},Mn=new WeakSet,Dl=function(e){const n=e.type==="touchstart"?e.targetTouches[0].clientX:e.clientX,o=e.type==="touchstart"?e.targetTouches[0].clientY:e.clientY;S(this,cn,n-c(this,ce).getBoundingClientRect().left),S(this,un,o-c(this,ce).getBoundingClientRect().top),c(this,_e).style.visibility="hidden",c(this,_e).style.cursor="grabbing",S(this,We,z(this,Vn,Ll).bind(this)),S(this,Se,z(this,Rn,Ol).bind(this)),document.addEventListener("mousemove",c(this,We),!1),document.addEventListener("mouseup",c(this,Se),!1),document.addEventListener("touchmove",c(this,We),!1),document.addEventListener("keydown",c(this,Se)),c(this,ce).addEventListener("touchend",c(this,Se),!1),c(this,ce).addEventListener("touchcancel",c(this,Se),!1),c(this,ce).parentNode.appendChild(c(this,_e))},Rn=new WeakSet,Ol=function(e){var o;if(e.type.startsWith("key")&&e.key!=="Escape")return;document.removeEventListener("mousemove",c(this,We)),document.removeEventListener("mouseup",c(this,Se)),document.removeEventListener("touchmove",c(this,We)),document.removeEventListener("keydown",c(this,Se)),c(this,ce).removeEventListener("touchend",c(this,Se)),c(this,ce).removeEventListener("touchcancel",c(this,Se)),S(this,We,null),S(this,Se,null);const n=((l,r)=>{const{left:i,right:a,top:s,bottom:u}=l.getBoundingClientRect(),{left:h,right:_,top:d,bottom:f}=r.getBoundingClientRect();return!(s>f||a<h||u<d||i>_)})(c(this,Xe),c(this,_e));e.type.startsWith("key")?z(this,dn,bo).call(this,c(this,Yt)):n?z(this,dn,bo).call(this,c(this,Wt)):(c(this,_e).remove(),(o=c(this,zt))==null||o.call(this,c(this,ce),c(this,Xe)))},Io(mn,"instances",[]);const Fr=(t,{areaSelector:e,dragImage:n,dragClassName:o,animate:l,animateOptions:r,dragHandleCentered:i,onDropOutside:a,onDropInside:s,onDragCancel:u})=>{const h=new mn(t,e,n,o,l,r,i,a,s,u);return{update:({areaSelector:_,dragImage:d,dragClassName:f,animate:p,animateOptions:E,dragHandleCentered:v,onDropOutside:b,onDropInside:A,onDragCancel:j})=>h.update(_,d,f,p,E,v,b,A,j),destroy:()=>h.destroy()}},Go=(t,e,n)=>{switch(e){case gl:return Rr(t,{contentSelector:n.tooltipContentSelector||"#tooltip-template",contentActions:{"*":{eventType:"click",callback:n.onDelete,closeOnCallback:!0}},containerClassName:n.tooltipClassName});case Cr:return Fr(t,{areaSelector:".palette__root",animate:!0,onDropOutside:n.onDelete});default:return null}},Xr=(t,{deletionMode:e,...n})=>{let o=Go(t,e,n);return{update:({deletionMode:l,...r})=>{o==null||o.destroy(),o=Go(t,l||e,{...n,...r})},destroy:()=>o==null?void 0:o.destroy()}};const zr=t=>({}),Fo=t=>({}),Wr=t=>({}),Xo=t=>({}),Yr=t=>({}),zo=t=>({});function Wo(t,e,n){const o=t.slice();return o[22]=e[n],o[24]=n,o}const Kr=t=>({color:t&66}),Yo=t=>({color:t[22]}),Zr=t=>({}),Ko=t=>({}),Qr=t=>({}),Zo=t=>({}),Jr=t=>({}),Qo=t=>({});function Jo(t){let e,n;const o=t[16].header,l=ht(o,t,t[15],Qo),r=t[16]["header-divider"],i=ht(r,t,t[15],Zo),a=i||$r();return{c(){l&&l.c(),e=V(),a&&a.c()},l(s){l&&l.l(s),e=M(s),a&&a.l(s)},m(s,u){l&&l.m(s,u),Y(s,e,u),a&&a.m(s,u),n=!0},p(s,u){l&&l.p&&(!n||u&32768)&&_t(l,o,s,s[15],n?mt(o,s[15],u,Jr):pt(s[15]),Qo),i&&i.p&&(!n||u&32768)&&_t(i,r,s,s[15],n?mt(r,s[15],u,Qr):pt(s[15]),Zo)},i(s){n||(N(l,s),N(a,s),n=!0)},o(s){B(l,s),B(a,s),n=!1},d(s){l&&l.d(s),s&&k(e),a&&a.d(s)}}}function $r(t){let e;return{c(){e=T("hr"),this.h()},l(n){e=C(n,"HR",{class:!0}),this.h()},h(){y(e,"class","palette__divider svelte-1l8hev9")},m(n,o){Y(n,e,o)},p:ye,d(n){n&&k(e)}}}function $o(t){let e,n;const o=t[16]["transparent-slot"],l=ht(o,t,t[15],Ko),r=l||xr(t);return{c(){e=T("li"),r&&r.c(),this.h()},l(i){e=C(i,"LI",{"data-testid":!0,class:!0});var a=I(e);r&&r.l(a),a.forEach(k),this.h()},h(){y(e,"data-testid","__palette-row__"),y(e,"class","svelte-1l8hev9")},m(i,a){Y(i,e,a),r&&r.m(e,null),n=!0},p(i,a){l?l.p&&(!n||a&32768)&&_t(l,o,i,i[15],n?mt(o,i[15],a,Zr):pt(i[15]),Ko):r&&r.p&&(!n||a&4)&&r.p(i,n?a:-1)},i(i){n||(N(r,i),n=!0)},o(i){B(r,i),n=!1},d(i){i&&k(e),r&&r.d(i)}}}function xr(t){let e,n;return e=new Eo({props:{emptyAriaLabel:"transparent",selected:t[2]===null}}),e.$on("click",t[8]),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&4&&(r.selected=o[2]===null),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function ei(t){let e,n;return e=new Eo({props:{"data-testid":"__palette-slot__",color:t[22],selected:t[22]===t[2]}}),e.$on("click",t[8]),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&66&&(r.color=o[22]),l&70&&(r.selected=o[22]===o[2]),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function xo(t,e){let n,o,l,r,i,a;const s=e[16].slot,u=ht(s,e,e[15],Yo),h=u||ei(e);function _(){return e[17](e[24])}return{key:t,first:null,c(){n=T("li"),h&&h.c(),o=V(),this.h()},l(d){n=C(d,"LI",{"data-testid":!0,class:!0});var f=I(n);h&&h.l(f),o=M(f),f.forEach(k),this.h()},h(){y(n,"data-testid","__palette-row__"),y(n,"class","svelte-1l8hev9"),this.first=n},m(d,f){Y(d,n,f),h&&h.m(n,null),g(n,o),r=!0,i||(a=ir(l=Xr.call(null,n,{deletionMode:e[0],onDelete:_,tooltipContentSelector:e[4],tooltipClassName:e[3]})),i=!0)},p(d,f){e=d,u?u.p&&(!r||f&32834)&&_t(u,s,e,e[15],r?mt(s,e[15],f,Kr):pt(e[15]),Yo):h&&h.p&&(!r||f&70)&&h.p(e,r?f:-1),l&&sr(l.update)&&f&91&&l.update.call(null,{deletionMode:e[0],onDelete:_,tooltipContentSelector:e[4],tooltipClassName:e[3]})},i(d){r||(N(h,d),r=!0)},o(d){B(h,d),r=!1},d(d){d&&k(n),h&&h.d(d),i=!1,a()}}}function ti(t){let e;return{c(){e=T("hr"),this.h()},l(n){e=C(n,"HR",{class:!0}),this.h()},h(){y(e,"class","palette__divider svelte-1l8hev9")},m(n,o){Y(n,e,o)},p:ye,d(n){n&&k(e)}}}function ni(t){let e,n;return e=new Vr({props:{color:t[2],inputType:t[7]}}),e.$on("add",t[9]),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&4&&(r.color=o[2]),l&128&&(r.inputType=o[7]),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function oi(t){let e;const n=t[16].input,o=ht(n,t,t[15],Fo),l=o||ni(t);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,i){l&&l.m(r,i),e=!0},p(r,i){o?o.p&&(!e||i&32768)&&_t(o,n,r,r[15],e?mt(n,r[15],i,zr):pt(r[15]),Fo):l&&l.p&&(!e||i&132)&&l.p(r,e?i:-1)},i(r){e||(N(l,r),e=!0)},o(r){B(l,r),e=!1},d(r){l&&l.d(r)}}}function li(t){let e,n,o,l,r=[],i=new Map,a,s,u,h,_,d,f,p,E,v=t[12].header&&Jo(t),b=t[5]&&$o(t),A=t[1].slice(0,t[1].length<t[6]||t[6]===-1?t[1].length:t[6]);const j=m=>`${m[22]}_${m[24]}`;for(let m=0;m<A.length;m+=1){let L=Wo(t,A,m),G=j(L);i.set(G,r[m]=xo(G,L))}const q=t[16]["footer-divider"],R=ht(q,t,t[15],zo),F=R||ti(),U=t[16].footer,w=ht(U,t,t[15],Xo),O=w||oi(t);return{c(){e=T("section"),v&&v.c(),n=V(),o=T("ul"),b&&b.c(),l=V();for(let m=0;m<r.length;m+=1)r[m].c();a=V(),F&&F.c(),s=V(),O&&O.c(),h=V(),_=T("div"),d=Le("svg"),f=Le("g"),p=Le("path"),this.h()},l(m){e=C(m,"SECTION",{class:!0});var L=I(e);v&&v.l(L),n=M(L),o=C(L,"UL",{class:!0});var G=I(o);b&&b.l(G),l=M(G);for(let fe=0;fe<r.length;fe+=1)r[fe].l(G);G.forEach(k),a=M(L),F&&F.l(L),s=M(L),O&&O.l(L),L.forEach(k),h=M(m),_=C(m,"DIV",{role:!0,"data-testid":!0,class:!0});var $=I(_);d=De($,"svg",{xmlns:!0,viewBox:!0,class:!0});var pe=I(d);f=De(pe,"g",{transform:!0,class:!0});var ge=I(f);p=De(ge,"path",{d:!0,class:!0}),I(p).forEach(k),ge.forEach(k),pe.forEach(k),$.forEach(k),this.h()},h(){y(o,"class","palette__list svelte-1l8hev9"),y(e,"class",u=Co(wn([[!!t[11].class,t[11].class,"palette__root"]]))+" svelte-1l8hev9"),y(p,"d","M 512,800 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 256,0 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 256,0 V 224 q 0,-14 -9,-23 -9,-9 -23,-9 h -64 q -14,0 -23,9 -9,9 -9,23 v 576 q 0,14 9,23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z M 1152,76 v 948 H 256 V 76 Q 256,54 263,35.5 270,17 277.5,8.5 285,0 288,0 h 832 q 3,0 10.5,8.5 7.5,8.5 14.5,27 7,18.5 7,40.5 z M 480,1152 h 448 l -48,117 q -7,9 -17,11 H 546 q -10,-2 -17,-11 z m 928,-32 v -64 q 0,-14 -9,-23 -9,-9 -23,-9 h -96 V 76 q 0,-83 -47,-143.5 -47,-60.5 -113,-60.5 H 288 q -66,0 -113,58.5 Q 128,-11 128,72 v 952 H 32 q -14,0 -23,9 -9,9 -9,23 v 64 q 0,14 9,23 9,9 23,9 h 309 l 70,167 q 15,37 54,63 39,26 79,26 h 320 q 40,0 79,-26 39,-26 54,-63 l 70,-167 h 309 q 14,0 23,-9 9,-9 9,-23 z"),y(p,"class","svelte-1l8hev9"),y(f,"transform","matrix(1,0,0,-1,197.42373,1255.0508)"),y(f,"class","svelte-1l8hev9"),y(d,"xmlns","http://www.w3.org/2000/svg"),y(d,"viewBox","0 -256 1792 1792"),y(d,"class","svelte-1l8hev9"),y(_,"role","button"),y(_,"data-testid","__palette-tooltip__"),y(_,"class","tooltip__button svelte-1l8hev9")},m(m,L){Y(m,e,L),v&&v.m(e,null),g(e,n),g(e,o),b&&b.m(o,null),g(o,l);for(let G=0;G<r.length;G+=1)r[G].m(o,null);g(e,a),F&&F.m(e,null),g(e,s),O&&O.m(e,null),Y(m,h,L),Y(m,_,L),g(_,d),g(d,f),g(f,p),E=!0},p(m,[L]){m[12].header?v?(v.p(m,L),L&4096&&N(v,1)):(v=Jo(m),v.c(),N(v,1),v.m(e,n)):v&&(Oe(),B(v,1,1,()=>{v=null}),Ne()),m[5]?b?(b.p(m,L),L&32&&N(b,1)):(b=$o(m),b.c(),N(b,1),b.m(o,l)):b&&(Oe(),B(b,1,1,()=>{b=null}),Ne()),L&34143&&(A=m[1].slice(0,m[1].length<m[6]||m[6]===-1?m[1].length:m[6]),Oe(),r=or(r,L,j,1,m,A,i,o,ar,xo,null,Wo),Ne()),R&&R.p&&(!E||L&32768)&&_t(R,q,m,m[15],E?mt(q,m[15],L,Yr):pt(m[15]),zo),w?w.p&&(!E||L&32768)&&_t(w,U,m,m[15],E?mt(U,m[15],L,Wr):pt(m[15]),Xo):O&&O.p&&(!E||L&32900)&&O.p(m,E?L:-1),(!E||L&2048&&u!==(u=Co(wn([[!!m[11].class,m[11].class,"palette__root"]]))+" svelte-1l8hev9"))&&y(e,"class",u)},i(m){if(!E){N(v),N(b);for(let L=0;L<A.length;L+=1)N(r[L]);N(F,m),N(O,m),E=!0}},o(m){B(v),B(b);for(let L=0;L<r.length;L+=1)B(r[L]);B(F,m),B(O,m),E=!1},d(m){m&&k(e),v&&v.d(),b&&b.d();for(let L=0;L<r.length;L+=1)r[L].d();F&&F.d(m),O&&O.d(m),m&&k(h),m&&k(_)}}}function ri(t,e,n){let{$$slots:o={},$$scope:l}=e;const r=lr(o);let{colors:i=[]}=e,{selectedColor:a=null}=e,{allowDuplicates:s=!1}=e,{allowDeletion:u=!1}=e,{deletionMode:h=Do}=e,{tooltipClassName:_=null}=e,{tooltipContentSelector:d=null}=e,{showTransparentSlot:f=!1}=e,{maxColors:p=30}=e,{inputType:E="text"}=e;const v=Un();rr(()=>{s||n(1,i=i.filter((w,O)=>i.indexOf(w)===O))});const b=w=>{n(2,a=w),v(Tr,{color:w})},A=w=>n(1,i=s||!i.includes(w)?[...i.slice(0,i.length<p||p===-1?i.length:p-1),w]:i),j=w=>n(1,i=i.filter((O,m)=>m!==w)),q=({detail:{color:w}})=>b(w),R=({detail:{color:w}})=>A(w),F=w=>j(w),U=w=>F(w);return t.$$set=w=>{n(11,e=dt(dt({},e),yn(w))),"colors"in w&&n(1,i=w.colors),"selectedColor"in w&&n(2,a=w.selectedColor),"allowDuplicates"in w&&n(13,s=w.allowDuplicates),"allowDeletion"in w&&n(14,u=w.allowDeletion),"deletionMode"in w&&n(0,h=w.deletionMode),"tooltipClassName"in w&&n(3,_=w.tooltipClassName),"tooltipContentSelector"in w&&n(4,d=w.tooltipContentSelector),"showTransparentSlot"in w&&n(5,f=w.showTransparentSlot),"maxColors"in w&&n(6,p=w.maxColors),"inputType"in w&&n(7,E=w.inputType),"$$scope"in w&&n(15,l=w.$$scope)},t.$$.update=()=>{t.$$.dirty&16385&&n(0,h=u&&h===Do?gl:h)},e=yn(e),[h,i,a,_,d,f,p,E,q,R,F,e,r,s,u,l,o,U]}class ii extends qe{constructor(e){super(),Be(this,e,ri,li,Ve,{colors:1,selectedColor:2,allowDuplicates:13,allowDeletion:14,deletionMode:0,tooltipClassName:3,tooltipContentSelector:4,showTransparentSlot:5,maxColors:6,inputType:7})}}function el(t,e,n){const o=t.slice();return o[14]=e[n],o[16]=n,o}function tl(t){let e,n;return e=new ii({props:{colors:So[vt[t[1]]],deletionMode:"none",inputType:"color",showTransparentSlot:!0,$$slots:{footer:[ci],"header-divider":[ai],header:[si]},$$scope:{ctx:t}}}),e.$on("select",t[12]),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&2&&(r.colors=So[vt[o[1]]]),l&8203&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function nl(t){let e,n=t[14]+"",o,l,r;return{c(){e=T("option"),o=se(n),l=V(),this.h()},l(i){e=C(i,"OPTION",{});var a=I(e);o=ae(a,n),l=M(a),a.forEach(k),this.h()},h(){e.__value=t[16],e.value=e.__value,e.selected=r=t[16]==t[1]},m(i,a){Y(i,e,a),g(e,o),g(e,l)},p(i,a){a&2&&r!==(r=i[16]==i[1])&&(e.selected=r)},d(i){i&&k(e)}}}function si(t){let e,n,o,l,r=vt,i=[];for(let a=0;a<r.length;a+=1)i[a]=nl(el(t,r,a));return{c(){e=T("div"),n=T("select");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=C(a,"DIV",{slot:!0});var s=I(e);n=C(s,"SELECT",{});var u=I(n);for(let h=0;h<i.length;h+=1)i[h].l(u);u.forEach(k),s.forEach(k),this.h()},h(){t[1]===void 0&&jn(()=>t[11].call(n)),y(e,"slot","header")},m(a,s){Y(a,e,s),g(e,n);for(let u=0;u<i.length;u+=1)i[u].m(n,null);$t(n,t[1]),o||(l=W(n,"change",t[11]),o=!0)},p(a,s){if(s&2){r=vt;let u;for(u=0;u<r.length;u+=1){const h=el(a,r,u);i[u]?i[u].p(h,s):(i[u]=nl(h),i[u].c(),i[u].m(n,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}s&2&&$t(n,a[1])},d(a){a&&k(e),Hn(i,a),o=!1,l()}}}function ai(t){let e;return{c(){e=T("hr"),this.h()},l(n){e=C(n,"HR",{slot:!0,class:!0}),this.h()},h(){y(e,"slot","header-divider"),y(e,"class","palette__divider")},m(n,o){Y(n,e,o)},p:ye,d(n){n&&k(e)}}}function ci(t){let e,n,o,l;return{c(){e=T("div"),n=T("input"),this.h()},l(r){e=C(r,"DIV",{slot:!0,class:!0});var i=I(e);n=C(i,"INPUT",{type:!0,class:!0}),i.forEach(k),this.h()},h(){y(n,"type","color"),y(n,"class","svelte-ja97qi"),y(e,"slot","footer"),y(e,"class","palette__footer svelte-ja97qi")},m(r,i){Y(r,e,i),g(e,n),En(n,t[0]),o||(l=[W(n,"input",t[9]),W(n,"change",t[10])],o=!0)},p(r,i){i&1&&En(n,r[0])},d(r){r&&k(e),o=!1,Ye(l)}}}function ui(t){let e,n,o,l,r,i,a,s;const u=t[7].default,h=ht(u,t,t[13],null);let _=t[3]&&tl(t);return{c(){e=T("button"),n=T("span"),h&&h.c(),l=V(),r=T("div"),_&&_.c(),this.h()},l(d){e=C(d,"BUTTON",{class:!0,style:!0,draggable:!0,title:!0});var f=I(e);n=C(f,"SPAN",{class:!0,style:!0});var p=I(n);h&&h.l(p),p.forEach(k),f.forEach(k),l=M(d),r=C(d,"DIV",{class:!0});var E=I(r);_&&_.l(E),E.forEach(k),this.h()},h(){y(n,"class","color-input__btn--label"),Jt(n,"color",Ao(t[0])),y(e,"class","color-input__btn svelte-ja97qi"),y(e,"style",o=t[0]?`background:${t[0]}`:""),y(e,"draggable","true"),y(e,"title",t[2]),y(r,"class","color-input__palette svelte-ja97qi")},m(d,f){Y(d,e,f),g(e,n),h&&h.m(n,null),Y(d,l,f),Y(d,r,f),_&&_.m(r,null),i=!0,a||(s=[W(window,"click",t[6]),W(e,"click",t[8]),W(e,"dragstart",t[4]),W(e,"drop",t[5]),W(e,"dragover",fi)],a=!0)},p(d,[f]){h&&h.p&&(!i||f&8192)&&_t(h,u,d,d[13],i?mt(u,d[13],f,null):pt(d[13]),null),(!i||f&1)&&Jt(n,"color",Ao(d[0])),(!i||f&1&&o!==(o=d[0]?`background:${d[0]}`:""))&&y(e,"style",o),(!i||f&4)&&y(e,"title",d[2]),d[3]?_?(_.p(d,f),f&8&&N(_,1)):(_=tl(d),_.c(),N(_,1),_.m(r,null)):_&&(Oe(),B(_,1,1,()=>{_=null}),Ne())},i(d){i||(N(h,d),N(_),i=!0)},o(d){B(h,d),B(_),i=!1},d(d){d&&k(e),h&&h.d(d),d&&k(l),d&&k(r),_&&_.d(),a=!1,Ye(s)}}}const fi=t=>{t.preventDefault()};function di(t,e,n){let{$$slots:o={},$$scope:l}=e,{value:r=""}=e,{placeholder:i=""}=e,a=!1,{activePaletteIndex:s=0}=e;function u(b){var A;(A=b.dataTransfer)==null||A.setData("text",r)}function h(b){var j;b.preventDefault(),b.stopPropagation();const A=((j=b.dataTransfer)==null?void 0:j.getData("text"))??"";/#[\dabcdef]{6}/i.test(A)&&n(0,r=A)}function _(b){b.target.querySelector(".color-input__palette")&&n(3,a=!1)}const d=b=>n(3,a=!a);function f(){r=this.value,n(0,r)}const p=b=>{n(3,a=!1),n(0,r=b.currentTarget.value)};function E(){s=yo(this),n(1,s)}const v=({detail:{color:b}})=>{n(3,a=!1),n(0,r=b)};return t.$$set=b=>{"value"in b&&n(0,r=b.value),"placeholder"in b&&n(2,i=b.placeholder),"activePaletteIndex"in b&&n(1,s=b.activePaletteIndex),"$$scope"in b&&n(13,l=b.$$scope)},[r,s,i,a,u,h,_,o,d,f,p,E,v,l]}class ol extends qe{constructor(e){super(),Be(this,e,di,ui,Ve,{value:0,placeholder:2,activePaletteIndex:1})}}function ll(t,e,n){const o=t.slice();return o[13]=e[n],o[15]=n,o}function hi(t){let e,n,o,l,r;var i=Pn(t[0].pattern);function a(s){return{props:{id:s[1],cake:s[4],area:s[2]}}}return i&&(o=kn(i,a(t))),{c(){e=Le("svg"),n=Le("defs"),o&&x(o.$$.fragment),l=Le("rect"),this.h()},l(s){e=De(s,"svg",{viewBox:!0,class:!0});var u=I(e);n=De(u,"defs",{});var h=I(n);o&&ie(o.$$.fragment,h),h.forEach(k),l=De(u,"rect",{x:!0,y:!0,width:!0,height:!0,style:!0}),I(l).forEach(k),u.forEach(k),this.h()},h(){y(l,"x","0"),y(l,"y","0"),y(l,"width","100%"),y(l,"height","100%"),Jt(l,"fill","url(#"+t[2]+"-"+t[1]+")"),y(e,"viewBox","0 0 50 25"),y(e,"class","svelte-q2nimt")},m(s,u){Y(s,e,u),g(e,n),o&&ee(o,n,null),g(e,l),r=!0},p(s,u){const h={};if(u&2&&(h.id=s[1]),u&4&&(h.area=s[2]),i!==(i=Pn(s[0].pattern))){if(o){Oe();const _=o;B(_.$$.fragment,1,0,()=>{te(_,1)}),Ne()}i?(o=kn(i,a(s)),x(o.$$.fragment),N(o.$$.fragment,1),ee(o,n,null)):o=null}else i&&o.$set(h);(!r||u&6)&&Jt(l,"fill","url(#"+s[2]+"-"+s[1]+")")},i(s){r||(o&&N(o.$$.fragment,s),r=!0)},o(s){o&&B(o.$$.fragment,s),r=!1},d(s){s&&k(e),o&&te(o)}}}function _i(t){let e,n;return{c(){e=T("div"),n=se("pattern"),this.h()},l(o){e=C(o,"DIV",{class:!0});var l=I(e);n=ae(l,"pattern"),l.forEach(k),this.h()},h(){y(e,"class","pattern-input__placeholder svelte-q2nimt")},m(o,l){Y(o,e,l),g(e,n)},p:ye,i:ye,o:ye,d(o){o&&k(e)}}}function rl(t){let e,n,o,l,r,i,a,s=t[5],u=[];for(let _=0;_<s.length;_+=1)u[_]=il(ll(t,s,_));const h=_=>B(u[_],1,1,()=>{u[_]=null});return{c(){e=T("div"),n=T("button"),o=se("empty"),l=V();for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){e=C(_,"DIV",{class:!0});var d=I(e);n=C(d,"BUTTON",{class:!0});var f=I(n);o=ae(f,"empty"),f.forEach(k),l=M(d);for(let p=0;p<u.length;p+=1)u[p].l(d);d.forEach(k),this.h()},h(){y(n,"class","svelte-q2nimt"),y(e,"class","pattern-list svelte-q2nimt")},m(_,d){Y(_,e,d),g(e,n),g(n,o),g(e,l);for(let f=0;f<u.length;f+=1)u[f].m(e,null);r=!0,i||(a=W(n,"click",t[11]),i=!0)},p(_,d){if(d&59){s=_[5];let f;for(f=0;f<s.length;f+=1){const p=ll(_,s,f);u[f]?(u[f].p(p,d),N(u[f],1)):(u[f]=il(p),u[f].c(),N(u[f],1),u[f].m(e,null))}for(Oe(),f=s.length;f<u.length;f+=1)h(f);Ne()}},i(_){if(!r){for(let d=0;d<s.length;d+=1)N(u[d]);r=!0}},o(_){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)B(u[d]);r=!1},d(_){_&&k(e),Hn(u,_),i=!1,a()}}}function il(t){let e,n,o,l,r,i,a,s;var u=Pn(t[13]);function h(d){return{props:{id:d[1]+"-"+d[15],cake:d[4],area:"body"}}}u&&(o=kn(u,h(t)));function _(...d){return t[12](t[13],...d)}return{c(){e=T("button"),n=Le("svg"),o&&x(o.$$.fragment),l=Le("rect"),r=V(),this.h()},l(d){e=C(d,"BUTTON",{class:!0});var f=I(e);n=De(f,"svg",{class:!0});var p=I(n);o&&ie(o.$$.fragment,p),l=De(p,"rect",{x:!0,y:!0,width:!0,height:!0,style:!0}),I(l).forEach(k),p.forEach(k),r=M(f),f.forEach(k),this.h()},h(){y(l,"x","0"),y(l,"y","0"),y(l,"width","100%"),y(l,"height","100%"),Jt(l,"fill","url(#body-"+t[1]+"-"+t[15]+")"),y(n,"class","svelte-q2nimt"),y(e,"class","svelte-q2nimt")},m(d,f){Y(d,e,f),g(e,n),o&&ee(o,n,null),g(n,l),g(e,r),i=!0,a||(s=W(e,"click",_),a=!0)},p(d,f){t=d;const p={};if(f&2&&(p.id=t[1]+"-"+t[15]),u!==(u=Pn(t[13]))){if(o){Oe();const E=o;B(E.$$.fragment,1,0,()=>{te(E,1)}),Ne()}u?(o=kn(u,h(t)),x(o.$$.fragment),N(o.$$.fragment,1),ee(o,n,l)):o=null}else u&&o.$set(p);(!i||f&2)&&Jt(l,"fill","url(#body-"+t[1]+"-"+t[15]+")")},i(d){i||(o&&N(o.$$.fragment,d),i=!0)},o(d){o&&B(o.$$.fragment,d),i=!1},d(d){d&&k(e),o&&te(o),a=!1,s()}}}function pi(t){let e,n,o,l,r,i,a,s;const u=[_i,hi],h=[];function _(f,p){return f[0].pattern?1:0}o=_(t),l=h[o]=u[o](t);let d=t[3]&&rl(t);return{c(){e=T("div"),n=T("button"),l.c(),r=V(),d&&d.c(),this.h()},l(f){e=C(f,"DIV",{class:!0});var p=I(e);n=C(p,"BUTTON",{class:!0,draggable:!0});var E=I(n);l.l(E),E.forEach(k),r=M(p),d&&d.l(p),p.forEach(k),this.h()},h(){y(n,"class","pattern-input__button svelte-q2nimt"),y(n,"draggable","true"),y(e,"class","pattern-input svelte-q2nimt")},m(f,p){Y(f,e,p),g(e,n),h[o].m(n,null),g(e,r),d&&d.m(e,null),i=!0,a||(s=[W(window,"click",t[6]),W(n,"click",t[10]),W(n,"dragstart",t[7]),W(n,"drop",t[8]),W(n,"dragover",mi)],a=!0)},p(f,[p]){let E=o;o=_(f),o===E?h[o].p(f,p):(Oe(),B(h[E],1,1,()=>{h[E]=null}),Ne(),l=h[o],l?l.p(f,p):(l=h[o]=u[o](f),l.c()),N(l,1),l.m(n,null)),f[3]?d?(d.p(f,p),p&8&&N(d,1)):(d=rl(f),d.c(),N(d,1),d.m(e,null)):d&&(Oe(),B(d,1,1,()=>{d=null}),Ne())},i(f){i||(N(l),N(d),i=!0)},o(f){B(l),B(d),i=!1},d(f){f&&k(e),h[o].d(),d&&d.d(),a=!1,Ye(s)}}}const mi=t=>{t.preventDefault()};function vi(t,e,n){let{id:o=performance.now().toString()}=e,{value:l}=e,{area:r="body"}=e,i=!1,{colorPattern:a={color:"black",secondaryColor:"white"}}=e;const s={decorationType:1,style:0,body:a,bodyStroke:a,decorationStroke:a,decoration:a,icing:a,icingStroke:a,filling:a,fillingTop:a,midSection:!0,name:""},u=[];for(let v of Object.keys(oo).filter(b=>isNaN(+b)))oo[v]&&u.push(oo[v]);function h(v){v.target.querySelector(".pattern-input")&&n(3,i=!1)}function _(v){var b;(b=v.dataTransfer)==null||b.setData("text",`${l.pattern}`)}function d(v){var A;v.preventDefault(),v.stopPropagation();const b=+(((A=v.dataTransfer)==null?void 0:A.getData("text"))??")");isNaN(b)||n(0,l={...l,pattern:+b})}const f=v=>n(3,i=!i),p=v=>{n(0,l.pattern=void 0,l),n(3,i=!1)},E=(v,b)=>{n(0,l.pattern=v,l),n(3,i=!1)};return t.$$set=v=>{"id"in v&&n(1,o=v.id),"value"in v&&n(0,l=v.value),"area"in v&&n(2,r=v.area),"colorPattern"in v&&n(9,a=v.colorPattern)},[l,o,r,i,s,u,h,_,d,a,f,p,E]}class gi extends qe{constructor(e){super(),Be(this,e,vi,pi,Ve,{id:1,value:0,area:2,colorPattern:9})}}function bi(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p,E,v,b,A,j,q,R,F,U,w,O;function m(H){t[5](H)}function L(H){t[6](H)}let G={placeholder:"background"};t[1]!==void 0&&(G.activePaletteIndex=t[1]),t[0].secondaryColor!==void 0&&(G.value=t[0].secondaryColor),r=new ol({props:G}),oe.push(()=>le(r,"activePaletteIndex",m,t[1])),oe.push(()=>le(r,"value",L,t[0].secondaryColor));function $(H){t[7](H)}function pe(H){t[8](H)}let ge={placeholder:"color"};t[1]!==void 0&&(ge.activePaletteIndex=t[1]),t[0].color!==void 0&&(ge.value=t[0].color),h=new ol({props:ge}),oe.push(()=>le(h,"activePaletteIndex",$,t[1])),oe.push(()=>le(h,"value",pe,t[0].color));function fe(H){t[10](H)}let ve={area:t[3]};return t[0]!==void 0&&(ve.value=t[0]),R=new gi({props:ve}),oe.push(()=>le(R,"value",fe,t[0])),{c(){e=T("fieldset"),n=T("legend"),o=V(),l=T("div"),x(r.$$.fragment),s=V(),u=T("div"),x(h.$$.fragment),f=V(),p=T("button"),E=se("⇋"),v=V(),b=T("button"),A=se("X"),j=V(),q=T("div"),x(R.$$.fragment),this.h()},l(H){e=C(H,"FIELDSET",{class:!0});var Q=I(e);n=C(Q,"LEGEND",{});var he=I(n);he.forEach(k),o=M(Q),l=C(Q,"DIV",{class:!0});var ke=I(l);ie(r.$$.fragment,ke),ke.forEach(k),s=M(Q),u=C(Q,"DIV",{class:!0});var me=I(u);ie(h.$$.fragment,me),me.forEach(k),f=M(Q),p=C(Q,"BUTTON",{class:!0});var we=I(p);E=ae(we,"⇋"),we.forEach(k),v=M(Q),b=C(Q,"BUTTON",{class:!0});var ue=I(b);A=ae(ue,"X"),ue.forEach(k),j=M(Q),q=C(Q,"DIV",{class:!0});var J=I(q);ie(R.$$.fragment,J),J.forEach(k),Q.forEach(k),this.h()},h(){y(l,"class","color-pattern__background svelte-2d4n3f"),y(u,"class","color-pattern__foreground svelte-2d4n3f"),y(p,"class","color-pattern__exchange-btn svelte-2d4n3f"),y(b,"class","color-pattern__remove-btn svelte-2d4n3f"),y(q,"class","color-pattern__pattern svelte-2d4n3f"),y(e,"class","color-pattern-form svelte-2d4n3f")},m(H,Q){Y(H,e,Q),g(e,n),n.innerHTML=t[2],g(e,o),g(e,l),ee(r,l,null),g(e,s),g(e,u),ee(h,u,null),g(e,f),g(e,p),g(p,E),g(e,v),g(e,b),g(b,A),g(e,j),g(e,q),ee(R,q,null),U=!0,w||(O=[W(p,"click",t[4]),W(b,"click",t[9])],w=!0)},p(H,[Q]){(!U||Q&4)&&(n.innerHTML=H[2]);const he={};!i&&Q&2&&(i=!0,he.activePaletteIndex=H[1],re(()=>i=!1)),!a&&Q&1&&(a=!0,he.value=H[0].secondaryColor,re(()=>a=!1)),r.$set(he);const ke={};!_&&Q&2&&(_=!0,ke.activePaletteIndex=H[1],re(()=>_=!1)),!d&&Q&1&&(d=!0,ke.value=H[0].color,re(()=>d=!1)),h.$set(ke);const me={};Q&8&&(me.area=H[3]),!F&&Q&1&&(F=!0,me.value=H[0],re(()=>F=!1)),R.$set(me)},i(H){U||(N(r.$$.fragment,H),N(h.$$.fragment,H),N(R.$$.fragment,H),U=!0)},o(H){B(r.$$.fragment,H),B(h.$$.fragment,H),B(R.$$.fragment,H),U=!1},d(H){H&&k(e),te(r),te(h),te(R),w=!1,Ye(O)}}}function yi(t,e,n){let{cpProperty:o={pattern:0}}=e,{activePaletteIndex:l=0}=e,{legend:r}=e,{area:i}=e;const a=()=>n(0,[o.secondaryColor,o.color]=[o.color,o.secondaryColor],o);function s(p){l=p,n(1,l)}function u(p){t.$$.not_equal(o.secondaryColor,p)&&(o.secondaryColor=p,n(0,o))}function h(p){l=p,n(1,l)}function _(p){t.$$.not_equal(o.color,p)&&(o.color=p,n(0,o))}const d=p=>n(0,o={pattern:0});function f(p){o=p,n(0,o)}return t.$$set=p=>{"cpProperty"in p&&n(0,o=p.cpProperty),"activePaletteIndex"in p&&n(1,l=p.activePaletteIndex),"legend"in p&&n(2,r=p.legend),"area"in p&&n(3,i=p.area)},[o,l,r,i,a,s,u,h,_,d,f]}class lt extends qe{constructor(e){super(),Be(this,e,yi,bi,Ve,{cpProperty:0,activePaletteIndex:1,legend:2,area:3})}}function sl(t,e,n){const o=t.slice();return o[7]=e[n],o}function al(t){let e,n=ao[t[7]]+"",o;return{c(){e=T("option"),o=se(n),this.h()},l(l){e=C(l,"OPTION",{});var r=I(e);o=ae(r,n),r.forEach(k),this.h()},h(){e.__value=t[7],e.value=e.__value},m(l,r){Y(l,e,r),g(e,o)},p:ye,d(l){l&&k(e)}}}function Ei(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p,E,v,b,A,j,q,R,F,U,w,O,m,L,G,$,pe,ge,fe,ve,H,Q,he,ke,me,we=Object.keys(ao).filter(t[5]).map(cl),ue=[];for(let J=0;J<we.length;J+=1)ue[J]=al(sl(t,we,J));return{c(){e=T("fieldset"),n=T("legend"),o=se(`Basics
		`),l=T("div"),r=se("(won't change in generation)"),i=V(),a=T("div"),s=T("label"),u=se("Render as inset"),h=V(),_=T("input"),f=V(),p=T("div"),E=T("label"),v=se("Layer divider"),b=V(),A=T("input"),j=V(),q=T("div"),R=T("label"),F=se("Offset colors"),U=V(),w=T("input"),O=V(),m=T("div"),L=T("label"),G=se("Noise"),$=V(),pe=T("input"),ge=V(),fe=T("div"),ve=T("label"),H=se("Decoration"),Q=V(),he=T("select");for(let J=0;J<ue.length;J+=1)ue[J].c();this.h()},l(J){e=C(J,"FIELDSET",{class:!0});var K=I(e);n=C(K,"LEGEND",{});var Z=I(n);o=ae(Z,`Basics
		`),l=C(Z,"DIV",{class:!0});var He=I(l);r=ae(He,"(won't change in generation)"),He.forEach(k),Z.forEach(k),i=M(K),a=C(K,"DIV",{class:!0});var Ke=I(a);s=C(Ke,"LABEL",{for:!0});var St=I(s);u=ae(St,"Render as inset"),St.forEach(k),h=M(Ke),_=C(Ke,"INPUT",{id:!0,type:!0}),Ke.forEach(k),f=M(K),p=C(K,"DIV",{class:!0});var Ee=I(p);E=C(Ee,"LABEL",{for:!0});var At=I(E);v=ae(At,"Layer divider"),At.forEach(k),b=M(Ee),A=C(Ee,"INPUT",{id:!0,type:!0}),Ee.forEach(k),j=M(K),q=C(K,"DIV",{class:!0});var Ze=I(q);R=C(Ze,"LABEL",{for:!0});var Lt=I(R);F=ae(Lt,"Offset colors"),Lt.forEach(k),U=M(Ze),w=C(Ze,"INPUT",{id:!0,type:!0}),Ze.forEach(k),O=M(K),m=C(K,"DIV",{class:!0});var Ie=I(m);L=C(Ie,"LABEL",{for:!0});var Te=I(L);G=ae(Te,"Noise"),Te.forEach(k),$=M(Ie),pe=C(Ie,"INPUT",{id:!0,type:!0}),Ie.forEach(k),ge=M(K),fe=C(K,"DIV",{class:!0});var Qe=I(fe);ve=C(Qe,"LABEL",{for:!0});var Dt=I(ve);H=ae(Dt,"Decoration"),Dt.forEach(k),Q=M(Qe),he=C(Qe,"SELECT",{id:!0});var Ot=I(he);for(let Pe=0;Pe<ue.length;Pe+=1)ue[Pe].l(Ot);Ot.forEach(k),Qe.forEach(k),K.forEach(k),this.h()},h(){y(l,"class","tiny svelte-poi02q"),y(s,"for","style"),y(_,"id","style"),y(_,"type","checkbox"),_.checked=d=t[0].style==tn.Inset,y(a,"class","inset svelte-poi02q"),y(E,"for","midsection"),y(A,"id","midsection"),y(A,"type","checkbox"),y(p,"class","midSect svelte-poi02q"),y(R,"for","colorOffset"),y(w,"id","colorOffset"),y(w,"type","checkbox"),y(q,"class","colorOffset svelte-poi02q"),y(L,"for","noise"),y(pe,"id","noise"),y(pe,"type","checkbox"),y(m,"class","noise svelte-poi02q"),y(ve,"for","decoration"),y(he,"id","decoration"),t[0].decorationType===void 0&&jn(()=>t[6].call(he)),y(fe,"class","decoration svelte-poi02q"),y(e,"class","basics")},m(J,K){Y(J,e,K),g(e,n),g(n,o),g(n,l),g(l,r),g(e,i),g(e,a),g(a,s),g(s,u),g(a,h),g(a,_),g(e,f),g(e,p),g(p,E),g(E,v),g(p,b),g(p,A),A.checked=t[0].midSection,g(e,j),g(e,q),g(q,R),g(R,F),g(q,U),g(q,w),w.checked=t[0].colorOffset,g(e,O),g(e,m),g(m,L),g(L,G),g(m,$),g(m,pe),pe.checked=t[0].noise,g(e,ge),g(e,fe),g(fe,ve),g(ve,H),g(fe,Q),g(fe,he);for(let Z=0;Z<ue.length;Z+=1)ue[Z].m(he,null);$t(he,t[0].decorationType),ke||(me=[W(_,"change",t[1]),W(A,"change",t[2]),W(w,"change",t[3]),W(pe,"change",t[4]),W(he,"change",t[6])],ke=!0)},p(J,[K]){if(K&1&&d!==(d=J[0].style==tn.Inset)&&(_.checked=d),K&1&&(A.checked=J[0].midSection),K&1&&(w.checked=J[0].colorOffset),K&1&&(pe.checked=J[0].noise),K&0){we=Object.keys(ao).filter(J[5]).map(cl);let Z;for(Z=0;Z<we.length;Z+=1){const He=sl(J,we,Z);ue[Z]?ue[Z].p(He,K):(ue[Z]=al(He),ue[Z].c(),ue[Z].m(he,null))}for(;Z<ue.length;Z+=1)ue[Z].d(1);ue.length=we.length}K&1&&$t(he,J[0].decorationType)},i:ye,o:ye,d(J){J&&k(e),Hn(ue,J),ke=!1,Ye(me)}}}const cl=(t,e)=>e;function ki(t,e,n){let{cake:o}=e,l=h=>{n(0,o.style=h.target.checked?tn.Inset:tn.Colour,o)};function r(){o.midSection=this.checked,n(0,o)}function i(){o.colorOffset=this.checked,n(0,o)}function a(){o.noise=this.checked,n(0,o)}const s=h=>isNaN(+h);function u(){o.decorationType=yo(this),n(0,o)}return t.$$set=h=>{"cake"in h&&n(0,o=h.cake)},[o,l,r,i,a,s,u]}class Pi extends qe{constructor(e){super(),Be(this,e,ki,Ei,Ve,{cake:0})}}function ul(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function fl(t){let e,n=t[10]+"",o,l;return{c(){e=T("option"),o=se(n),this.h()},l(r){e=C(r,"OPTION",{});var i=I(e);o=ae(i,n),i.forEach(k),this.h()},h(){e.__value=t[12],e.value=e.__value,e.selected=l=t[12]==t[0]},m(r,i){Y(r,e,i),g(e,o)},p(r,i){i&1&&l!==(l=r[12]==r[0])&&(e.selected=l)},d(r){r&&k(e)}}}function wi(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p,E,v,b,A,j,q,R,F=vt,U=[];for(let w=0;w<F.length;w+=1)U[w]=fl(ul(t,F,w));return{c(){e=T("fieldset"),n=T("legend"),o=se("Generate"),l=V(),r=T("select");for(let w=0;w<U.length;w+=1)U[w].c();i=V(),a=T("button"),s=se("ByPallete"),u=V(),h=T("br"),_=V(),d=T("button"),f=se("Random"),p=V(),E=T("button"),v=se("Black/White"),b=V(),A=T("button"),j=se("Gold"),this.h()},l(w){e=C(w,"FIELDSET",{class:!0});var O=I(e);n=C(O,"LEGEND",{});var m=I(n);o=ae(m,"Generate"),m.forEach(k),l=M(O),r=C(O,"SELECT",{});var L=I(r);for(let fe=0;fe<U.length;fe+=1)U[fe].l(L);L.forEach(k),i=M(O),a=C(O,"BUTTON",{});var G=I(a);s=ae(G,"ByPallete"),G.forEach(k),u=M(O),h=C(O,"BR",{}),_=M(O),d=C(O,"BUTTON",{});var $=I(d);f=ae($,"Random"),$.forEach(k),p=M(O),E=C(O,"BUTTON",{});var pe=I(E);v=ae(pe,"Black/White"),pe.forEach(k),b=M(O),A=C(O,"BUTTON",{});var ge=I(A);j=ae(ge,"Gold"),ge.forEach(k),O.forEach(k),this.h()},h(){t[0]===void 0&&jn(()=>t[4].call(r)),y(e,"class","generate")},m(w,O){Y(w,e,O),g(e,n),g(n,o),g(e,l),g(e,r);for(let m=0;m<U.length;m+=1)U[m].m(r,null);$t(r,t[0]),g(e,i),g(e,a),g(a,s),g(e,u),g(e,h),g(e,_),g(e,d),g(d,f),g(e,p),g(e,E),g(E,v),g(e,b),g(e,A),g(A,j),q||(R=[W(r,"change",t[4]),W(r,"change",t[5]),W(a,"click",t[6]),W(d,"click",t[7]),W(E,"click",t[8]),W(A,"click",t[9])],q=!0)},p(w,[O]){if(O&1){F=vt;let m;for(m=0;m<F.length;m+=1){const L=ul(w,F,m);U[m]?U[m].p(L,O):(U[m]=fl(L),U[m].c(),U[m].m(r,null))}for(;m<U.length;m+=1)U[m].d(1);U.length=F.length}O&1&&$t(r,w[0])},i:ye,o:ye,d(w){w&&k(e),Hn(U,w),q=!1,Ye(R)}}}function Ii(t,e,n){let{cake:o}=e,{activePaletteIndex:l=vt.findIndex(f=>f=="Retro")}=e;_l(()=>{const f=new URLSearchParams(window.location.search).get("data");f?n(3,o=JSON.parse(decodeURIComponent(f))):n(3,o=no())});let r=f=>{n(3,o={...no(!0,f,{decorationType:o.decorationType,style:o.style,colorOffset:o.colorOffset,noise:o.noise,midSection:o.midSection})})},i=(f="#ffffff",p="#000000")=>{const E={...no(!1)};n(3,o={...E,body:{...E.body,color:p,secondaryColor:p},bodyStroke:{...E.bodyStroke,color:p,secondaryColor:p},icing:{...E.icing,color:f,secondaryColor:p},icingStroke:{...E.icingStroke,color:p,secondaryColor:p},decoration:{...E.decoration,color:p,secondaryColor:p},decorationStroke:{...E.decorationStroke,color:f,secondaryColor:f},filling:{...E.filling,color:f,secondaryColor:p},fillingTop:{...E.fillingTop,color:f,secondaryColor:p},midSection:!1,style:tn.Inset})};function a(){l=yo(this),n(0,l)}const s=f=>{r(l)},u=f=>r(l),h=f=>r(),_=f=>i(),d=f=>i("#ffd700");return t.$$set=f=>{"cake"in f&&n(3,o=f.cake),"activePaletteIndex"in f&&n(0,l=f.activePaletteIndex)},[l,r,i,o,a,s,u,h,_,d]}class Ti extends qe{constructor(e){super(),Be(this,e,Ii,wi,Ve,{cake:3,activePaletteIndex:0})}}function Ci(t){let e,n;return e=new pl({props:{cake:t[1],id:"preview"}}),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&2&&(r.cake=o[1]),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function Si(t){let e,n;return e=new pr({props:{id:"preview",$$slots:{default:[Ai]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&18&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function Ai(t){let e,n;return e=new pl({props:{cake:t[1],wrap:!1}}),{c(){x(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,l){ee(e,o,l),n=!0},p(o,l){const r={};l&2&&(r.cake=o[1]),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){te(e,o)}}}function Li(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p;const E=[Si,Ci],v=[];function b(A,j){return A[0]?0:1}return o=b(t),l=v[o]=E[o](t),{c(){e=T("div"),n=T("div"),l.c(),r=V(),i=T("div"),a=T("button"),s=se("Toggle Preview"),u=V(),h=T("button"),_=se("Download"),this.h()},l(A){e=C(A,"DIV",{class:!0});var j=I(e);n=C(j,"DIV",{class:!0});var q=I(n);l.l(q),q.forEach(k),r=M(j),i=C(j,"DIV",{class:!0});var R=I(i);a=C(R,"BUTTON",{});var F=I(a);s=ae(F,"Toggle Preview"),F.forEach(k),u=M(R),h=C(R,"BUTTON",{});var U=I(h);_=ae(U,"Download"),U.forEach(k),R.forEach(k),j.forEach(k),this.h()},h(){y(n,"class","preview__svg svelte-1mj3ofd"),y(i,"class","preview__buttons svelte-1mj3ofd"),y(e,"class","preview svelte-1mj3ofd")},m(A,j){Y(A,e,j),g(e,n),v[o].m(n,null),g(e,r),g(e,i),g(i,a),g(a,s),g(i,u),g(i,h),g(h,_),d=!0,f||(p=[W(a,"click",t[2]),W(h,"click",t[3])],f=!0)},p(A,[j]){let q=o;o=b(A),o===q?v[o].p(A,j):(Oe(),B(v[q],1,1,()=>{v[q]=null}),Ne(),l=v[o],l?l.p(A,j):(l=v[o]=E[o](A),l.c()),N(l,1),l.m(n,null))},i(A){d||(N(l),d=!0)},o(A){B(l),d=!1},d(A){A&&k(e),v[o].d(),f=!1,Ye(p)}}}function Di(t,e,n){let{cake:o}=e,{showAsLogo:l=!1}=e;const r=a=>n(0,l=!l),i=a=>mr(document.getElementById("preview"),"byMona-cake.svg");return t.$$set=a=>{"cake"in a&&n(1,o=a.cake),"showAsLogo"in a&&n(0,l=a.showAsLogo)},[l,o,r,i]}class Oi extends qe{constructor(e){super(),Be(this,e,Di,Li,Ve,{cake:1,showAsLogo:0})}}function dl(t){let e,n;return{c(){e=T("span"),n=se("Cake was saved into the database!"),this.h()},l(o){e=C(o,"SPAN",{class:!0});var l=I(e);n=ae(l,"Cake was saved into the database!"),l.forEach(k),this.h()},h(){y(e,"class","state")},m(o,l){Y(o,e,l),g(e,n)},d(o){o&&k(e)}}}function Ni(t){let e,n,o,l,r,i,a,s,u,h,_,d,f=t[1]&&dl();return{c(){e=T("fieldset"),n=T("legend"),o=se("Saving"),l=V(),r=T("input"),i=V(),a=T("button"),s=se("Save Cake"),h=V(),f&&f.c(),this.h()},l(p){e=C(p,"FIELDSET",{class:!0});var E=I(e);n=C(E,"LEGEND",{});var v=I(n);o=ae(v,"Saving"),v.forEach(k),l=M(E),r=C(E,"INPUT",{placeholder:!0}),i=M(E),a=C(E,"BUTTON",{});var b=I(a);s=ae(b,"Save Cake"),b.forEach(k),h=M(E),f&&f.l(E),E.forEach(k),this.h()},h(){y(r,"placeholder","Enter the cake name"),a.disabled=u=!t[0].name,y(e,"class","saving")},m(p,E){Y(p,e,E),g(e,n),g(n,o),g(e,l),g(e,r),En(r,t[0].name),g(e,i),g(e,a),g(a,s),g(e,h),f&&f.m(e,null),_||(d=[W(r,"input",t[3]),W(a,"click",t[2])],_=!0)},p(p,[E]){E&1&&r.value!==p[0].name&&En(r,p[0].name),E&1&&u!==(u=!p[0].name)&&(a.disabled=u),p[1]?f||(f=dl(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:ye,o:ye,d(p){p&&k(e),f&&f.d(),_=!1,Ye(d)}}}function qi(t,e,n){let o,{cake:l}=e,r=!1;const i=()=>{o.then(s=>{s.put("cakes",l)}).then(s=>{n(1,r=!0),setTimeout(()=>n(1,r=!1),3e3)})};_l(()=>o=hr()),cr(()=>o.then(s=>s.close()));function a(){l.name=this.value,n(0,l)}return t.$$set=s=>{"cake"in s&&n(0,l=s.cake)},[l,r,i,a]}class Bi extends qe{constructor(e){super(),Be(this,e,qi,Ni,Ve,{cake:0})}}function Vi(t){let e,n,o,l,r,i,a,s,u,h,_,d,f,p,E,v,b,A,j,q,R,F,U,w,O,m,L,G,$,pe,ge,fe,ve,H,Q,he,ke,me,we,ue,J,K,Z,He,Ke,St,Ee,At,Ze,Lt,Ie,Te,Qe,Dt,Ot,Pe,Gn,Fn,hn;function Nl(P){t[2](P)}let ko={};t[0]!==void 0&&(ko.cake=t[0]),s=new Oi({props:ko}),oe.push(()=>le(s,"cake",Nl,t[0]));function ql(P){t[3](P)}let Po={};t[0]!==void 0&&(Po.cake=t[0]),f=new Bi({props:Po}),oe.push(()=>le(f,"cake",ql,t[0]));function Bl(P){t[4](P)}function Vl(P){t[5](P)}let Xn={};t[0]!==void 0&&(Xn.cake=t[0]),t[1]!==void 0&&(Xn.activePaletteIndex=t[1]),b=new Ti({props:Xn}),oe.push(()=>le(b,"cake",Bl,t[0])),oe.push(()=>le(b,"activePaletteIndex",Vl,t[1]));function Ml(P){t[6](P)}let wo={};t[0]!==void 0&&(wo.cake=t[0]),R=new Pi({props:wo}),oe.push(()=>le(R,"cake",Ml,t[0]));function Rl(P){t[7](P)}function jl(P){t[8](P)}let zn={legend:"Body",area:"body"};t[1]!==void 0&&(zn.activePaletteIndex=t[1]),t[0].body!==void 0&&(zn.cpProperty=t[0].body),O=new lt({props:zn}),oe.push(()=>le(O,"activePaletteIndex",Rl,t[1])),oe.push(()=>le(O,"cpProperty",jl,t[0].body));function Ul(P){t[9](P)}function Hl(P){t[10](P)}let Wn={legend:"Stroke",area:"bodyStroke"};t[1]!==void 0&&(Wn.activePaletteIndex=t[1]),t[0].bodyStroke!==void 0&&(Wn.cpProperty=t[0].bodyStroke),$=new lt({props:Wn}),oe.push(()=>le($,"activePaletteIndex",Ul,t[1])),oe.push(()=>le($,"cpProperty",Hl,t[0].bodyStroke));function Gl(P){t[11](P)}function Fl(P){t[12](P)}let Yn={legend:"Filling",area:"filling"};t[1]!==void 0&&(Yn.activePaletteIndex=t[1]),t[0].filling!==void 0&&(Yn.cpProperty=t[0].filling),H=new lt({props:Yn}),oe.push(()=>le(H,"activePaletteIndex",Gl,t[1])),oe.push(()=>le(H,"cpProperty",Fl,t[0].filling));function Xl(P){t[13](P)}function zl(P){t[14](P)}let Kn={legend:"Filling Top",area:"fillingTop"};t[1]!==void 0&&(Kn.activePaletteIndex=t[1]),t[0].fillingTop!==void 0&&(Kn.cpProperty=t[0].fillingTop),me=new lt({props:Kn}),oe.push(()=>le(me,"activePaletteIndex",Xl,t[1])),oe.push(()=>le(me,"cpProperty",zl,t[0].fillingTop));function Wl(P){t[15](P)}function Yl(P){t[16](P)}let Zn={legend:"Icing",area:"icing"};t[1]!==void 0&&(Zn.activePaletteIndex=t[1]),t[0].icing!==void 0&&(Zn.cpProperty=t[0].icing),Z=new lt({props:Zn}),oe.push(()=>le(Z,"activePaletteIndex",Wl,t[1])),oe.push(()=>le(Z,"cpProperty",Yl,t[0].icing));function Kl(P){t[17](P)}function Zl(P){t[18](P)}let Qn={legend:"Icing Stroke",area:"icingStroke"};t[1]!==void 0&&(Qn.activePaletteIndex=t[1]),t[0].icingStroke!==void 0&&(Qn.cpProperty=t[0].icingStroke),Ee=new lt({props:Qn}),oe.push(()=>le(Ee,"activePaletteIndex",Kl,t[1])),oe.push(()=>le(Ee,"cpProperty",Zl,t[0].icingStroke));function Ql(P){t[19](P)}function Jl(P){t[20](P)}let Jn={legend:"Decoration",area:"decoration"};t[1]!==void 0&&(Jn.activePaletteIndex=t[1]),t[0].decoration!==void 0&&(Jn.cpProperty=t[0].decoration),Te=new lt({props:Jn}),oe.push(()=>le(Te,"activePaletteIndex",Ql,t[1])),oe.push(()=>le(Te,"cpProperty",Jl,t[0].decoration));function $l(P){t[21](P)}function xl(P){t[22](P)}let $n={legend:"Decoration stroke",area:"decorationStroke"};return t[1]!==void 0&&($n.activePaletteIndex=t[1]),t[0].decorationStroke!==void 0&&($n.cpProperty=t[0].decorationStroke),Pe=new lt({props:$n}),oe.push(()=>le(Pe,"activePaletteIndex",$l,t[1])),oe.push(()=>le(Pe,"cpProperty",xl,t[0].decorationStroke)),{c(){e=T("meta"),n=V(),o=T("section"),l=T("h1"),r=se("Let's bake"),i=V(),a=T("div"),x(s.$$.fragment),h=V(),_=T("div"),d=T("div"),x(f.$$.fragment),E=V(),v=T("div"),x(b.$$.fragment),q=V(),x(R.$$.fragment),U=V(),w=T("div"),x(O.$$.fragment),G=V(),x($.$$.fragment),fe=V(),ve=T("div"),x(H.$$.fragment),ke=V(),x(me.$$.fragment),J=V(),K=T("div"),x(Z.$$.fragment),St=V(),x(Ee.$$.fragment),Lt=V(),Ie=T("div"),x(Te.$$.fragment),Ot=V(),x(Pe.$$.fragment),this.h()},l(P){const ne=ur("svelte-v5swot",document.head);e=C(ne,"META",{name:!0,content:!0}),ne.forEach(k),n=M(P),o=C(P,"SECTION",{class:!0});var gt=I(o);l=C(gt,"H1",{});var xt=I(l);r=ae(xt,"Let's bake"),xt.forEach(k),i=M(gt),a=C(gt,"DIV",{class:!0});var Je=I(a);ie(s.$$.fragment,Je),h=M(Je),_=C(Je,"DIV",{class:!0});var Ce=I(_);d=C(Ce,"DIV",{class:!0});var $e=I(d);ie(f.$$.fragment,$e),E=M($e),v=C($e,"DIV",{class:!0});var xe=I(v);ie(b.$$.fragment,xe),q=M(xe),ie(R.$$.fragment,xe),xe.forEach(k),$e.forEach(k),U=M(Ce),w=C(Ce,"DIV",{class:!0});var et=I(w);ie(O.$$.fragment,et),G=M(et),ie($.$$.fragment,et),et.forEach(k),fe=M(Ce),ve=C(Ce,"DIV",{class:!0});var tt=I(ve);ie(H.$$.fragment,tt),ke=M(tt),ie(me.$$.fragment,tt),tt.forEach(k),J=M(Ce),K=C(Ce,"DIV",{class:!0});var nt=I(K);ie(Z.$$.fragment,nt),St=M(nt),ie(Ee.$$.fragment,nt),nt.forEach(k),Lt=M(Ce),Ie=C(Ce,"DIV",{class:!0});var ot=I(Ie);ie(Te.$$.fragment,ot),Ot=M(ot),ie(Pe.$$.fragment,ot),ot.forEach(k),Ce.forEach(k),Je.forEach(k),gt.forEach(k),this.h()},h(){document.title="Bake a cake",y(e,"name","description"),y(e,"content","Generator & editor for cakes"),y(v,"class","general__group svelte-133i7xi"),y(d,"class","general svelte-133i7xi"),y(w,"class","colorPattern svelte-133i7xi"),y(ve,"class","colorPattern svelte-133i7xi"),y(K,"class","colorPattern svelte-133i7xi"),y(Ie,"class","colorPattern svelte-133i7xi"),y(_,"class","params svelte-133i7xi"),y(a,"class","page__contents svelte-133i7xi"),y(o,"class","svelte-133i7xi")},m(P,ne){g(document.head,e),Y(P,n,ne),Y(P,o,ne),g(o,l),g(l,r),g(o,i),g(o,a),ee(s,a,null),g(a,h),g(a,_),g(_,d),ee(f,d,null),g(d,E),g(d,v),ee(b,v,null),g(v,q),ee(R,v,null),g(_,U),g(_,w),ee(O,w,null),g(w,G),ee($,w,null),g(_,fe),g(_,ve),ee(H,ve,null),g(ve,ke),ee(me,ve,null),g(_,J),g(_,K),ee(Z,K,null),g(K,St),ee(Ee,K,null),g(_,Lt),g(_,Ie),ee(Te,Ie,null),g(Ie,Ot),ee(Pe,Ie,null),hn=!0},p(P,[ne]){const gt={};!u&&ne&1&&(u=!0,gt.cake=P[0],re(()=>u=!1)),s.$set(gt);const xt={};!p&&ne&1&&(p=!0,xt.cake=P[0],re(()=>p=!1)),f.$set(xt);const Je={};!A&&ne&1&&(A=!0,Je.cake=P[0],re(()=>A=!1)),!j&&ne&2&&(j=!0,Je.activePaletteIndex=P[1],re(()=>j=!1)),b.$set(Je);const Ce={};!F&&ne&1&&(F=!0,Ce.cake=P[0],re(()=>F=!1)),R.$set(Ce);const $e={};!m&&ne&2&&(m=!0,$e.activePaletteIndex=P[1],re(()=>m=!1)),!L&&ne&1&&(L=!0,$e.cpProperty=P[0].body,re(()=>L=!1)),O.$set($e);const xe={};!pe&&ne&2&&(pe=!0,xe.activePaletteIndex=P[1],re(()=>pe=!1)),!ge&&ne&1&&(ge=!0,xe.cpProperty=P[0].bodyStroke,re(()=>ge=!1)),$.$set(xe);const et={};!Q&&ne&2&&(Q=!0,et.activePaletteIndex=P[1],re(()=>Q=!1)),!he&&ne&1&&(he=!0,et.cpProperty=P[0].filling,re(()=>he=!1)),H.$set(et);const tt={};!we&&ne&2&&(we=!0,tt.activePaletteIndex=P[1],re(()=>we=!1)),!ue&&ne&1&&(ue=!0,tt.cpProperty=P[0].fillingTop,re(()=>ue=!1)),me.$set(tt);const nt={};!He&&ne&2&&(He=!0,nt.activePaletteIndex=P[1],re(()=>He=!1)),!Ke&&ne&1&&(Ke=!0,nt.cpProperty=P[0].icing,re(()=>Ke=!1)),Z.$set(nt);const ot={};!At&&ne&2&&(At=!0,ot.activePaletteIndex=P[1],re(()=>At=!1)),!Ze&&ne&1&&(Ze=!0,ot.cpProperty=P[0].icingStroke,re(()=>Ze=!1)),Ee.$set(ot);const xn={};!Qe&&ne&2&&(Qe=!0,xn.activePaletteIndex=P[1],re(()=>Qe=!1)),!Dt&&ne&1&&(Dt=!0,xn.cpProperty=P[0].decoration,re(()=>Dt=!1)),Te.$set(xn);const eo={};!Gn&&ne&2&&(Gn=!0,eo.activePaletteIndex=P[1],re(()=>Gn=!1)),!Fn&&ne&1&&(Fn=!0,eo.cpProperty=P[0].decorationStroke,re(()=>Fn=!1)),Pe.$set(eo)},i(P){hn||(N(s.$$.fragment,P),N(f.$$.fragment,P),N(b.$$.fragment,P),N(R.$$.fragment,P),N(O.$$.fragment,P),N($.$$.fragment,P),N(H.$$.fragment,P),N(me.$$.fragment,P),N(Z.$$.fragment,P),N(Ee.$$.fragment,P),N(Te.$$.fragment,P),N(Pe.$$.fragment,P),hn=!0)},o(P){B(s.$$.fragment,P),B(f.$$.fragment,P),B(b.$$.fragment,P),B(R.$$.fragment,P),B(O.$$.fragment,P),B($.$$.fragment,P),B(H.$$.fragment,P),B(me.$$.fragment,P),B(Z.$$.fragment,P),B(Ee.$$.fragment,P),B(Te.$$.fragment,P),B(Pe.$$.fragment,P),hn=!1},d(P){k(e),P&&k(n),P&&k(o),te(s),te(f),te(b),te(R),te(O),te($),te(H),te(me),te(Z),te(Ee),te(Te),te(Pe)}}}function Mi(t,e,n){let o=_r[0],l=vt.findIndex(m=>m=="Retro");function r(m){o=m,n(0,o)}function i(m){o=m,n(0,o)}function a(m){o=m,n(0,o)}function s(m){l=m,n(1,l)}function u(m){o=m,n(0,o)}function h(m){l=m,n(1,l)}function _(m){t.$$.not_equal(o.body,m)&&(o.body=m,n(0,o))}function d(m){l=m,n(1,l)}function f(m){t.$$.not_equal(o.bodyStroke,m)&&(o.bodyStroke=m,n(0,o))}function p(m){l=m,n(1,l)}function E(m){t.$$.not_equal(o.filling,m)&&(o.filling=m,n(0,o))}function v(m){l=m,n(1,l)}function b(m){t.$$.not_equal(o.fillingTop,m)&&(o.fillingTop=m,n(0,o))}function A(m){l=m,n(1,l)}function j(m){t.$$.not_equal(o.icing,m)&&(o.icing=m,n(0,o))}function q(m){l=m,n(1,l)}function R(m){t.$$.not_equal(o.icingStroke,m)&&(o.icingStroke=m,n(0,o))}function F(m){l=m,n(1,l)}function U(m){t.$$.not_equal(o.decoration,m)&&(o.decoration=m,n(0,o))}function w(m){l=m,n(1,l)}function O(m){t.$$.not_equal(o.decorationStroke,m)&&(o.decorationStroke=m,n(0,o))}return[o,l,r,i,a,s,u,h,_,d,f,p,E,v,b,A,j,q,R,F,U,w,O]}class Yi extends qe{constructor(e){super(),Be(this,e,Mi,Vi,Ve,{})}}export{Yi as default};
